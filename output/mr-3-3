

RUST,1;
I,1;
I,1;
I,1;
N,1;
I,1;
N,1;
FOR,1;
FOR
R,1;
S,1;
N,1;
Programming,1;
Developers
b,1;
FranciscoRUST,1;
FOR,1;
©,1;
rights,1;
photocopying,,1;
retrieval
system,,1;
without,1;
owner,1;
24,1;
21
123456789
ISBN-13:,1;
Pollock
Managing,1;
Rachel,1;
Liz,1;
Studios
Technical,1;
Rachel,1;
Happenstance,1;
Sadie,1;
Beth,1;
Nauman-Montana
For,1;
contact,1;
8th,1;
names,1;
trademark,1;
with,1;
name,,1;
names,1;
trademark,1;
with,1;
without,1;
warranty.,1;
taken,1;
neither,1;
nor,1;
with,1;
respect,1;
loss,1;
caused,1;
caused,1;
contained,1;
Gjengset,1;
has,1;
ecosystem,1;
1.0,,1;
from,1;
frequent,1;
ecosystem,,1;
several,1;
popular,1;
crates,,1;
and
inferno.,1;
has,1;
started,1;
programming,1;
that,1;
advanced,1;
pinning,,1;
dynamic,1;
which,1;
some,1;
widely,1;
Designing,1;
4:,1;
Error,1;
Handling,1;
67
Chapter,1;
Testing,1;
Programming,1;
117
Chapter,1;
Unsafe,1;
11:,1;
193
Chapter,1;
Library,1;
Ecosystem,1;
N,1;
N,1;
S,1;
I,1;
N,1;
I,1;
Book,1;
xxii
1
FOUNDATIONS
1
Talking,1;
3
Memory,1;
9
Shared,1;
12
Lifetimes,1;
17
2
TYPES
19
Types,1;
20
Layout,1;
Pointers,1;
Bounds,1;
Bounds,1;
34
Summary,1;
39
Ergonomic,1;
41
Generic,1;
43
Object,1;
Destructors,1;
48
Constrained,1;
50
Type,1;
Contracts,1;
56
4
ERROR,1;
Error,1;
61
Propagating,1;
Configuration,1;
73
Crate,1;
Configuration,1;
Versions,1;
Versions,1;
Testing,1;
Testing,1;
Tools,1;
Testing,1;
102
When,1;
They,1;
Work,1;
110
So,1;
Want,1;
They,1;
115
8
ASYNCHRONOUS,1;
with,1;
Asynchrony?,1;
118
Synchronous,1;
120
Standardized,1;
Polling,1;
134
Waking,1;
Subexecutors,1;
with,1;
unsafe,1;
Pointers,1;
Unsafe,1;
Unsafe,1;
153
What,1;
160
Coping,1;
with,1;
Unsafe,1;
Work,1;
with,1;
169
Concurrency,1;
172
Worker,1;
177
Atomic,1;
178
Compare,1;
184
The,1;
187
Sane,1;
Testing,1;
Tools,1;
INTERFACES
193
Crossing,1;
with,1;
extern,1;
Language,1;
Matching,1;
207
Summary,1;
Out,1;
Library,1;
212
Dynamic,1;
Runtime,1;
Panic,1;
216
The,1;
217
Misuse-Resistant,1;
Abstraction,1;
220
Summary,1;
222
13
THE,1;
Out,1;
There?,1;
Library,1;
Wild,1;
Pointers,1;
Guards,1;
Next?,1;
243
INDEX
245
Contents,1;
your,1;
with,1;
so,1;
that
you,1;
your,1;
you,1;
versus,1;
you,1;
from,1;
making
the,1;
widely,1;
that,1;
authors’,1;
that,1;
simple).,1;
This,1;
teaches,1;
neither,1;
my,1;
that,1;
from,1;
deep,1;
with,1;
I,1;
to
you.,1;
I,1;
coincidence,1;
that,1;
much,1;
all,1;
that,1;
from,1;
the
book,1;
you,1;
that,1;
from,1;
introductory,1;
macro,1;
(Chapter,1;
7),,1;
unsafe,1;
code
(Chapter,1;
that,1;
you,1;
rather,1;
(Chapter,1;
Programming,1;
Book,,1;
https://doc.rust-lang.org/book/),1;
much,1;
that
is,1;
generally,1;
takes,1;
you,1;
your,1;
highly,1;
you,1;
couple,,1;
you,1;
that,1;
I,1;
that,1;
book;,1;
missing,1;
something,,1;
that,1;
you,1;
next,1;
years,1;
that,1;
has,1;
envisioned.,1;
its,1;
ecosystem,1;
goals,1;
was,1;
develop,1;
iteration,1;
I,1;
implemented,1;
basic,1;
I,1;
my,1;
research.,1;
was,1;
that,1;
new-
comers,1;
needed,1;
design,,1;
debugging,,1;
attempt
the,1;
said,1;
that,1;
my,1;
provided,1;
way,1;
learn,1;
“for,1;
real,”,1;
which,1;
was,1;
that,1;
situation.
Some,1;
and
would,1;
rather,1;
particular,1;
how
a,1;
used,,1;
that,1;
helpful.,1;
I,1;
that,1;
which,1;
book.,1;
was,1;
that,1;
into,1;
realized,1;
that,1;
videos,,1;
I,1;
remain,1;
that,1;
way,1;
language,,1;
with,1;
my,1;
writing,1;
that,1;
that,1;
lots,1;
one,1;
which,1;
help,1;
develop,1;
your,1;
Rust
experience,,1;
teaches,1;
you,1;
needs,1;
all,1;
excel,1;
many,1;
many,1;
you,1;
front,1;
my,1;
set,1;
I,1;
that,1;
you,1;
that,1;
we’re,1;
now,1;
that,1;
goal!
xviii
PrefaceACKNOW,1;
LEDGMENT,1;
never,1;
I,1;
knew,1;
expect,1;
from,1;
I,1;
that,1;
writing,1;
writing,1;
extensive,1;
documentation,,1;
writing,1;
I’ve,1;
countless,1;
hours,1;
discarding,,1;
rethinking,,1;
my,1;
many,1;
I,1;
writing,1;
so,1;
much,1;
bleaker.
This,1;
never,1;
without,1;
with,1;
help,1;
my,1;
goes,1;
amazing,1;
watched,1;
my,1;
I,1;
I,1;
without,1;
encouragement,,1;
endless,1;
had,1;
my,1;
was,1;
invaluable,1;
was,1;
that,1;
His,1;
rewrite,1;
sections,,1;
that,1;
them,1;
had,1;
before.The,1;
goes,1;
my,1;
Liz,1;
was,1;
so,1;
journey,1;
book’s
development;,1;
way,1;
I,1;
that,1;
with,1;
whenever,1;
was,1;
explanations.
I’d,1;
remiss,1;
mention,1;
Klabnik,1;
Programming,1;
which,1;
was,1;
my,1;
This,1;
my,1;
much,1;
without,1;
making
the,1;
so,1;
I,1;
has
been,1;
long,1;
from,1;
wanting,1;
that,1;
has,1;
kept,1;
all.,1;
you,1;
with,1;
your,1;
that,1;
drive,1;
I,1;
can.
Thank,1;
you,1;
all!
xx
AcknowledgmentsINTRODUCTION
In,1;
language,,1;
teaches,1;
you,1;
years,1;
you,1;
with,1;
develop,1;
mental,1;
learn,1;
which,1;
together,,1;
you,1;
less,1;
time.
With,1;
years,1;
my,1;
into,1;
single,,1;
picks,1;
up
where,1;
Programming,1;
Language,1;
that,1;
you,1;
This,1;
into,1;
unsafe,1;
embedded,1;
I,1;
these,1;
you,1;
faster,,1;
applications,1;
less,1;
independent,,1;
so,1;
you,1;
directly,1;
that,1;
you,1;
(or,1;
currently,1;
you,1;
headaches),,1;
you,1;
the
book,1;
I,1;
recom-
mend,1;
that,1;
you,1;
many,1;
that,1;
your,1;
breakdown,1;
descriptions,1;
that,1;
with,1;
the
remainder,1;
about
them,,1;
advanced
applications.
Chapter,1;
Designing,1;
that,1;
intui-
tive,,1;
generics,1;
versus,1;
Error,1;
these,1;
focuses,1;
Cargo,1;
configuration,,1;
crate,1;
standard,1;
some,1;
that,1;
fuzzing,1;
performance
testing.
Chapter,1;
procedural,1;
macros,
including,1;
they’re,1;
they’re,1;
some,1;
introduction,1;
then
delves,1;
into,1;
Future,1;
together.
xxii
IntroductionChapter,1;
Unsafe,1;
that,1;
unsafe,1;
that,1;
with,1;
pow-
ers.,1;
learn,1;
unsafe,1;
you,1;
unsafe,1;
so,1;
(but,1;
same),,1;
works
when,1;
you,1;
hardware,,1;
correct,1;
teaches,1;
you,1;
with,1;
other,1;
primitives,1;
all,1;
standard,1;
available,,1;
embedded,1;
other,1;
core,1;
particular,1;
descriptions,1;
staying,1;
other,1;
trivia,1;
I’ve,1;
the
years,1;
that,1;
described,1;
place.
The,1;
has,1;
with,1;
links,1;
from,1;
with,1;
all,1;
that,1;
one,1;
do:
fn,1;
N,1;
DAT,1;
I,1;
N,1;
you,1;
into,1;
advanced,1;
that,1;
you,1;
keywords
and,1;
you,1;
many,1;
Rust’s,1;
exactly,1;
way,1;
that,1;
Specifically,,1;
vari-
ables,1;
differ,,1;
some,1;
that,1;
a
handle,1;
you,1;
with,1;
book.
You,1;
from,1;
you,1;
wish,,1;
you,1;
that,1;
you,1;
less,1;
I,1;
that,1;
you,1;
move,1;
you,1;
with,1;
chapter,,1;
misconceptions,1;
primitives,1;
way,1;
topics,,1;
you,1;
them,1;
all,1;
programming,1;
access,1;
stack,,1;
heap,,1;
segments,
memory-mapped,1;
one,1;
you,1;
choose,1;
particular,1;
has,1;
you,1;
long,1;
you,1;
access,1;
exact,1;
these,1;
so,1;
you,1;
reason,1;
that,1;
worth
covering,1;
Terminology
Before,1;
into,1;
you,1;
value,1;
combi-
nation,1;
that,1;
value,1;
into,1;
its,1;
representation,,1;
you,1;
value,1;
6,1;
its,1;
representation,1;
byte,1;
the
str,1;
"Hello,1;
value,1;
all,1;
its,1;
UTF-8,1;
independent,1;
value,1;
which,1;
This,1;
stack,,1;
heap,,1;
other,1;
value,1;
which,1;
value,1;
value,1;
that,1;
so,1;
access,1;
one,1;
variable,1;
that,1;
1-1,,1;
which,1;
these,1;
elements.
let,1;
42;
let,1;
43;
let,1;
var2,1;
var2,1;
i32),,1;
i32),,1;
of
x,1;
pointer).,1;
x,
y,,1;
var1,,1;
var2,1;
value,1;
independent,1;
that,1;
value,1;
var2,1;
value,1;
change.,1;
particular,
the,1;
value,1;
side,1;
"Hello,1;
world";
Even,1;
value,1;
variable,1;
variable,1;
value,1;
itself.,1;
you,1;
value,1;
point?”,1;
you,1;
that,1;
value,1;
that
in,1;
wide,1;
variable,1;
I,1;
all
that,1;
itself.,1;
you,1;
mental,1;
help,1;
you,1;
reason,1;
really,1;
many,1;
that,1;
them,1;
all,1;
several,1;
divided,1;
into,1;
high-level,1;
low-level,1;
borrows,,1;
low-level,1;
you,1;
unsafe,1;
Model
In,1;
high-level,1;
that,1;
bytes.
Instead,,1;
them,1;
names,1;
you,1;
value,1;
that,1;
value,1;
from,1;
that,1;
you,1;
from,1;
that,1;
variable,1;
which,1;
establishes,1;
value,1;
variable,1;
from,1;
variable,1;
so,1;
long,1;
you
cannot,1;
from,1;
variable,1;
value,1;
has,1;
so,1;
your,1;
many,1;
these,1;
particular,1;
with,1;
that,1;
that,1;
your,1;
all,1;
flows,1;
that,1;
with,1;
other,1;
flows,1;
with,1;
access,1;
that,1;
borrows,1;
value,1;
that
owns,1;
shows,1;
examples,1;
these,1;
x;
//,1;
access,1;
okay,,1;
from,1;
value,1;
establishes,1;
from,1;
from,1;
which,1;
draws,1;
from,1;
that,1;
with,1;
assert_eq!(*y,,1;
flows,1;
that,1;
initialized,,1;
value,1;
This,1;
has,1;
one,1;
from,1;
from,1;
4.,1;
that,1;
other,1;
flows,1;
inspects,1;
that,1;
4.,1;
you,1;
value,1;
rejects,1;
that,1;
was,1;
checked,1;
flows,1;
variable,1;
declared,1;
with,1;
name,1;
one,,1;
variables.,1;
This,1;
shadowing—the,1;
subsequent,1;
has,1;
way,1;
name,1;
This
model,1;
compiler,,1;
your,1;
name,1;
that,1;
variable,1;
“value,1;
slot.”,1;
you,1;
it,,1;
its,1;
value,1;
had,1;
it,,1;
that,1;
empty,,1;
that,1;
variable,1;
its,1;
value,1;
has,1;
moved.,1;
vari-
able,1;
variable’s,1;
to
4
Chapter,1;
its,1;
x:,1;
variable,1;
stack,1;
that,1;
has,1;
value,1;
value,1;
value,1;
that,1;
with,1;
that,1;
memory
will,1;
value,1;
6.,1;
change,1;
x.,1;
you,1;
with,1;
name,,1;
still
end,1;
with,1;
This,1;
matches
the,1;
C++,,1;
many,1;
other,1;
low-level,1;
you,1;
reason,1;
ignore,1;
them,1;
variable,1;
needed,1;
that,1;
variable.
You,1;
that,1;
one,1;
these,1;
your,1;
bet-
ter,1;
I,1;
you,1;
your,1;
around,1;
They,1;
simplifications,,1;
mental,1;
has,1;
you,1;
piece,1;
from,1;
these,1;
you,1;
much,1;
easier,1;
segments,1;
you,1;
that,1;
you,1;
many,1;
all,1;
them,1;
DRAM,1;
your,1;
com-
puter.,1;
you,1;
has,1;
your,1;
stack,,1;
heap,,1;
stack,1;
segment,1;
that,1;
your,1;
bottom
of,1;
stack,1;
function,,1;
frames,1;
all,1;
that,1;
function,,1;
with,1;
its,1;
stack,1;
that,1;
access,1;
them,1;
subsequent,1;
overlaps,1;
with
the,1;
haven’t,1;
con-
tain,1;
that,1;
that,1;
frames,,1;
that,1;
eventually,1;
disappear,,1;
tied,1;
notion,1;
variable,1;
stack,1;
that,1;
goes,1;
so,1;
any
Foundations
5reference,1;
that,1;
long,1;
that,1;
tied,1;
stack,1;
you,1;
value,1;
cur-
rent,1;
frame.,1;
that,1;
value,1;
value,,1;
leave,1;
some,1;
its,1;
stack,1;
value,1;
into,1;
you,1;
send,1;
that,1;
value,1;
a
different,1;
with,1;
which,1;
stack,1;
frames,1;
you,1;
allows,1;
you,1;
segments,1;
you,1;
you,1;
that,1;
segment,1;
reserved,1;
you,1;
you,1;
referred,1;
freeing,,1;
name,1;
standard,1;
you,1;
memory
for,1;
value,1;
one,1;
thread,,1;
that,1;
you,1;
has,1;
lifetime—its,1;
long,1;
your,1;
alive.
The,1;
with,1;
you,1;
value,1;
heap,,1;
and
what,1;
you,1;
that,1;
value,1;
heap.
When,1;
eventually,1;
that,1;
freed.
If,1;
you,1;
around,1;
and
your,1;
eventually,1;
all,1;
your,1;
This
is,1;
you,1;
avoid.,1;
some,1;
you,1;
you,1;
that,1;
access.,1;
that,1;
'static,1;
really,1;
several,1;
your,1;
loaded,1;
into,1;
your,1;
that,1;
execution,1;
your,1;
binary,1;
your,1;
binary,1;
segment,1;
instruction,1;
instruction,1;
around,1;
whenever,1;
the
memory,1;
you,1;
with,1;
your,1;
'static,,1;
which,1;
its,1;
name,1;
from,1;
memory
region,,1;
long,1;
is
6
Chapter,1;
which,1;
down.,1;
variable,1;
'static,,1;
down.,1;
'static,1;
name,1;
with,1;
lifetime,,1;
it
can,1;
long,1;
your,1;
'static,1;
much,1;
you,1;
with,1;
This,1;
'static,1;
shows,1;
trait
bounds,1;
T:,1;
'static,1;
that,1;
type
parameter,1;
long,1;
around,1;
execution,1;
bound
requires,1;
that,1;
owned,1;
that,1;
bor-
row,1;
other,1;
that,1;
anything,1;
'static
and,1;
around,1;
'static,1;
that,1;
which,1;
requires,1;
that,1;
you,1;
outlive,1;
thread,,1;
that,1;
its,1;
lifetime,,1;
which,1;
const,1;
from,1;
static.,1;
const,1;
items,1;
that,1;
them,1;
with,1;
value,1;
dur-
ing,1;
has,1;
other,1;
with,1;
name,1;
particular,1;
centers,1;
that,1;
all,1;
exactly,1;
one,1;
deallocating,1;
This,1;
value,1;
heap,,1;
ownership,1;
from,1;
that,1;
you,1;
lon-
ger,1;
access,1;
value,1;
that,1;
from,1;
owner,
even,1;
that,1;
value,1;
you,1;
access,1;
value,1;
that,1;
its,1;
value,1;
location.,1;
value,1;
remain,1;
accessible.,1;
that,1;
value,1;
primitive,1;
Copy.,1;
bits.,1;
This,1;
all,1;
that,1;
non-,1;
that,1;
owns,1;
dropped.
To,1;
box2,1;
box1,,1;
box2,1;
believe,1;
that
they,1;
owned,1;
went,1;
owner,1;
has,1;
it,,1;
that,1;
value,1;
dropping,1;
variable,1;
that,1;
value,1;
so,1;
variable,1;
many,1;
Rust’s,1;
discrete,1;
ownership,1;
value,1;
times.,1;
variable,1;
that,1;
value,1;
that,1;
other,1;
value,,1;
so,1;
value,1;
variable,1;
rules,1;
around,1;
own-
ership,,1;
move,1;
42;
let,1;
y1,1;
scope
1,1;
goes,1;
from,1;
}
//,1;
value,1;
so,1;
was,1;
into,1;
value,1;
so,1;
was,1;
into,1;
Moving,1;
with,1;
84.,1;
whereas,1;
is
not.,1;
y1,1;
into,1;
into,1;
into,1;
be
used,1;
other,1;
y1,1;
rendered,1;
its,1;
value
has,1;
access,1;
goes,1;
value,1;
value,1;
from,1;
one,1;
from,1;
from,1;
y1,1;
value.
8
Chapter,1;
ORDER
Rust,1;
inner,1;
rules,1;
which,1;
are
fairly,1;
arguments),1;
sense.,1;
you,1;
that,1;
inserts,1;
that,1;
into,1;
table.,1;
whereas,1;
inverse
cannot,1;
Rust’s,1;
rules.,1;
that,1;
reason,,1;
vari-
ables,1;
that,1;
you,1;
that,1;
contained,1;
last,1;
tuples,1;
field,1;
so,1;
drop
order,1;
single
value.,1;
goes,1;
with,1;
Lifetimes
Rust,1;
allows,1;
owner,1;
value,1;
that,1;
value,1;
without
giving,1;
references.,1;
that,1;
used,,1;
access,1;
referenced,1;
value,,1;
value,1;
other,1;
it.
Shared,1;
name,1;
that,1;
other,1;
value,,1;
so,1;
you,1;
trivially,1;
them.
Values,1;
mutable;,1;
you,1;
or
reassign,1;
value,1;
nor,1;
you,1;
one.
The,1;
that,1;
value,1;
change,1;
that,1;
that,1;
value,1;
function,,1;
its,1;
rights,1;
that
value.,1;
More,1;
never,1;
&i32,,1;
i32),1;
that,1;
less,1;
heuristics,1;
change,1;
so,1;
particular,1;
particular,1;
moment
in,1;
time.
Mutable,1;
that,1;
that,1;
other,1;
value,,1;
other,1;
that,1;
exclusive.,1;
This,1;
some,1;
that,1;
readily,1;
other,1;
Take,,1;
&i32,,1;
i32),1;
{
if,1;
{
1,1;
that,1;
that,1;
if-else
block.,1;
in
an,1;
you,1;
you,1;
that,1;
provided,1;
that,1;
This,1;
easier,1;
with,1;
so,1;
42;
let,1;
&x;,1;
referenced,1;
you,1;
change,1;
value,1;
a
different,1;
value,1;
pointer),1;
you,1;
change,1;
value,1;
that,1;
x).,1;
you,1;
change,1;
value,1;
change,1;
itself,1;
reference.
The,1;
value,1;
that,1;
owner,1;
dropping,1;
value,1;
from,1;
you,1;
anything,1;
that,1;
you,1;
you,1;
value,,1;
with,1;
one,1;
caveat:,1;
you
move,1;
value,1;
you,1;
leave,1;
its,1;
you,1;
did,1;
owner,1;
needed,1;
value,,1;
value,1;
which,1;
you,1;
move,1;
Box<i32>),1;
{
//,1;
okay,,1;
was,1;
is:
2,1;
was,1;
std::mem::take(s);
//,1;
so,1;
r);
assert_ne!(*r,,1;
1-7:,1;
leave,1;
value,1;
that,1;
simply,1;
move,1;
value,1;
that,1;
value,1;
leading,1;
leave,1;
some,1;
value,1;
value,,1;
value,1;
from,1;
default
value,1;
its,1;
owned,1;
value,,1;
so,1;
you,1;
value,1;
with,1;
value,1;
that,1;
you,1;
value,1;
later.,1;
you,1;
value,1;
that,1;
you,1;
you,1;
swap,1;
them,1;
with,1;
owned,1;
value,1;
owners,1;
eventually,1;
free.
Foundations
11Interior,1;
provide,1;
you,1;
additional
mechanisms,1;
(like,1;
invariants,1;
provide,1;
without,1;
references.,1;
into,1;
that,1;
you,1;
that,1;
you,1;
value,1;
reference.
The,1;
Mutex,1;
which,1;
con-
tain,1;
safety,1;
value,1;
one,1;
these,1;
all,1;
name,1;
now,1;
you,1;
that,1;
correct,1;
way,1;
reference.
Other,1;
that,1;
provide,1;
inner,1;
value,1;
that,1;
value,1;
types
in,1;
into,1;
directly,1;
type,,1;
its,1;
value,1;
standard,1;
invariants.,1;
shareable,1;
never,1;
value,1;
contained,1;
all,1;
contained,1;
inner,1;
value,,1;
move,1;
shareable,1;
inner,1;
value,1;
never,1;
mutated,1;
with,1;
lifetimes,,1;
from,1;
rules,1;
you,1;
you,1;
into,1;
you,1;
mental,1;
scopes:,1;
you,1;
that,1;
variable,1;
goes,1;
correct,,1;
complex.
A,1;
really,1;
name,1;
that,1;
some,1;
be
valid,1;
frequently,1;
with,1;
Checker
At,1;
some,1;
used,,1;
that,1;
alive.
It,1;
path,1;
that,1;
conflict-
ing,1;
that,1;
This,1;
that,1;
that,1;
access.,1;
This,1;
high-level,1;
with,1;
1-8,1;
shows,1;
with,1;
rand(),1;
0.5,1;
x.,1;
changing,1;
its,1;
value,1;
84,
which,1;
requires,1;
x.,1;
takes,1;
its,1;
was,1;
taken,1;
was,1;
used,,1;
so,1;
code.
This,1;
you,1;
goes,1;
the
borrow,1;
smart,1;
realize,1;
that,1;
never,1;
fine,1;
here.
Or,,1;
into,1;
this
branch:,1;
from,1;
con-
flicting,1;
path,1;
that,1;
so,1;
would
no,1;
last,1;
from,1;
all,1;
last,1;
checked,1;
new
use,1;
r,,1;
you,1;
that,1;
has,1;
intermittently,1;
i,1;
'a
}
println!("{}",,1;
1-9:,1;
x.,1;
move
out,1;
which,1;
move,1;
flows,1;
from,1;
4.,1;
now,1;
around,1;
those
uses,1;
now,1;
value,1;
with,1;
variable,1;
that,1;
from,1;
that,1;
so,1;
that,1;
that,1;
variable,1;
has,1;
conservative.,1;
is
valid,,1;
rejects,1;
it,,1;
needs,1;
This,1;
unsafe,1;
Lifetimes
Occasionally,1;
you,1;
your,1;
Those,1;
so,1;
that,1;
that,1;
This,1;
you,1;
method,1;
your,1;
you,1;
one,1;
allows,1;
you,1;
Programming
Language,1;
Klabnik,1;
Nichols,1;
some,1;
so,1;
I,1;
here.,1;
you,1;
subtleties,1;
around,1;
that,1;
you,1;
your,1;
dropping,1;
your,1;
your,1;
your,1;
that,1;
your,1;
dropping,1;
This
is,1;
your,1;
references.,1;
your
type,1;
dropping,1;
ignore,1;
your,1;
long,1;
anymore,,1;
rules,1;
around,1;
dropping,1;
lifetimes,,1;
so,1;
your,1;
fine,,1;
into,1;
your
type,1;
that,1;
one,1;
lifetime.,1;
really,1;
you,1;
that,1;
that,1;
tied,1;
one,1;
which,1;
you,1;
particular,1;
other,1;
{
delimiter:,1;
str,
}
impl<'s,,1;
str_before(s:,1;
that,1;
needs,1;
you,1;
type,,1;
you,1;
which,1;
you,1;
next,1;
you,1;
into,1;
you,1;
tied,1;
with,1;
variable,1;
code.
Lifetime,1;
that,1;
name,1;
other,1;
be
used,1;
you,1;
that,1;
Animal,,1;
you,1;
that,1;
str.
While,1;
variance,1;
hides,1;
sight,,1;
enough
that,1;
some,1;
unspecified,1;
anything,1;
'static,1;
'static,1;
long,1;
so,1;
('b,1;
'a),,1;
This,1;
variance,,1;
which,1;
defines,1;
other,1;
that,1;
covariant,
invariant,,1;
you,1;
variable,1;
T,,1;
you,1;
value,1;
it,,1;
'a.,1;
is
also,1;
T,,1;
so,1;
you,1;
str>,1;
invariant,,1;
which,1;
means,1;
that,1;
you,1;
provide,1;
takes,1;
you,1;
is
invariant,1;
you,1;
short-lived,1;
which,1;
that,1;
a
Vec<&'static,1;
str>,1;
that,1;
contained,1;
'static!,1;
generally,1;
invariant,1;
invariant,1;
last,1;
they’re,1;
with,1;
This,1;
you,1;
contrast,1;
variance,1;
types
on,1;
with,1;
variance,1;
x:,1;
x:,1;
less,1;
so,1;
less,1;
less,1;
strict,,1;
relationship,1;
that,1;
you,1;
learn,1;
variance,1;
you,1;
with,1;
one,1;
1-11,,1;
which,1;
that,1;
needs,1;
that,1;
differentiate,1;
structure,,1;
did,1;
with,1;
you,1;
1two,1;
with,1;
variable,1;
writing,1;
"world",,1;
that,1;
variable,1;
so,1;
immediately.
At,1;
para­
meter(s),1;
set,1;
lifetimes,,1;
set,1;
to-be-
determined,1;
set,1;
'static,1;
provided,1;
one,1;
that,1;
that,1;
'static.
When,1;
access,1;
it,,1;
shorten,1;
simply,1;
same.,1;
other,1;
shorten,1;
would
also,1;
shorten,1;
'a),,1;
which,1;
invariant,1;
requires,1;
that,1;
with,1;
so,1;
shorten,1;
the
borrow,1;
that,1;
borrowed.,1;
flexibility,1;
imposed,1;
you,1;
that,1;
your,1;
remain,1;
(or,1;
appropri-
ate),1;
many,1;
that,1;
you,1;
cost,1;
cost,1;
of
invariance.
Summary
The,1;
has,1;
establish,1;
I,1;
you,1;
that
you,1;
grasp,1;
Rust’s,1;
ownership,1;
you,1;
from,1;
less,1;
has,1;
you,1;
all,1;
together.,1;
next,1;
chapter,,1;
some,1;
special
type,1;
offers,1;
advanced,1;
that,1;
the
way,,1;
Rust’s,1;
Language,1;
into,1;
ins,1;
bounds,,1;
rules,1;
value,1;
has,1;
many,1;
chapter,,1;
one,1;
you,1;
(writ-
ten,1;
hexadecimal,1;
anything,1;
you,1;
under,1;
that,1;
under,1;
your,1;
goes,1;
representation,1;
that,1;
field,1;
your,1;
your,1;
enum,1;
this
process,1;
you,1;
advanced,1;
these
details,1;
performance,1;
your,1;
representation,1;
notion,1;
which,1;
stored.,1;
representation,1;
has,1;
you,1;
you,1;
that,1;
that,1;
that,1;
bits.,1;
you,1;
value,1;
bit,1;
your,1;
computer’s
memory,,1;
you,1;
way,1;
its,1;
you,1;
byte,1;
0,1;
byte,1;
reason,,1;
all,1;
matter,1;
type,,1;
byte,1;
that,1;
all,1;
byte-aligned—they,1;
that,1;
rules,1;
values
are,1;
(64,1;
with,1;
at
an,1;
8-byte-aligned,1;
This,1;
referred,1;
size.,1;
some,1;
writing,1;
smaller,1;
that,1;
span,1;
boundaries,1;
these,1;
you,1;
that,1;
its
“native”,1;
you,1;
that,1;
middle,1;
not
8-byte-aligned).,1;
from,1;
one,1;
from,1;
results
together.,1;
This,1;
you,1;
with,1;
strange,1;
results
if,1;
from,1;
other,1;
has
happened,1;
after,,1;
that,1;
referred,1;
performance,1;
bad,1;
reason,,1;
many,1;
value,1;
one
whose,1;
its,1;
size.,1;
accesses,1;
generally,1;
provide,1;
them,1;
that’s,1;
that,1;
to
their,1;
so,1;
u32,1;
u64,1;
types—types,1;
that,1;
that,1;
u32,1;
that,1;
you,1;
representation,,1;
few,1;
guarantees
about,1;
lays,1;
which,1;
your,1;
particular,1;
rep-
resentation,1;
that,1;
one,1;
you,1;
you,1;
all,,1;
repr(C).,1;
name,1;
lays,1;
way,1;
that,1;
with,1;
This
is,1;
writing,1;
that,1;
with,1;
other,1;
which,1;
generate,1;
that,1;
other,1;
unsafe,1;
with,1;
into,1;
the
type,,1;
you,1;
that,1;
you,1;
have
the,1;
fields.,1;
representation,1;
which,1;
field,1;
which,1;
guarantees,1;
that,1;
exactly,1;
that,1;
inner,1;
This,1;
with,1;
you,1;
same.,1;
guarantee,1;
that,1;
particular,1;
you,1;
bool,
normal:,1;
u64,
short:,1;
layout.
Types
21First,1;
field,1;
size,1;
bit,1;
terms,1;
byte,1;
representation.,1;
normal,1;
byte,1;
normal,1;
miss,1;
its,1;
rectify,1;
inserts,1;
padding—bytes,1;
with,1;
representation,1;
into,1;
next,1;
value,,1;
byte,1;
into,1;
This,1;
so,1;
long,1;
a
problem,1;
again,,1;
now,1;
into,1;
long,1;
8-byte-aligned,1;
way,1;
so,1;
long,1;
again.,1;
This,1;
last,1;
that,1;
we’ve,1;
gone,1;
all,1;
itself.,1;
which,1;
that,1;
6,1;
size,1;
its,1;
bytes.
Now,1;
did,1;
representation,1;
that,1;
requires,1;
that,1;
all,1;
that,1;
representation,1;
that,1;
with,1;
other,1;
field,1;
that,1;
fields.,1;
all,1;
type,,1;
we’re,1;
now,1;
size.,1;
This,1;
means,1;
fields,1;
now,1;
size,1;
its,1;
This,1;
one,1;
many,1;
guarantees,1;
a
type,1;
memory:,1;
way,1;
type,,1;
that,1;
that,1;
fields.,1;
we’re,1;
that,1;
performance,1;
impact
of,1;
byte,1;
you,1;
of
instances,1;
type,,1;
you,1;
representation,1;
lower-bandwidth,1;
you,1;
your,1;
with
#[repr(packed)].,1;
that,1;
much,1;
your,1;
you,1;
that,1;
arguments.
22
Chapter,1;
you,1;
particular,1;
field,1;
that,1;
that,1;
(like,1;
you,1;
avoid,1;
false,1;
which,1;
can
cause,1;
performance,1;
access,1;
that,1;
update,1;
entry,1;
much,1;
greater,1;
other,1;
with,1;
fields,1;
contained,1;
elements.
Union  Layout,1;
independently,1;
maximum,1;
all,1;
union,,1;
with,1;
one,1;
that,1;
enum,1;
which,1;
enum,1;
size,1;
field,1;
variants.
Dynamically,1;
error,1;
messages.,1;
you,1;
provide,1;
that,1;
did,1;
automatically—
that,1;
size,1;
that’s,1;
you,1;
dyn,1;
[u8],,1;
size.,1;
size,1;
that,1;
com-
pile,1;
which,1;
dyn,1;
your,1;
that,1;
This,1;
size,1;
code,
such,1;
much,1;
dyn,1;
i32),1;
your,1;
access,1;
that,1;
requires,1;
everywhere.,1;
variable,1;
all
be,1;
This,1;
so,1;
that,1;
T:,1;
you,1;
with,1;
T:,1;
(the
?,1;
means,1;
you,1;
with,1;
it,,1;
you,1;
really,1;
your,1;
way,1;
wide,1;
fat,1;
pointer).,1;
wide
pointer,1;
normal,1;
extra,1;
word-sized,1;
that,1;
that,1;
generate,1;
reasonable,1;
with,1;
pointer.,1;
wide
pointer,1;
extra,1;
simply,1;
that,1;
later.,1;
that,1;
wide
pointer,1;
Specifically,,1;
size,1;
size,1;
one,1;
one,1;
extra,1;
needed,1;
wide,1;
which,1;
?Sized.
Traits,1;
piece,1;
Rust’s,1;
that,1;
other,1;
Programming,1;
Language,1;
so,1;
I,1;
that,1;
here.,1;
some,1;
they’re,1;
you,1;
adhere,1;
esoteric,1;
Dispatch
By,1;
you’ve,1;
few,1;
you,1;
what
actually,1;
you,1;
it,,1;
you,1;
method,1;
dyn,1;
you,1;
that,1;
T,,1;
that,1;
you,1;
all,1;
its,1;
all,1;
with,1;
with,1;
HashMap,1;
with,1;
with,1;
and
every,1;
with,1;
bool.
NOTE
24
Chapter,1;
that,1;
you,1;
so,1;
you,1;
never,1;
functions.,1;
which,1;
shows,1;
{
pub,1;
method,1;
method,1;
shorthand,1;
Pattern,1;
needs,1;
execution.,1;
that,1;
that,1;
that,1;
that,1;
one,1;
type,,1;
so,1;
one,1;
type,,1;
with,1;
This,1;
referred,1;
method,,1;
“dispatching,1;
that,1;
generally,1;
anything,1;
that,1;
were,,1;
into,1;
from,1;
many,1;
reason,1;
code
usually,1;
optimizing,1;
your,1;
generics,1;
all!
Each,1;
with,1;
all,1;
method,1;
the
pattern,1;
that,1;
directly,1;
without,1;
The
compiler,1;
has,1;
inline,1;
cost:,1;
all,1;
instantiations,1;
your
type,1;
which,1;
them,1;
its,1;
machine,1;
which,1;
your,1;
instantia-
tions,1;
instruction,1;
less
effective,1;
now,1;
needs,1;
TIONS
Often,,1;
much,1;
method,1;
HashMap::insert.,1;
compute,1;
generated,1;
machine,1;
method,1;
you,1;
method,1;
that,1;
inner,1;
with,1;
that
you,1;
your,1;
with,1;
instead
declare,1;
method,1;
that
you,1;
method,1;
under,1;
dynamic,1;
which,1;
method,1;
without,1;
I,1;
said,1;
that,1;
reason,1;
needed,1;
the
method,1;
was,1;
that,1;
your,1;
method,1;
with,1;
dynamic,1;
simply,1;
tells,1;
Pattern,1;
with,1;
you,1;
that,1;
give
two,1;
practice,,1;
method,1;
table,,1;
all,1;
trait’s,1;
one,1;
which,1;
the
method,1;
method,1;
provided,1;
that,1;
pattern’s,1;
that,1;
This,1;
allows,1;
regardless,1;
use.
NOTE
Every,1;
that,1;
needed,1;
with,1;
you,1;
that,1;
dynamic,1;
dyn
keyword,,1;
had,1;
front,1;
reason,1;
that,1;
size,1;
that,1;
passes,1;
much,1;
set,1;
other,1;
dyn,1;
means,1;
so,1;
size,1;
of).,1;
method,1;
wide,1;
extra,1;
that,1;
wide,1;
dynamic,1;
Box,,1;
2-3,1;
shows,1;
dynamic,1;
{
pub,1;
{
p.is_contained_in(&*self)
}
}
Listing,1;
method,1;
dynamic,1;
that,1;
its,1;
is
known,1;
object.,1;
into,1;
method,1;
cannot
be,1;
into,1;
object.,1;
dyn,1;
it,,1;
return.,1;
Extend,1;
from,1;
standard,1;
which,1;
has,1;
method,1;
that
is,1;
provided,1;
many
instances,1;
you,1;
method,1;
that,1;
took,1;
dyn,1;
there
would,1;
one,1;
entry,1;
examples,1;
that,1;
into,1;
trait’s,1;
which,1;
you,1;
trait
bound,1;
that,1;
that,1;
that,1;
never,1;
dynamic,1;
you,1;
method,1;
that,1;
method,1;
object.,1;
with,1;
your,1;
instruction,1;
from,1;
optimizing,1;
that,1;
dynamic
dispatch,,1;
all,1;
other,1;
side,1;
that
function,1;
method,1;
requires,1;
which,1;
overhead,1;
method,1;
directly.
Types
27When,1;
dynamic,1;
dispatch,
there,1;
clear-cut,1;
your,1;
dynamic,1;
you,1;
your,1;
of
dispatch,1;
you,1;
needs,1;
dynamic,1;
they’re,1;
same,,1;
whereas,1;
you,1;
choose,1;
dynamic,1;
binary,,1;
other,1;
writing,1;
so,1;
no
needs,1;
you,1;
writing.,1;
dis-
patch,1;
allows,1;
you,1;
that,1;
all,1;
marginal,1;
so,1;
one,1;
with,1;
Foo<T>,1;
with,1;
these,1;
apparent,,1;
you,1;
expect,1;
one,1;
type,,1;
rationale,1;
that,1;
significantly
easier,1;
really,1;
whenever,1;
you,1;
all,1;
repeat,1;
This,1;
you,1;
all,1;
change.,1;
type,,1;
which,1;
you,1;
meant,1;
disambiguating,1;
that,1;
you,1;
you,1;
side,1;
your,1;
type,,1;
you,1;
T:,1;
Clone,,1;
precisely,1;
flexibility,1;
that,1;
other,1;
needs,1;
know
only,1;
that,1;
all,1;
one,1;
This,1;
means,1;
all,1;
itself,1;
without,1;
its,1;
all,1;
you,1;
never,1;
with,1;
calling,1;
shown,1;
you,1;
nor,1;
you,1;
with,1;
has,1;
some,1;
rules,1;
you,1;
and
what,1;
you,1;
them,1;
rules,1;
preserve,1;
2coherence,1;
method,,1;
one
correct,1;
which,1;
method,1;
important,,1;
I,1;
my,1;
standard,1;
that,1;
value,1;
my,1;
I,1;
wrote,1;
one,1;
from,1;
standard,1;
standard,1;
that,1;
some,1;
property
ensures,1;
that,1;
never,1;
these,1;
never,1;
these,1;
exactly,1;
one,1;
facile,1;
way,1;
defines,1;
that,1;
one,1;
else
can,1;
way,1;
implement
traits,1;
your,1;
your,1;
included,1;
into,1;
that,1;
you,1;
your,1;
that,1;
crate,1;
that,1;
defines,1;
provide,1;
that,1;
other,1;
popular,1;
rules,1;
that,1;
without,1;
your,1;
some-
thing,1;
that,1;
your,1;
these,1;
terms,1;
crate,1;
dependencies,,1;
forks,1;
you,1;
compiler,,1;
official,1;
that,1;
establishes,1;
that,1;
that,1;
you,1;
your,1;
you,1;
type,,1;
you,1;
you,1;
you,1;
your,1;
you,1;
that,1;
you,1;
allows,1;
you,1;
your,1;
your,1;
implications,,1;
that,1;
you,1;
allows,1;
you,1;
with,1;
MyTrait,1;
T:,1;
so,1;
This,1;
blanket,1;
one,1;
particular,1;
wide,1;
crate,1;
that,1;
defines,1;
blanket,1;
blanket,1;
change.,1;
crate,1;
that,1;
contained,1;
compiling,1;
you,1;
update,1;
that,1;
defines,1;
MyTrait,1;
with,1;
error,1;
so,1;
essential,1;
that,1;
implement
traits,1;
with,1;
#[fundamental],1;
attribute,1;
currently,1;
include,1;
rule,,1;
exist—they,1;
you,1;
rule,,1;
foreign,1;
foreign,1;
from,1;
standard,1;
blanket,1;
implementation
over,1;
some,1;
foreign,1;
type,,1;
which,1;
you,1;
danger,1;
coherence.,1;
This,1;
blanket,1;
standard,1;
standard,1;
name,1;
change,1;
these,1;
that,1;
permits,1;
foreign,1;
under,1;
set,1;
Specifically,,1;
T0,1;
one,1;
Ti,1;
one,1;
T0..Ti,1;
some,1;
some,1;
other,1;
(like,1;
Vec<T>),,1;
&T.,1;
all,1;
valid.
impl<T>,1;
Vec<T>
impl<T>,1;
ForeignTrait<MyType,,1;
foreign,1;
foreign,1;
invalid.
impl<T>,1;
From<MyType<T>>,1;
Vec<T>
impl<T>,1;
2-5:,1;
foreign,1;
foreign,1;
rules,1;
con-
stitutes,1;
change,1;
you,1;
one,1;
type,,1;
that,1;
rules,1;
described,1;
other,1;
that,1;
This,1;
without,1;
rule,,1;
you,1;
crate,1;
altogether,,1;
requires,1;
which,1;
isolation,,1;
standard,1;
with,1;
bounds,,1;
that,1;
a
HashMap,1;
Eq,1;
that,1;
FnOnce,1;
Send,1;
you,1;
include,1;
bounds,,1;
your,1;
with,1;
you,1;
that,1;
you,1;
from,1;
your,1;
trait
bounds,,1;
so,1;
some,1;
T:,1;
some,1;
your,1;
trait
bound,1;
Clone,,1;
io::Error:,1;
This,1;
allows,1;
you,1;
can
save,1;
you,1;
from,1;
repeating,1;
your,1;
HashMap<K,,1;
V,,1;
some,1;
value,1;
writing,1;
T:,1;
you,1;
HashMap<T,,1;
S>:
FromIterator.,1;
This,1;
you,1;
from,1;
exact,1;
you,1;
your,1;
you,1;
your,1;
you,1;
complex.
DERI,1;
TR,1;
#[derive(Trait)],1;
context,1;
one,1;
around,1;
into,1;
Foo<T>,1;
This,1;
you,1;
way,1;
Foo<T>,1;
regardless,1;
Clone,,1;
derived,1;
bounds,,1;
does!,1;
This,1;
issue,,1;
one,1;
Shared,,1;
confused,1;
that,1;
has,1;
tells,1;
them,1;
that,1;
provided,1;
standard,1;
you,1;
you’re
generic,1;
method,1;
that,1;
items,1;
that,1;
items,1;
inner,1;
pro-
duces,,1;
which,1;
I,1;
items,1;
I,1;
you,1;
you,1;
has,1;
name,,1;
itself,1;
you,1;
with,1;
you,1;
that,1;
that,1;
generics,1;
extensively,,1;
you,1;
that,1;
you,1;
that,1;
This,1;
fine,,1;
as
you’ll,1;
that,1;
you,1;
these,1;
references.,1;
some,1;
you,1;
“this,1;
This,1;
in
association,1;
with,1;
traits.,1;
you,1;
over
a,1;
that,1;
takes,1;
you,1;
you,1;
provide,1;
you,1;
really,1;
long,1;
the
32
Chapter,1;
lifetime,,1;
you,1;
that,1;
smart,1;
that,1;
with,1;
which,1;
needed,1;
so,1;
standard,1;
so,1;
all,1;
together,,1;
which,1;
that,1;
whose
elements,1;
Debug.
impl,1;
for<'a>,1;
<&'a,1;
Formatter),1;
An,1;
much,1;
“,1;
you,1;
well.
Marker,1;
denote,1;
that,1;
calling,1;
calling,1;
clone,,1;
all,1;
functional,1;
indicate,1;
Marker,1;
traits
have,1;
you,1;
that,1;
par-
ticular,1;
Send,1;
send,1;
boundar-
ies.,1;
with,1;
has,1;
these,1;
module,,1;
including
Send,,1;
these,1;
them,1;
that,1;
you,1;
that,1;
directly,1;
send,1;
that,1;
requires,1;
that,1;
that,1;
fine,1;
thread,,1;
without,1;
way,1;
that,1;
remember
the,1;
which,1;
all,1;
path,1;
with,1;
seg-
faults,,1;
other,1;
runtime,1;
issues.
Types
33Similar,1;
MyMarker;),1;
that,1;
Marker,1;
marking,1;
particular,1;
state.,1;
you,1;
SshConnection,,1;
which,1;
argument
to,1;
connects,,1;
its,1;
you,1;
provide,1;
method,1;
SshConnection<Authenticated>,,1;
that,1;
you,1;
provide,1;
you,1;
you,1;
that
you,1;
This,1;
closures;,1;
blocks,1;
all,1;
that,1;
you,1;
all,1;
that,1;
much,1;
easier,1;
you,1;
some,1;
name,1;
you,1;
from,1;
from,1;
method,,1;
its,1;
you,1;
into,1;
your,1;
code.
To,1;
Chances
are,,1;
you,1;
with,1;
value,,1;
that,1;
some,1;
that,1;
some,1;
set,1;
nothing,1;
that,1;
Send,1;
Sync,1;
next,1;
that,1;
some,1;
that,1;
signature,,1;
we
leave,1;
that,1;
that,1;
all,1;
you,1;
function,,1;
really,1;
shorthand,1;
that,1;
sugar,1;
ToString>(s:,1;
you,1;
has,1;
that,1;
that,1;
you,1;
you,1;
that,1;
some,1;
provide,1;
mere,1;
you,1;
zero-cost,1;
helper
types,1;
examples,1;
this—you,1;
your,1;
shown,1;
that,1;
left
as,1;
detail.,1;
Not,1;
you,1;
change,1;
that,1;
you,1;
without,1;
break-
ing,1;
has,1;
provided,1;
review,1;
This,1;
background,1;
unsafe,1;
code
in,1;
that,1;
much,1;
from,1;
into,1;
you,1;
which,1;
next,1;
S,1;
I,1;
N,1;
I,1;
N,1;
I,1;
N,1;
FACE,1;
matter,1;
large,1;
has,1;
these,1;
HTTP
endpoint,1;
developer-facing,,1;
library’s,1;
type,,1;
has,1;
its,1;
miniature,1;
that,1;
your,1;
interfaces
with.,1;
your,1;
size,1;
invest,1;
some,1;
into,1;
you,1;
some,1;
writing,1;
inter-
faces,1;
your,1;
other,1;
your,1;
down,1;
your,1;
these,1;
principles,1;
provide,1;
some,1;
writing,1;
usable,1;
highly,1;
you’ve,1;
excellent,1;
you,1;
with,1;
run-through,1;
recommendations,1;
which,1;
you,1;
you,1;
I,1;
you,1;
Cargo,1;
Book,1;
which,1;
for
Rust,1;
well.,1;
your,1;
intuitive
enough,1;
that,1;
has,1;
guess,1;
your,1;
anything,1;
that,1;
core,1;
so,1;
that,1;
way,1;
they’re,1;
That
way,1;
you,1;
figuring,1;
that,1;
actu-
ally,1;
your,1;
you,1;
your,1;
you,1;
help,1;
your,1;
its,1;
from,1;
names,1;
your,1;
types—from,1;
other,1;
method,1;
iter,1;
takes,1;
you,1;
method,1;
takes,1;
some,1;
wrapped,1;
By
reusing,1;
names,1;
you,1;
easier,1;
guess,1;
them,1;
that,1;
your,1;
that,1;
that,1;
name,1;
your,1;
iter,1;
method,1;
takes,1;
expect,1;
They,1;
be
surprised,1;
frustrated,1;
spend,1;
into,1;
from,1;
this
kind,1;
friction,,1;
major,1;
that,1;
“,1;
works.”,1;
They,1;
expect,1;
with,1;
send,1;
anything,1;
thread,,1;
expect,1;
avoid,1;
standard,1;
them,1;
rules,1;
these,1;
foreign,1;
(like,1;
foreign,1;
your,1;
interface.,1;
They,1;
your,1;
in
their,1;
type,,1;
without,1;
access,1;
among,1;
these,1;
standard,1;
prints,1;
way,1;
that,1;
all,1;
derived,1;
simply,1;
your,1;
fmt::Formatter.
Tied,1;
Send,1;
Sync,1;
one,1;
these,1;
that,1;
Send,1;
Mutex,1;
that,1;
that,1;
Sync,1;
expect,1;
that,1;
frustrated,1;
you,1;
these,1;
traits.,1;
your,1;
that,1;
reason,1;
documented!
The,1;
next,1;
set,1;
you,1;
derived,1;
implemented,1;
your,1;
these,1;
your,1;
documentation,,1;
expect
to,1;
down,1;
expected,1;
PartialEq,,1;
some,1;
your,1;
that,1;
compare,1;
with,1;
your,1;
compare,1;
type,,1;
your,1;
you,1;
them,1;
This,1;
set,1;
these,1;
Eq,1;
Ord,1;
with,1;
comparison,1;
documented,1;
you,1;
them,1;
your,1;
crate’s
Serialize,1;
Deserialize,1;
traits.,1;
crate,1;
with,1;
serialization
for,1;
one,1;
field,1;
enum,1;
required,1;
provide,1;
that,1;
into,1;
I,1;
haven’t,1;
included,1;
section.,1;
that,1;
set,1;
from,1;
other,1;
that,1;
generally,1;
expect,1;
expect,1;
that,1;
type,,1;
which,1;
user.,1;
This,1;
highly,1;
restricted.,1;
that,1;
up
having,1;
some,1;
other,1;
non-,1;
Should,1;
that,1;
you,1;
that’s,1;
backward,1;
change.,1;
you,1;
so,1;
that’s,1;
less,1;
Implementations
Rust,1;
that
implement,1;
traits.,1;
phrase,1;
you,1;
generally,1;
Trait>(t:,1;
with,1;
This,1;
Trait
may,1;
that,1;
which,1;
&Bar.,1;
that,1;
has,1;
reason,,1;
you,1;
blanket,1;
that,1;
T:
Trait,,1;
T:,1;
T:,1;
some,1;
these,1;
standard,1;
precisely,1;
that,1;
fewer,1;
add
trait,1;
that,1;
&MyType,1;
This,1;
with,1;
your,1;
Types
Rust,1;
sense.,1;
its,1;
provide,1;
you,1;
value,1;
some
type,1;
calling,1;
them,1;
directly,1;
value,1;
T:,1;
generally,1;
you,1;
provide,1;
relatively,1;
wrapper,1;
(like,1;
a
good,1;
so,1;
that,1;
methods
on,1;
inner,1;
inner,1;
potentially,1;
slow,1;
you,1;
which,1;
allows,1;
&WrapperType
as,1;
wrapper,1;
you,1;
implement
From<InnerType>,1;
so,1;
that,1;
your,1;
your,1;
wrapping.
You,1;
which,1;
similar
to,1;
really,1;
bit,1;
Specifically,,1;
much,1;
instead.,1;
allows,1;
with,1;
that,1;
without,1;
that,1;
has,1;
blanket,1;
T,,1;
T,,1;
which,1;
owned,1;
referenced,1;
your,1;
type,,1;
whereas,1;
imple-
mented,1;
widely,1;
anything,1;
your,1;
around,1;
surprising
when,1;
that,1;
self.,1;
value,1;
reason,,1;
that,1;
you,1;
inner,1;
that,1;
avoid,1;
inherent,1;
fine,1;
method,1;
you,1;
that,1;
method,1;
type,,1;
inherent,1;
method,1;
that,1;
type,,1;
In
these,1;
be
used,1;
piece,1;
you,1;
implicitly,1;
set,1;
set,1;
used,,1;
the
Designing,1;
guarantees,1;
you,1;
avoid,1;
you,1;
keep.,1;
major,1;
change,1;
promises,,1;
backward,1;
and
argument,1;
compare,1;
3-1.
fn,1;
frobnicate3(s:,1;
AsRef<str>),1;
AsRef<str>
Listing,1;
with,1;
all,1;
so,1;
under,1;
requires,1;
type,,1;
that,1;
owned,1;
Since
the,1;
requires,1;
requires,1;
an
owned,1;
allocation-free,1;
provide,1;
so,1;
needs,1;
owned,1;
needs,1;
that,1;
function
will,1;
which,1;
means,1;
that,1;
change,1;
other,1;
representation,1;
later.,1;
spe-
cifically,1;
provide,1;
so,1;
dereference,1;
lifts,1;
these,1;
restrictions.,1;
requires,1;
that,1;
that,1;
value,1;
these,1;
you,1;
function,,1;
you,1;
avoid,1;
extra,1;
you,1;
owned,1;
was,1;
with,1;
choice.,1;
you,1;
from,1;
that,1;
you,1;
your,1;
you,1;
changing,1;
disruptive.
In,1;
remainder,1;
I,1;
examples,1;
that,1;
your,1;
your,1;
provide,1;
your,1;
your,1;
takes,1;
you,1;
way,1;
around,1;
off,1;
generics,1;
rather,1;
that,1;
your,1;
particular,1;
Changing,1;
way,1;
way,1;
with,1;
with,1;
add.
However,,1;
taken,1;
approach,1;
its,1;
type,,1;
which,1;
rules,1;
exactly
when,1;
you,1;
so,1;
other,1;
frequently,1;
use
instead,1;
you,1;
started,1;
from,1;
that,1;
with,1;
mono-
morphization.,1;
that,1;
lots,1;
you,1;
your,1;
you,1;
dynamic,1;
negligible,1;
performance,1;
cost,,1;
that,1;
that,1;
you,1;
that,1;
dyn,1;
that,1;
you,1;
wide,1;
you,1;
with,1;
one,1;
that,1;
dynamic,1;
you,1;
you,1;
few,1;
you,1;
your,1;
users,
who,1;
dynamic,1;
you,1;
that,1;
dynamic,1;
never,1;
that
may,1;
your,1;
in
their,1;
application,,1;
dynamic,1;
that,1;
deal,1;
dynamic,1;
you,1;
T:,1;
bounds,,1;
dynamic,1;
so,1;
you,1;
take,
say,,1;
that,1;
with,1;
choose,1;
dynamic,1;
passing,1;
you,1;
object,,1;
that,1;
your,1;
off,1;
with,1;
and
then,1;
them,1;
This,1;
backward,1;
you,1;
change,1;
from,1;
with,1;
foo(&iter.collect()).,1;
that,1;
into,1;
now,1;
needs,1;
into,1;
some,1;
that,1;
And
there,1;
so,1;
with,1;
code
will,1;
you,1;
that,1;
“Compilation,1;
trait’s,1;
your,1;
dyn,1;
disallow,1;
dyn,1;
that,1;
that,1;
cost,1;
ergonom-
ics,1;
them,1;
&str),,1;
your,1;
traits.,1;
your,1;
its,1;
its,1;
dynamic,1;
preserve,1;
safety,1;
you,1;
trait
bound,1;
that,1;
method,,1;
which,1;
method,1;
dyn,1;
which,1;
provide,1;
some,1;
many,1;
preserve,1;
is
that,1;
you,1;
your,1;
used,,1;
sense
for,1;
object.,1;
you,1;
that,1;
users
will,1;
many,1;
your,1;
together,,1;
you,1;
harder,1;
provide,1;
safety,1;
you,1;
that,1;
much,1;
sense.,1;
dynamic,1;
its,1;
one,1;
method,1;
its,1;
own,,1;
you,1;
with,1;
without,1;
TR,1;
that,1;
object,,1;
with,1;
that,1;
that,1;
offers,1;
dropping,1;
concur-
rent,1;
that,1;
nothing,1;
else.,1;
Interestingly,1;
Drop
doesn’t,1;
needs,1;
dyn,1;
that,1;
safety,1;
your,1;
you,1;
backward,1;
method,1;
with,1;
you,1;
your,1;
major,1;
Owned
For,1;
function,,1;
you,1;
own,,1;
decision,1;
you,1;
performance,1;
your,1;
these,1;
themselves.
If,1;
you,1;
needs,1;
ownership,1;
that,1;
move,1;
owned,1;
data.,1;
your,1;
generally,1;
provide,1;
owned,1;
This,1;
cost,1;
other,1;
your,1;
instead.,1;
with,1;
which,1;
directly,1;
all,1;
less,1;
you,1;
your,1;
ownership,1;
byte,1;
that,1;
it
contains,1;
UTF-8,1;
you,1;
lets
you,1;
owned,1;
value,1;
necessary.
Other,1;
so
much,1;
that,1;
your,1;
your,1;
that’s,1;
that,1;
unnecessarily),1;
ownership,1;
data.,1;
you,1;
with,1;
that,1;
anything,1;
you,1;
they’re,1;
dropped.
This,1;
include,1;
disk,,1;
gracefully,1;
terminat-
ing,1;
hosts.,1;
natural,1;
Unfortunately,,1;
value,1;
dropped,
we,1;
way,1;
pending.,1;
way,1;
executor,,1;
that,1;
with,1;
its,1;
problems,,1;
these,1;
problems,,1;
matter,1;
some,1;
applications,1;
that,1;
reason,,1;
provide,1;
Drop.,1;
errors,,1;
swallow,1;
error,1;
move,1;
an
executor,1;
available,,1;
did,1;
provide,1;
leave,1;
loose,1;
destruc-
tor.,1;
This,1;
takes,1;
method,1;
that,1;
takes,1;
ownership,1;
that,1;
inherent,1;
gracefully,1;
down,1;
you,1;
your,1;
you,1;
you,1;
into,1;
your,1;
move,1;
that,1;
fields,1;
This
is,1;
Drop::drop,1;
your,1;
takes,1;
which,1;
requires,1;
that,1;
has,1;
moved.
Second,,1;
takes,1;
so,1;
your,1;
cannot
simply,1;
your,1;
ignore,1;
its,1;
around,1;
these,1;
problems,,1;
of
which,1;
perfect.
The,1;
your,1;
wrapper,1;
around
an,1;
which,1;
some,1;
inner,1;
that,1;
all,1;
Option::take,1;
inner,1;
has,1;
inner,1;
you,1;
ownership,1;
fields,1;
downside,1;
approach,1;
that,1;
all,1;
you
wish,1;
provide,1;
now,1;
include,1;
you,1;
has,1;
yet,1;
fields,1;
inner,1;
your,1;
fields,1;
replacing,1;
with,1;
Option::take,1;
you,1;
with,1;
many,1;
other,1;
well.,1;
you,1;
HashMap,1;
simply,1;
replacing,1;
them,1;
with,1;
your,1;
here.,1;
This,1;
approach,1;
your,1;
you,1;
field,1;
access,1;
with,1;
unwrap.
The,1;
type,,1;
inner,1;
type,,1;
so,1;
ownership,1;
downside,1;
approach,1;
that,1;
safety,1;
that,1;
you,1;
you’ve,1;
that,1;
you,1;
times.,1;
you,1;
your,1;
bad,1;
you,1;
choose,1;
these,1;
I,1;
side,1;
with,1;
others,1;
you,1;
excellent,1;
that,1;
you,1;
eas-
ily,1;
safety,1;
your,1;
you,1;
your,1;
some,1;
with,1;
your,1;
all,1;
its,1;
limitations.,1;
They,1;
that,1;
never,1;
that,1;
unsafe,1;
method,1;
one,1;
has,1;
that,1;
strange,1;
criti-
cal,1;
you,1;
your,1;
inter-
face,1;
them,1;
incorrectly.,1;
your,1;
your,1;
so,1;
naming,1;
method,1;
its,1;
your,1;
docu-
mentation.,1;
I,1;
here.
First,,1;
your,1;
what’s
dictated,1;
your,1;
panic,,1;
that,1;
panic,1;
your,1;
which,1;
unsafe,1;
guarantee,1;
include,1;
end-to-end,1;
examples,1;
your,1;
examples,1;
specific
types,1;
high-level,1;
interface’s,1;
realize,1;
particular,1;
examples,1;
usage,,1;
This,1;
“learning,1;
them,1;
from,1;
examples,1;
that,1;
len,1;
method,1;
anything,1;
your,1;
code.
Third,,1;
your,1;
documentation.,1;
Having,1;
all,1;
your,1;
together
semantically,1;
links,1;
that,1;
you,1;
less,1;
miss,1;
marking,1;
your,1;
that,1;
needed,1;
with,1;
so,1;
that,1;
your,1;
enrich,1;
your,1;
wherever,1;
Link,1;
that,1;
your,1;
that,1;
explanations,1;
posts,,1;
items,1;
that,1;
under,1;
con-
figurations,1;
so,1;
some,1;
method,1;
that’s,1;
under,1;
other,1;
names,1;
that,1;
them,1;
documentation,,1;
excellent,1;
that,1;
your,1;
several,1;
that,1;
your,1;
that,1;
these,1;
which,1;
you,1;
value,,1;
its,1;
primitive,1;
your,1;
takes,1;
some,1;
realize,1;
after
something,1;
has,1;
gone,1;
other,1;
takes,1;
enum,1;
without,1;
them:,1;
that,1;
simply,1;
nor,1;
typ-
ing,1;
well.,1;
around,1;
numeric
type,1;
provide,1;
contained,1;
value,,1;
that,1;
technique,1;
indicate,1;
that,1;
a
particular,1;
a
type,1;
that,1;
matter,1;
some,1;
particular,1;
has,1;
has
not,1;
yet,1;
these,1;
enum,1;
all,1;
the
methods,1;
stage,,1;
shown,1;
so,1;
Grounded>,1;
Default,1;
{
pub,1;
}
}
4,1;
{
pub,1;
}
pub,1;
{
pub,1;
}
pub,1;
3-2:,1;
stage,1;
1.,1;
guarantee,1;
that,1;
blocks,1;
particular,1;
the
Designing,1;
you,1;
from,1;
has,1;
launched,1;
you,1;
its,1;
velocity,1;
some,1;
you,1;
with,1;
matter,1;
what
state,1;
that,1;
with,1;
designed,1;
simply,1;
method,1;
states,1;
notion,1;
many,1;
other,1;
your,1;
true,,1;
instead.,1;
enum,1;
false,1;
pointer),1;
one,1;
that,1;
neither,1;
nor,1;
This,1;
that,1;
I,1;
highly,1;
type,,1;
function,,1;
user’s,1;
that,1;
that,1;
function,,1;
context,1;
you,1;
its,1;
value,1;
somewhere,,1;
you,1;
care-
ful,1;
overuse,1;
annotation,,1;
some,1;
your,1;
This,1;
you,1;
your,1;
you,1;
you,1;
changes.,1;
type,,1;
method,,1;
changing,1;
you,1;
that,1;
change,1;
that,1;
you,1;
that,1;
change,1;
around,1;
backward,1;
(major,1;
ire,1;
your,1;
backward,1;
method,,1;
some,1;
with,1;
way,1;
some,1;
that,1;
you,1;
some,1;
these,1;
you,1;
your,1;
some,1;
user’s
code.,1;
Rust’s,1;
pub(in,1;
whenever,1;
fewer,1;
you,1;
you,1;
change,1;
your,1;
name,
though.,1;
your,1;
An,1;
you,1;
field,1;
field,1;
you,1;
change,1;
has,1;
disappeared.,1;
your,1;
Unit,1;
};
//,1;
Unit,1;
field,1;
Unit,1;
Rust’s,1;
that,1;
that,1;
access,1;
rejects,1;
struct
into,1;
with,1;
fields,1;
same,,1;
attribute,1;
help,1;
(like,1;
non­
exhaustive,1;
without,1;
This,1;
attribute,1;
you,1;
that,1;
particular,1;
constrain,1;
avoid,1;
you,1;
remain,1;
from,1;
Rust’s,1;
rules,1;
disallow,1;
blanket
implementation,1;
generally,1;
change.,1;
The
same,1;
foreign,1;
type,,1;
or
an,1;
foreign,1;
owner,1;
so,1;
never,1;
crate,1;
that,1;
with,1;
that,1;
counterintuitively,,1;
you,1;
1.0
pub,1;
}
//,1;
that,1;
implemented,1;
Unit
//,1;
Foo1};
trait,1;
Unit,1;
{
Unit.foo();
}
Listing,1;
3-5:,1;
you,1;
Unit,1;
without,1;
marking,1;
breaking
change,,1;
compiling,1;
now,1;
This,1;
crate,1;
You
will,1;
you,1;
provide,1;
prelude,1;
you,1;
as
changing,1;
method,1;
Changing,1;
all,1;
many,1;
uses,,1;
method,1;
“,1;
all,1;
method,1;
with,1;
fine,1;
authors,,1;
that,1;
some,1;
these,1;
traits.,1;
one,1;
that,1;
other,1;
non-­breaking.,1;
you,1;
method,1;
you,1;
crate,1;
foreign,1;
you,1;
foreign,1;
crate,1;
that,1;
that,1;
derived,1;
blanket,1;
that,1;
particular,1;
your,1;
which,1;
from,1;
types.
Listing,1;
3-6,1;
shows,1;
crate.
pub,1;
CanUseCannotImplement:,1;
sealed::Sealed,1;
{
pub,1;
T:,1;
T:,1;
{}
Listing,1;
trick,1;
you
wish,1;
1.,1;
module,,1;
other,1;
can-
not,1;
requires,1;
so,1;
that,1;
you,1;
you,1;
that,1;
so,1;
that,1;
frustrated,1;
trying,1;
you,1;
one,1;
your,1;
your,1;
subtle,1;
your,1;
foreign,1;
change,1;
foreign,1;
change,1;
your,1;
interface.,1;
you,1;
move,1;
major,1;
expose,1;
from,1;
that,1;
as,,1;
that,1;
your,1;
that,1;
expect,1;
that,1;
your,1;
one,1;
name,1;
that,1;
dependency.,1;
you,1;
major,1;
your,1;
that,1;
name,1;
same.,1;
shows,1;
your,1;
itercrate::Empty<T>,1;
}
//,1;
bestiter::iter(),1;
3-7:,1;
foreign,1;
your,1;
contract.
Designing,1;
Interfaces
53If,1;
your,1;
crate,1;
from,1;
itercrate,1;
itercrate,1;
2.0,1;
listing,1;
Even,1;
that,1;
you,1;
change,1;
your,1;
foreign,1;
expose,1;
foreign,1;
you,1;
many,1;
you,1;
avoid,1;
provide,1;
caller.,1;
you,1;
fewer,1;
SEM,1;
itercrate,1;
rubbed,1;
you,1;
anything,1;
that,1;
regardless,1;
2.0,1;
down,1;
that,1;
that,1;
that,1;
itercrate,1;
2.0,1;
has,1;
move,1;
you,1;
with,1;
with,1;
large,,1;
widely,1;
crate,1;
change,1;
change,1;
all,1;
lost.,1;
few,1;
years,1;
serde,
among,1;
other,1;
came,1;
with,1;
trick,1;
exactly,1;
semver,1;
some,1;
change,1;
you,1;
2.0,1;
with,1;
from,1;
ensuring,1;
that,1;
major,1;
means,1;
that,1;
crate,1;
that,1;
from,1;
you,1;
into,1;
with,1;
that,1;
fact
breaking,1;
has,1;
handful,1;
that,1;
implemented,1;
every
type,1;
that,1;
these,1;
for
this,1;
discussion,1;
Send,1;
these,1;
promise
made,1;
your,1;
interface.,1;
Trait.
Implementations,1;
these,1;
compiler,,1;
that,1;
means,1;
that,1;
if
they,1;
you,1;
that,1;
private
type,1;
you,1;
change,1;
so,1;
that,1;
Send,,1;
now,1;
change!
These,1;
track,1;
your,1;
that,1;
these,1;
your,1;
test,1;
suite,1;
that,1;
that,1;
all,1;
your,1;
way,1;
you,1;
Send,1;
Sync,1;
Unpin>(),1;
{}
#[test]
fn,1;
{
is_normal::<MyType>();
}
Listing,1;
Testing,1;
that,1;
set,1;
that,1;
test,1;
simply,1;
that,1;
the
code,1;
test,1;
not
compile,,1;
you,1;
that,1;
change,1;
you,1;
attribute,1;
you,1;
hide,1;
from,1;
your,1;
documenta-
tion,1;
without,1;
that,1;
This
is,1;
expose,1;
that,1;
needed,1;
not
by,1;
items,1;
with,1;
your,1;
some,1;
items,1;
your,1;
type,,1;
that,1;
contract,,1;
whereas,1;
its,1;
name,1;
Hidden,1;
inherent,1;
generally,1;
your,1;
inter-
face,1;
contract,,1;
you,1;
documen-
tation,1;
items,1;
we’ve,1;
explored,1;
many,1;
bound-
ary,1;
your,1;
of
specific,1;
tricks,,1;
high-level,1;
principles,1;
what
should,1;
your,1;
your,1;
flex-
ible,,1;
next,1;
chapter,,1;
dig,1;
into,1;
code.
56
Chapter,1;
all,1;
you,1;
that,1;
advantages,1;
drawbacks,1;
errors,,1;
error,1;
that,1;
technique.,1;
error,1;
that,1;
error,1;
yet,1;
single,,1;
This,1;
principles,1;
rather,1;
recommend-
ing,1;
you,1;
that,1;
your,1;
with,1;
exactly,1;
which,1;
error,1;
simply,1;
that,1;
error,1;
move,1;
This,1;
you,1;
your,1;
error,1;
so,1;
that,1;
distinguish,1;
you,1;
provide,1;
with,1;
single,,1;
these,1;
that,1;
from,1;
stream,1;
into,1;
some,1;
stream,,1;
much,1;
you,1;
with,1;
one,1;
from,1;
one,1;
from,1;
one,1;
stream,1;
which,1;
has,1;
error,1;
user.,1;
was,1;
stream,1;
stream,1;
that,1;
error,1;
stream,1;
was,1;
whereas,1;
error,1;
that,1;
distinguish,1;
error,1;
so,1;
that,1;
so,1;
enum,1;
CopyError,,1;
with,1;
enum,1;
CopyError,1;
An,1;
error,1;
type
Each,1;
error,1;
that,1;
was,1;
with,1;
much,1;
went,1;
your,1;
error,1;
type,,1;
you,1;
error,1;
with,1;
your
error,1;
which,1;
with,1;
error,1;
method,1;
which,1;
underlying
cause,1;
This,1;
that,1;
all,1;
way,1;
CopyError,1;
straightforward:,1;
inner,1;
your,1;
so,1;
that,1;
your,1;
This,1;
required,1;
you,1;
the
Error,1;
your,1;
went,1;
that,1;
into,1;
other,1;
error,1;
without,1;
punctua-
tion,1;
so,1;
that,1;
into,1;
error,1;
error,1;
auxiliary,1;
that,1;
useful
in,1;
down,1;
filepaths,,1;
which,1;
you,1;
method,,1;
deprecated,1;
your,1;
Send,1;
Sync,1;
error,1;
your,1;
you,1;
that,1;
Error,1;
that,1;
Send,1;
much,1;
easier,1;
with,1;
type,,1;
that,1;
Send,,1;
Send,1;
they’re,1;
tied,1;
that’s,1;
boundaries,1;
you,1;
your,1;
your,1;
error,1;
that,1;
allows,1;
propagate
your,1;
error,1;
stack,1;
without,1;
into,1;
also
enables,1;
your,1;
error,1;
with,1;
error,1;
example:,1;
you,1;
access,1;
needs,1;
issue,,1;
so,1;
size,1;
field,1;
compression,1;
decompress
a,1;
recover,1;
exact,1;
you,1;
provide,1;
single,,1;
error,1;
type.
This,1;
your,1;
one
error,1;
everywhere.,1;
This,1;
error,1;
Send,,1;
Error,1;
method,1;
anything,1;
error,1;
states,,1;
expose,1;
so,1;
size,1;
your,1;
your,1;
error,1;
with,1;
all,1;
fields,1;
that,1;
error,1;
Box<dyn,1;
Error,1;
Send,1;
Sync,1;
nothing,1;
that,1;
error,1;
your,1;
all.,1;
your
error,1;
matter,1;
anything,1;
error,1;
its,1;
Box<dyn,1;
you,1;
leave,1;
with,1;
your,1;
fine,1;
has,1;
value,1;
dynamic,1;
error,1;
one,1;
large,1;
from,1;
your,1;
error,1;
has,1;
some,1;
inter-
esting,1;
it,,1;
you,1;
that,1;
community,1;
that,1;
rare,1;
much,1;
cost,1;
that,1;
reason,,1;
type,,1;
This,1;
they’re,1;
much,1;
they’re,1;
contained,1;
that,1;
allows,1;
you,1;
easily
combine,1;
from,1;
without,1;
error,1;
set,1;
you,1;
whose
return,1;
Box<dyn,1;
Error,1;
you,1;
that,1;
function,,1;
all,1;
errors,,1;
all
be,1;
into,1;
that,1;
one,1;
error,1;
'static,1;
Box<dyn,1;
Error,1;
Send,1;
Sync,1;
bit,1;
context,1;
I,1;
that,1;
method,1;
that,1;
access,1;
downcasting.,1;
one,1;
type.
This,1;
one,1;
few,1;
you,1;
access,1;
that,1;
context,1;
errors,,1;
allows,1;
dyn,1;
Error,1;
into,1;
error,1;
that,1;
dyn,1;
Error,1;
that,1;
error,1;
was,1;
that,1;
other,1;
dyn,1;
downcast,1;
into,1;
std::io::Error.,1;
method,1;
downcast,1;
Error,1;
that’s,1;
'static,,1;
user’s,1;
some,1;
ecosystem,1;
(or,1;
its,1;
method,1;
your,1;
Box<dyn,1;
changing,1;
change?,1;
that,1;
that,1;
downcast,1;
that,1;
error,1;
into,1;
lib::MyError.,1;
matter,1;
that
you,1;
Box<dyn,1;
reason,,1;
that,1;
guarantee,1;
anything,1;
Box<dyn,1;
Error,1;
error,1;
type,,1;
itself,1;
your,1;
that,1;
does
it,1;
provided,1;
dyn,1;
Error,1;
standard,1;
has,1;
that,1;
implemented,1;
type,,1;
which,1;
dyn,1;
allows,1;
you,1;
Error,1;
provided,1;
method,1;
is
to,1;
has,1;
blanket,1;
implementation
of,1;
T,,1;
that,1;
its,1;
context,1;
these,1;
all,1;
self.type_id,,1;
which,1;
that,1;
identifier
of,1;
provided,1;
downcast,1;
match,,1;
dyn,1;
really,1;
T,,1;
from,1;
one,1;
other.
Special,1;
Error,1;
error,1;
these,1;
you,1;
instead.,1;
legitimate,1;
function,,1;
you,1;
avoid,1;
“simplify-
ing”,1;
An,1;
that,1;
other,1;
that,1;
has,1;
nothing,1;
that,1;
handled.,1;
annotation,1;
you,1;
that,1;
whereas,1;
with,1;
neither,1;
needs,1;
that,1;
Error,1;
This,1;
into,1;
Box<dyn,1;
bit,1;
reason,,1;
your,1;
type,,1;
Error,1;
it,,1;
that,1;
error,1;
these,1;
that,1;
error,1;
never,1;
error,1;
with,1;
never,1;
value,1;
that,1;
way,1;
one,1;
handful,1;
other,1;
that,1;
you,1;
that,1;
you,1;
used,,1;
you,1;
set,1;
you,1;
that,1;
you,1;
way,1;
do
so,1;
that,1;
never,1;
return.,1;
with,1;
never,1;
your,1;
that,1;
panic,1;
unwrap,1;
you,1;
match,,1;
that,1;
that,1;
last,1;
error,1;
error,1;
definition:
type,1;
Result<T>,1;
Box<dyn,1;
Send,1;
error,1;
type-erased,,1;
into,1;
dyn,1;
Error,1;
so,1;
dyn,1;
which,1;
guarantees,1;
that,1;
some,1;
type,,1;
nothing,1;
which,1;
much,1;
all.,1;
reason,1;
curious-looking,1;
error,1;
that,1;
error,1;
you,1;
join,1;
that,1;
has,1;
that,1;
much,1;
other,1;
ignore,1;
panic,1;
itself,1;
essence,,1;
error,1;
value,1;
was,1;
which,1;
acts,1;
shorthand,1;
unwrap,1;
with,1;
has,1;
few,1;
other,1;
its,1;
that,1;
that,1;
E>,,1;
you,1;
X>,1;
From<X>.,1;
This,1;
that,1;
error,1;
Box<dyn,1;
you,1;
error,1;
type,,1;
“,1;
work.”
62
Chapter,1;
standard,1;
has,1;
many,1;
core,1;
you,1;
two:,1;
Into,,1;
versa?,1;
reasons,,1;
one:,1;
one,1;
rules,1;
rules,1;
you,1;
you,1;
your,1;
crate,1;
some,1;
impl<T>
Into<Vec<T>>,1;
you,1;
had,1;
From<MyType<T>>,1;
rules,,1;
Before,1;
that,1;
traits.,1;
much,1;
was,1;
neither,1;
removed,1;
now.
Beyond,1;
that,1;
these,1;
from,1;
easier,1;
one,1;
other,1;
writing,1;
method,1;
that,1;
takes,1;
that,1;
into,1;
you,1;
rather,1;
fn<T>(T),1;
into,1;
you,1;
rather,1;
these,1;
traits
have,1;
uses,,1;
we’re,1;
off,1;
them,1;
that,1;
you,1;
which,1;
you,1;
answer,,1;
reason,1;
that,1;
has,1;
blanket,1;
that,1;
so,1;
regardless,1;
Into,,1;
frequently,1;
has,1;
blanket,1;
some,1;
smart,1;
that,1;
puzzle,1;
writing,1;
that,1;
error,1;
from,1;
that,1;
with,1;
which,1;
that,1;
it's,1;
that,1;
really,1;
sugar,1;
Try
trait,1;
has,1;
yet,1;
you,1;
that
it,,1;
all,1;
you,1;
rather,1;
method,1;
its,1;
defines,1;
one,1;
computation,1;
happy,1;
one,1;
you,1;
that,1;
here.,1;
E>,,1;
you,1;
you,1;
unwrapping,1;
t.,1;
you,1;
other,1;
error,1;
value,1;
computation,1;
you,1;
that,1;
An,1;
you,1;
you,1;
happy,1;
whereas,1;
you,1;
yield,1;
This,1;
happy,1;
path,1;
you,1;
with,1;
all,1;
happy,1;
nicer.
The,1;
usable,1;
its,1;
way,1;
handling.,1;
{
let,1;
that,1;
expected.,1;
cleanup
will,1;
from,1;
function,,1;
which,1;
code!,1;
This,1;
blocks,1;
much,1;
has,1;
can
now,1;
shown,1;
{
let,1;
{
//,1;
that,1;
that,1;
blocks,1;
that,1;
they’re,1;
that,1;
described,1;
error,1;
looked,1;
you,1;
advantages,1;
drawbacks,1;
took,1;
some,1;
next,1;
chapter,,1;
from,1;
you,1;
project.,1;
next,1;
page!
Error,1;
STRUCTURE
This,1;
some,1;
struc-
turing,1;
your,1;
set,1;
likely
to,1;
you,1;
some,1;
functionality,,1;
that’s,1;
size,1;
that,1;
you,1;
your,1;
crate,1;
conditional,1;
dependencies,,1;
you,1;
con-
tinuous,1;
chapter,,1;
some,1;
that,1;
language,,1;
Cargo,1;
provide,1;
that,1;
easier,1;
Rust’s,1;
its,1;
core,,1;
that,1;
carry,1;
you,1;
choose,1;
means,1;
your,1;
crate.Generally,,1;
conditionally,1;
include,1;
that,1;
all,1;
these,1;
generally,1;
This,1;
from,1;
that,1;
change,1;
that,1;
crate,1;
has,1;
mutually,1;
that,1;
crate,1;
one,1;
crate,1;
crate,1;
mutually,1;
crate,1;
crate,1;
that,1;
reason,,1;
generally,1;
that,1;
crate,1;
crate,1;
with,1;
some,1;
set,1;
all,1;
crate,1;
leans,1;
into,1;
crate,1;
Cargo,1;
crate,1;
once,,1;
with,1;
all,1;
that,1;
it’ll,1;
generally,1;
mutually,1;
that,1;
some,1;
depend
on,1;
crate,1;
with,1;
crate,1;
fail,1;
highly,1;
that,1;
you,1;
configure,1;
your,1;
continuous,1;
that,1;
your,1;
crate,1;
its,1;
that,1;
which,1;
you,1;
shows,1;
with,1;
that,1;
that,1;
Cargo,1;
syn,1;
crate,1;
reduces,1;
syn,1;
crate,1;
com-
piled,1;
crate,1;
needs,1;
5-2,1;
shows,1;
include,1;
syn,1;
"bar"
...
68
Chapter,1;
5[dependencies]
foo,1;
so,1;
frequently,1;
that,1;
them,1;
rather,1;
Cargo,1;
allows
you,1;
set,1;
allows,1;
dependency.,1;
shows,1;
its,1;
needs
for,1;
false
features,1;
5-3:,1;
dependencies
Here,,1;
crate,1;
syn,1;
dependency.,1;
syn,1;
with,1;
of
default,1;
you,1;
down,1;
your,1;
S,1;
you,1;
that,1;
itself,1;
of
features.,1;
This,1;
syn,1;
that,1;
Cargo,1;
with,1;
name,1;
dependency.,1;
you,1;
with,1;
name,1;
Cargo,1;
Cargo,,1;
has,1;
writing.,1;
you,1;
you,1;
can
rename,1;
avoid,1;
name,1;
that,1;
include,1;
you,1;
["syn/derive"],1;
your,1;
syn,1;
you,1;
your,1;
your,1;
particular,1;
that,1;
included.
You,1;
conditional,1;
which,1;
you,1;
conditions,1;
under,1;
which,1;
particular,1;
piece,1;
cfg!,1;
which
lets,1;
you,1;
change,1;
runtime,1;
do
all,1;
with,1;
conditional,1;
basic,1;
so,1;
that,1;
next,1;
the
some-feature,1;
attribute,1;
cfg!,1;
macro,1;
modifies,1;
runtime,1;
which,1;
that,1;
front,1;
items—such,1;
other,1;
statements.,1;
restricted,1;
so,1;
that,1;
conditional,1;
that,1;
strange,1;
debug.
Remember,1;
that,1;
your,1;
which,1;
some,1;
your,1;
rules,1;
here—for,1;
you
make,1;
enum,1;
field,1;
conditional,1;
that,1;
with,1;
#[non_exhaustive].,1;
Otherwise,
a,1;
crate,1;
that,1;
some,1;
crate,1;
depen-
dency,1;
writing,1;
large,1;
crate,1;
you,1;
expect,1;
that,1;
your,1;
subset
of,1;
functionality,,1;
you,1;
so,1;
that,1;
cost,1;
really,1;
many,1;
boundaries,1;
coherence,,1;
crate,1;
crate,1;
less,1;
one,1;
one,1;
that,1;
into,1;
binary,1;
binary,1;
many,1;
compiler,,1;
means,1;
that
large,1;
painful,1;
you,1;
change,1;
test,,1;
one,1;
your,1;
application,,1;
crate,1;
compiler
implements,1;
recompilation,1;
size,1;
long,1;
your,1;
takes,1;
reason,,1;
your,1;
you,1;
that,1;
one,1;
another.,1;
Cargo,1;
has,1;
you,1;
workspace,1;
that,1;
tied,1;
one,1;
shown,1;
[
"foo",
"bar/one",
"bar/two",
]
Listing,1;
workspace,1;
directories,1;
that,1;
crate,1;
Those,1;
all,1;
files,1;
crate,1;
names,1;
entry,1;
that,1;
workspace,1;
name,1;
name,1;
so,1;
that,1;
you,1;
with,1;
all,1;
workspace’s,1;
Want,1;
that,1;
all,1;
Want,1;
all,1;
your,1;
test,1;
test,1;
them,1;
all.,1;
one,1;
so,1;
splitting,1;
into,1;
crates,,1;
generally,1;
thing”,1;
you,1;
workspace,1;
binary,1;
package).,1;
you,1;
you,1;
--workspace,1;
you,1;
with,1;
you,1;
set,1;
your,1;
one,1;
shown,1;
path,1;
bar/one/Cargo.toml
[dependencies]
foo,1;
path,1;
among,1;
workspace,1;
you,1;
change,1;
crate,1;
that,1;
did,1;
change.,1;
your,1;
from,1;
your,1;
opportunities.
SPECIF,1;
Y,1;
way,1;
that,1;
one,1;
crate,1;
workspace,1;
path,1;
shown,1;
you,1;
you,1;
crate,1;
that,1;
one,1;
crate,1;
workspace,1;
with,1;
one,1;
},,1;
released
version,1;
from,1;
with,1;
Cargo,1;
dutifully,1;
one,1;
which,1;
workspace,,1;
that,1;
Cargo
doesn’t,1;
that,1;
crate!,1;
them,1;
dependencies
that,1;
going.,1;
you,1;
with,1;
from,1;
one,1;
that,1;
from,1;
will
reject,1;
Even,1;
name,,1;
can’t
know,1;
that,1;
way,1;
path,1;
unpublished,1;
changes.,1;
long,1;
one,1;
its,1;
you
make,1;
change,1;
that,1;
one,1;
needs,1;
you,1;
change,1;
one,1;
path
dependency.,1;
you,1;
that,1;
one,1;
you,1;
path,1;
approach,1;
has,1;
its,1;
you,1;
change,1;
one,,1;
that,1;
one,1;
you,1;
expected.,1;
configure,1;
your,1;
continu-
ous,1;
test,1;
with,1;
released
versions,1;
other,1;
with,1;
all,1;
them,1;
you,1;
with,1;
that,1;
has,1;
its,1;
some,1;
you,1;
your,1;
you,1;
your,1;
your,1;
all,1;
that,1;
Cargo,1;
supports.,1;
fields,1;
include,1;
path,1;
crate,1;
(readme),,1;
binary,1;
your,1;
with,1;
convoluted,1;
include,1;
fields.,1;
which,1;
files,1;
your,1;
Cargo,1;
all,1;
your,1;
file,,1;
you,1;
you,1;
large,1;
test,1;
auxiliary,1;
that,1;
you,1;
under,1;
names,1;
include,1;
you,1;
include
only,1;
set,1;
files,1;
files,1;
set,1;
you,1;
crate,1;
that,1;
never,1;
crates.io),,1;
you,1;
set,1;
false,1;
registries.
The,1;
you,1;
so,1;
Cargo,1;
(https://doc.rust-lang.org/cargo/reference/manifest.html).
Build,1;
Configuration
Cargo.toml,1;
you,1;
Cargo,1;
builds,1;
your,1;
crate.
The,1;
which,1;
allows,1;
you,1;
your,1;
crate,1;
revisit,1;
this
in,1;
11).,1;
Cargo,1;
useful,
mechanisms,1;
that,1;
here:,1;
[patch],1;
allows,1;
you,1;
that,1;
you,1;
matter,1;
your,1;
depen-
dencies,1;
This,1;
invaluable,1;
you,1;
your,1;
crate,1;
some,1;
depen-
dency,1;
test,1;
performance,1;
5-6,1;
shows,1;
you,1;
set,1;
path,1;
"/home/jon/regex",1;
patch,1;
path,1;
you,1;
patch,1;
Cargo,1;
takes,1;
crate
versions,1;
so,1;
that,1;
you,1;
accidentally,1;
major,1;
you,1;
some,1;
reason,1;
you,1;
patch,1;
one,1;
them,1;
shown,1;
5-7.
[patch.crates-io]
nom4,1;
path,1;
"nom",1;
path,1;
"nom",1;
5-7:,1;
crate,1;
realize,1;
that,1;
major,1;
that,1;
major,1;
tells,1;
Cargo,1;
name,1;
identi-
fiers,1;
your,1;
that,1;
taken,1;
into,1;
package
that’s,1;
you,1;
crate,1;
that,1;
its,1;
[patch],1;
that,1;
ATES,1;
S.,1;
crate,1;
is.
These,1;
terms,1;
informal,1;
that,1;
compiler,,1;
Cargo,,1;
else.,1;
I,1;
crate,1;
(one,1;
so,1;
all,1;
that’s,1;
described,1;
file.,1;
include,1;
binary,1;
crates,,1;
some,1;
test,1;
crates,,1;
that,1;
[profile],1;
you,1;
change,1;
way,1;
your,1;
into,1;
performance,1;
that,1;
change,1;
user-defined,1;
They,1;
all,1;
you,1;
compiling,1;
performance,1;
codegen-units,
and,1;
lto.,1;
runtime,1;
performance,1;
telling,1;
your,1;
(0,1;
“not,1;
you,1;
setting,,1;
your,1;
code
will,1;
which,1;
faster.,1;
Extra,1;
which,1;
set,1;
binary,1;
which,1;
embedded,1;
compile-time,1;
tells,1;
many,1;
independent,1;
tasks,1;
crate,1;
into,,1;
more
threads,1;
help,1;
crate,1;
Unfortunately,,1;
less,1;
which,1;
Imagine,,1;
that,1;
segment,1;
crate
compiling,1;
one,1;
from,1;
inlining,1;
some,1;
segments,1;
independent,,1;
that,1;
inlining,1;
This,1;
setting,,1;
trade-off,1;
compile-time,1;
performance
and,1;
runtime,1;
smaller,1;
mode.
The,1;
setting,1;
toggles,1;
which,1;
(or,1;
you,1;
jointly
optimize,1;
your,1;
units,,1;
that,1;
exact,1;
basic,1;
that,1;
from,1;
that,1;
went,1;
into,1;
that,1;
After,1;
linker,1;
all,1;
that,1;
combined,1;
com-
piled,1;
This,1;
extra,1;
runtime,1;
performance,1;
that,1;
splitting,1;
into,1;
smaller,1;
offer,1;
that,1;
that,1;
a
lot,1;
your,1;
time.
Rust,1;
all,1;
crate,1;
caused,1;
performed,1;
crate,
Project,1;
Structure
75rather,1;
crates,,1;
extra,1;
added
compile,1;
offers,1;
technique,1;
cost,1;
missing,1;
foreign,1;
boundaries,1;
many
cases,,1;
[profile],1;
that,1;
debugging,,1;
tells,1;
compiler
to,1;
include,1;
This,1;
means,1;
that,1;
you,1;
names,1;
rather,1;
macro,1;
other,1;
that,1;
easier,1;
questionable,1;
behav-
ior,1;
name,1;
This,1;
them,1;
down,1;
help,1;
you,1;
bugs,1;
these,1;
mode.
[profile.*.panic]
The,1;
[profile],1;
has,1;
that,1;
its,1;
your,1;
directly,1;
set,1;
panic,1;
about
panics,1;
your,1;
that,1;
its,1;
from,1;
all,1;
way,1;
baz,,1;
from,1;
baz,,1;
that,1;
all,1;
stack,1;
normally,,1;
which,1;
errors,,1;
so,1;
This,1;
system
a,1;
gracefully,1;
other,1;
running
unaffected.,1;
that,1;
panic,1;
generally,1;
panic,1;
means,1;
limp-
ing,1;
with,1;
some,1;
components,,1;
which,1;
all,1;
strange
behaviors.,1;
that,1;
that,1;
that,1;
now,1;
that,1;
state.,1;
reason,,1;
some,1;
panic,1;
last,1;
that,1;
that,1;
access,1;
primitive,1;
state,,1;
panic,,1;
that,1;
eventually,1;
that,1;
with,1;
state!
The,1;
needed,1;
it
often,1;
requires,1;
many,1;
embedded,1;
stack,1;
panic,1;
mode:,1;
whole
program,1;
simply,1;
panic,1;
This,1;
never,1;
that,1;
panic,1;
setting,1;
you,1;
set,1;
abort,,1;
all,1;
your,1;
com-
piled,1;
with,1;
that,1;
that,1;
panic,1;
This,1;
is
also,1;
from,1;
here.,1;
with,1;
panic=abort,1;
which,1;
include,1;
stack,1;
set,1;
profile,1;
particular,1;
particular,1;
profile,1;
shows,1;
aggressive
optimizations,1;
crate,1;
all,1;
other,1;
in
debug,1;
3
[profile.dev.package."*"]
opt-level,1;
profile,1;
some,1;
prohibitively,1;
slow,1;
you,1;
so,1;
that,1;
your,1;
test,1;
suite,1;
several,1;
global,1;
profile,1;
[profile.dev],1;
Cargo,1;
you,1;
set,1;
in
mind,1;
that,1;
that,1;
has,1;
method,1;
that,1;
you,1;
your,1;
that,1;
method,1;
your,1;
profile,1;
settings,1;
apply,,1;
profile,1;
you,1;
regardless,1;
operating,1;
particular,1;
binary,1;
you,1;
instruction,1;
available,,1;
some,1;
slow,1;
continuous,1;
cater,1;
which,1;
particular,1;
segment,1;
conditions,1;
denote,1;
conditional,1;
with,1;
that,1;
you,1;
“Using,1;
attribute,,1;
which,1;
next,1;
has,1;
otherwise.,1;
cfg!(condition)
macro.
Every,1;
takes,1;
combinators,1;
all,,1;
which,1;
you,1;
names,,1;
unix,
or,1;
you,1;
from,1;
examples,1;
form
feature,1;
condi-
tion,1;
enabled.
Operating,1;
with,1;
macos,,1;
operating,1;
which,1;
takes,1;
value,1;
unix.,1;
that,1;
you,1;
particular,1;
segment,1;
you,1;
#[cfg(any(windows,,1;
you,1;
particular,1;
most
common,1;
these,1;
test,1;
which,1;
under,1;
test,1;
that,1;
test,1;
crate,1;
that,1;
its,1;
means,1;
that,1;
test,1;
set,1;
your,1;
crate,1;
that,1;
under,1;
whereas,1;
your,1;
actual,1;
crate,1;
which,1;
compiling,1;
which,1;
set,1;
set,1;
that
later),1;
that,1;
you,1;
under,1;
these,1;
these,1;
you,1;
particular,1;
test,1;
you,1;
attribute,1;
you,1;
instruction,1;
set,1;
particular,1;
with,1;
takes,1;
mips,,1;
you,1;
par-
ticular,1;
with,1;
which,1;
takes,1;
sse2.,1;
low-level,1;
you,1;
target_endian,1;
you,1;
your,1;
target_env,1;
with,1;
reasons,,1;
value,1;
empty,,1;
you,1;
with,1;
environment,1;
ABI,,1;
linking,1;
name,1;
conditions,1;
some,1;
crate,1;
5-9,1;
you,1;
conditions,1;
that,1;
depen-
dency,1;
under,1;
Windows),,1;
other,1;
that,1;
evaluated
very,1;
context,1;
yet,1;
you,1;
that,1;
target
specification,1;
set,1;
into,1;
(like,1;
we’re,1;
I,1;
highly,1;
that,1;
you,1;
set
up,1;
your,1;
CI,1;
basic,1;
auditing,1;
your,1;
you,1;
transitively
depend,1;
major,1;
you,1;
that,1;
licenses,1;
that,1;
you,1;
avoid.,1;
way,1;
your,1;
your,1;
conditional,1;
compilation
options.,1;
that,1;
your,1;
way,1;
RUSTFLAGS,1;
environment,1;
This,1;
you,1;
your,1;
test,1;
suite,1;
CI,1;
RUSTFLAGS,1;
your,1;
cfg(ci),1;
your,1;
set,1;
this
way,1;
expected,1;
rules,1;
which,1;
compatible,,1;
differentiates,1;
changes:,1;
major,1;
which,1;
which,1;
patch,1;
change.,1;
change,1;
we’ve,1;
some,1;
into,1;
exact,1;
changes.,1;
I,1;
some,1;
less,1;
ways
version,1;
numbers,1;
ecosystem,,1;
which,1;
you,1;
in
mind,1;
your,1;
Rust-ism,1;
minimum,1;
(MSRV).,1;
community,1;
versioning,,1;
truly
good,1;
core,1;
that,1;
some,1;
setting,1;
choice.,1;
crate,1;
life,1;
establish,1;
crate,1;
with,1;
last,1;
months.,1;
exact,1;
6,1;
common.
With,1;
Rust’s,1;
six-week,1;
cycle,,1;
that,1;
releases,,1;
with,1;
checked,1;
CI),1;
allows,1;
This,1;
these,1;
has,1;
life,1;
easier,1;
your,1;
technique,1;
your,1;
crate,1;
that,1;
changes.,1;
you,1;
your,1;
crate,1;
that,1;
your,1;
from,1;
that,1;
stuck,1;
that,1;
"2,,1;
<2.7",1;
move,1;
that,1;
patch,1;
so,1;
that,1;
you,1;
still
issue,1;
another
patch,1;
so,1;
seriously,1;
that,1;
consider
an,1;
change,1;
change,1;
major,1;
This,1;
means,1;
that,1;
rather,1;
out—but,1;
means,1;
that,1;
updating,1;
dependencies,,1;
which,1;
them,1;
break-
ing,1;
change,1;
well.,1;
I,1;
these,1;
without,1;
ecosystem,1;
challenging.,1;
provide,1;
you,1;
them,1;
when
they,1;
your,1;
crate,1;
with,1;
restricted,1;
previously,1;
your,1;
change.,1;
This,1;
you,1;
performance,1;
your,1;
dependencies,,1;
as
you’ll,1;
your,1;
permits
updating.,1;
that,1;
decision,1;
your,1;
dependents.,1;
into,1;
Cargo,1;
itself,,1;
has,1;
you,1;
specifier
you,1;
that,1;
dependency.,1;
choose,1;
latest
version,,1;
major,1;
that,1;
I,1;
that,1;
your,1;
crate,1;
rather,1;
that,1;
that,1;
strife,1;
your,1;
these,1;
you,1;
that,1;
your,1;
some,1;
other,1;
hugs.,1;
that,1;
really,1;
so,1;
Cargo,1;
that,1;
requires,1;
so,1;
that,1;
with,1;
all,1;
practice,,1;
crate,1;
dependency.,1;
auditing,1;
that,1;
been
audited),,1;
builds,1;
exact,1;
used.
This,1;
that,1;
your,1;
crate,1;
fine,1;
with,1;
But
by,1;
you,1;
telling,1;
Cargo,1;
that,1;
"1"
instead,,1;
No,,1;
that’s,1;
that,1;
your,1;
that,1;
was,1;
so,1;
fine,,1;
you,1;
were
only,1;
compiling,1;
your,1;
crate,1;
used,,1;
some,1;
crate,1;
graph,1;
your,1;
crate,1;
that,1;
has,1;
all,1;
crate,1;
that,1;
you,1;
your,1;
you,1;
establish,1;
that,1;
changelogs,,1;
trial,1;
use
Cargo’s,1;
which,1;
your,1;
crate,1;
all,1;
dependencies,,1;
rather,1;
set,1;
all,1;
your,1;
major,1;
num-
ber,,1;
that,1;
repeat,1;
fine,,1;
you,1;
now,1;
with,1;
ecosystem,1;
you,1;
set,1;
all,1;
your,1;
you,1;
This,1;
Cargo,1;
you,1;
with,1;
requires,1;
Cargo,1;
that,1;
matter,1;
you,1;
tells,1;
around,1;
listing,1;
your,1;
with,1;
requirement,
but,1;
these,1;
painful,1;
set,1;
listing,1;
large,1;
that,1;
really,1;
in
through,1;
your,1;
dependencies,,1;
that,1;
goes,1;
that,1;
favors,1;
dependencies,,1;
which,1;
promising.
Changelogs
For,1;
all,1;
crates,,1;
I,1;
highly,1;
that,1;
has,1;
major,1;
dig,1;
update,1;
your,1;
I,1;
that,1;
you,1;
your,1;
into,1;
changelog.,1;
much,1;
documented,1;
Versions
Rust,1;
numbers,1;
This,1;
means,1;
that,1;
impor-
tant,1;
you,1;
yet,1;
your,1;
standard,1;
provide,1;
that,1;
without,1;
you’ve,1;
update,1;
your,1;
next,1;
patch,1;
with,1;
-alpha.1.
If,1;
you,1;
2.0.3,,1;
you,1;
just
released,1;
you,1;
releases,,1;
changes.,1;
one,1;
corresponding,1;
has,1;
last,1;
last,1;
2.0.3,,1;
you,1;
with,1;
change,1;
you,1;
3.0.0-alpha.1,1;
instead.,1;
corresponding,1;
has,1;
increment
the,1;
number.
When,1;
you,1;
(unless,1;
you,1;
publish,,1;
from,1;
better.,1;
that,1;
major,1;
your,1;
that’s,1;
currently,1;
you,1;
change.,1;
you,1;
major,1;
fail,1;
runtime,1;
you,1;
they’ll,1;
notified,1;
Cargo,1;
that,1;
a
breaking,1;
change,1;
has,1;
they’ll,1;
that,1;
that,1;
needs,1;
your,1;
which,1;
your,1;
crate,1;
your,1;
crate,1;
so,1;
checkouts,1;
your,1;
you,1;
major,1;
Git,,1;
has,1;
way,1;
that,1;
now,1;
that,1;
was,1;
that,1;
Cargo,1;
other,1;
Cargo,1;
realize,1;
that,1;
means,1;
provide,1;
way,1;
major,1;
releases,,1;
bit,1;
track,1;
into,1;
dependencies,,1;
you,1;
releases,,1;
many,1;
issues.
If,1;
consecutive,1;
releases,,1;
you,1;
simply,1;
incre-
menting,1;
that
depending,1;
frequently,1;
you,1;
numbers,1;
chapter,,1;
we’ve,1;
looked,1;
publishing,1;
crates,,1;
your,1;
that,1;
We’ve,1;
gone,1;
some,1;
Cargo,1;
that,1;
now,1;
you,1;
next,1;
dig,1;
into,1;
Rust’s,1;
that,1;
chapter,,1;
which,1;
you,1;
Rust’s,1;
other,1;
into,1;
your,1;
mix.,1;
with,1;
Programming,1;
Language,
represented,1;
attribute,1;
directory.,1;
you,1;
applications,1;
all,1;
you,1;
you,1;
started,1;
with,1;
project.,1;
develops,1;
needs,1;
elaborate,,1;
you,1;
individual,1;
functions.
This,1;
divided,1;
into,1;
standard,1;
other,1;
Testing,1;
you,1;
builds,1;
you,1;
test,1;
Cargo,1;
This,1;
flag
tells,1;
test,1;
binary,1;
that,1;
all,1;
rather,1;
compiling,1;
Behind,1;
effects.,1;
so,1;
that,1;
you,1;
that,1;
test,1;
generated,1;
that,1;
each
#[test],1;
your,1;
test,1;
which,1;
greater,1;
magic.,1;
transforms,1;
into,1;
test,1;
descriptor—this,1;
procedural,1;
path,1;
generated
main,1;
name,,1;
has,1;
set,1;
(like,1;
so,1;
its,1;
core,,1;
test,1;
iterates,1;
crate,
runs,1;
prints,1;
--test-threads=1),
capture,1;
test,1;
test,1;
test,1;
so,1;
that,1;
developers
can,1;
test,1;
This,1;
experimental
stage,,1;
with,1;
today.
Part,1;
that,1;
needs,1;
that,1;
generated,1;
submodules.
Integration,1;
with,1;
one,1;
that,1;
own
separate,1;
access,1;
inter-
face,1;
crate,1;
without,1;
#[cfg(test)].,1;
generated,1;
files,1;
under,1;
you,1;
your,1;
tests.
NOTE
If,1;
you,1;
test,1;
you,1;
calling,1;
main.rs.
Rust,1;
that,1;
you,1;
test,1;
can
instead,1;
your,1;
method,1;
that,1;
test,1;
setting,1;
false,1;
test,1;
shown,1;
6-1.,1;
method,1;
that,1;
you,1;
will
then,1;
false
Listing,1;
6-1:,1;
standard,1;
test,1;
test,1;
around,1;
expected,1;
your,1;
you,1;
execute.,1;
writing,1;
normal,1;
binary,1;
all,1;
that,1;
you,1;
test,,1;
so,1;
you,1;
one,1;
test,1;
that,1;
standard,1;
one,1;
that,1;
not.
ARGUMENT,1;
S,1;
test,1;
test,1;
rather,1;
test,1;
binary,1;
that,1;
Cargo,1;
you,1;
access,1;
that,1;
set,1;
test,,1;
test,1;
help,1;
test
binary,,1;
test,1;
--help.
A,1;
these,1;
disables,1;
capturing,1;
you,1;
This,1;
you,1;
rather,1;
all,1;
test,1;
has,1;
many,1;
concurrently,
which,1;
you,1;
test,1;
that,1;
you,1;
which,1;
one,1;
that,1;
--ignored,1;
that,1;
that,1;
all,1;
that,1;
these,1;
all,1;
implemented,1;
so,1;
you,1;
you,1;
your,1;
function!
Integration,1;
without,1;
you,1;
that,1;
standard,1;
function,,1;
one,1;
frequently,1;
with,1;
that,1;
global,1;
(like,1;
under,1;
with,1;
targets).
Testing
87#[cfg(test)]
When,1;
builds,1;
flag
test,,1;
which,1;
you,1;
with,1;
conditional,1;
odd:,1;
you,1;
test,1;
exactly,1;
that’s,1;
you,1;
few,1;
ways.
MOCKING
When,1;
writing,1;
you,1;
other,1;
that,1;
your,1;
client,,1;
you,1;
your,1;
directly,1;
structure,,1;
you,1;
that,1;
you,1;
method,1;
given
method,1;
was,1;
byte,1;
was,1;
extensive,1;
test,1;
you,1;
needed,1;
This,1;
into,1;
with,1;
particular,1;
generated,1;
items,1;
test,1;
generally,1;
long,1;
structure,,1;
anything,1;
you,1;
(or,1;
takes,1;
you,1;
conforming,1;
that,1;
instantiate,1;
your,1;
your,1;
with,1;
generated
mock,1;
off,1;
generics,1;
you,1;
avoid,1;
particular,1;
your,1;
you,1;
a
dedicated,1;
generate,1;
that,1;
conditional,1;
that,1;
has,1;
emerged,1;
extensive,1;
I,1;
that,1;
under,1;
many,1;
other,1;
6Test-Only,1;
allows,1;
you,1;
expose,1;
fields,
and,1;
your,1;
so,1;
that,1;
public
API,1;
that,1;
HashMap,1;
from,1;
crate,1;
that,1;
the
standard,1;
HashMap,1;
really,1;
wrapper,1;
type,,1;
which,1;
that,1;
HashMap::insert,1;
you,1;
that,1;
shown,1;
{
let,1;
m.table.buckets.iter().filter(Bucket::is_full).count();
assert_eq!(full,,1;
test,1;
that,1;
accesses,1;
test,1;
field,1;
access,1;
field,1;
field,1;
really,1;
want
HashMap,1;
touch,1;
accidentally,1;
corrupt
the,1;
RawTable.,1;
Even,1;
problematic,,1;
HashMap,1;
on
the,1;
modifications,1;
#[cfg(test)].,1;
method,1;
RawTable
that,1;
allows,1;
access,1;
shown,1;
thereby,1;
avoid,1;
footguns,1;
#[cfg(test)],1;
that,1;
that
you,1;
runtime,1;
bookkeep-
ing,1;
that,1;
inspected,1;
your,1;
from,1;
standard,1;
it,,1;
you,1;
that,1;
way,1;
so,1;
many,1;
has,1;
Write.
However,,1;
important,,1;
performance,1;
overhead.,1;
you,1;
6-4.
struct,1;
other,1;
{
//,1;
{
#[cfg(test)]
self.write_through,1;
#[cfg(test)],1;
that,1;
test,1;
set,1;
crate,1;
that,1;
crate,1;
you,1;
test,1;
binary,1;
crate,1;
you,1;
so,1;
test,1;
as
test,1;
referred,1;
your,1;
This,1;
means,1;
access,1;
fields,1;
test,1;
its,1;
dedicated
crate,1;
isolation,,1;
had,1;
some,1;
on
­doctests,1;
them,1;
concise.,1;
around,1;
your,1;
This,1;
allows,1;
that,1;
that,1;
actu-
ally,1;
from,1;
your,1;
without,1;
your,1;
you,1;
an
90
Chapter,1;
fn
main,,1;
you,1;
your,1;
you,1;
rustdoc,1;
some,1;
heuristics,1;
set,1;
return
type,1;
your,1;
with,1;
you,1;
error,1;
function,,1;
you,1;
last,1;
that,1;
hide,1;
individual,1;
you,1;
with,1;
that,1;
included,1;
included,1;
snippet,1;
generated,1;
documentation.,1;
This,1;
you,1;
that,1;
you,1;
examples,1;
without,1;
leading,1;
with,1;
hide,1;
value,1;
already_frobnified,1;
1;
///,1;
assert!(frobnify(unfrobnified_number).is_ok());
///,1;
assert!(frobnify(already_frobnified).is_err());
///,1;
that,1;
types
///,1;
needs,1;
error,1;
with,1;
that.
///,1;
hide,1;
that,1;
brings,1;
into,1;
anyhow::Error>(())
///,1;
completely,
///,1;
i,1;
i,1;
frobnify(i)?;
///,1;
{
Listing,1;
with,1;
#
Testing
91NOTE
Use,1;
with,1;
care;,1;
required,1;
that,1;
you’ve,1;
that
modify,1;
denote,1;
with,1;
test,1;
you,1;
attribute,1;
that,1;
particular,1;
panic,1;
segment,1;
test,1;
with,1;
--ignored
flag.,1;
attribute,1;
indicate,1;
that,1;
attribute,1;
compile_fail,1;
tells,1;
rustdoc,1;
that,1;
documenta-
tion,1;
This,1;
that,1;
test,1;
you,1;
your,1;
change.,1;
attribute,1;
that,1;
shows,1;
you,1;
compile_fail,1;
that,1;
Send,,1;
which,1;
to
uphold,1;
safety,1;
guarantees,1;
unsafe,1;
code.
```compile_fail
#,1;
MyNonSendType(std::rc::Rc<()>);
fn,1;
is_send<T:,1;
6-6:,1;
Testing,1;
that,1;
with,1;
that,1;
the
code,1;
compile_fail,1;
test,1;
that,1;
reason,,1;
attribute,1;
you,1;
that,1;
test,1;
with,1;
expected,1;
error.
If,1;
you,1;
errors,,1;
Testing,1;
test,1;
that
they,1;
expected,1;
result.,1;
survey,1;
that,1;
you,1;
you,1;
expand
your,1;
its,1;
correctness
92
Chapter,1;
that,1;
examples,1;
which,1;
swap,1;
which,1;
you,1;
your,1;
CI,1;
you,1;
with,1;
other,1;
prefer.,1;
which,1;
you,1;
your,1;
you,1;
that,1;
easier,1;
read,,1;
you,1;
too
pedantic,1;
some,1;
your,1;
particular,1;
you,1;
it,,1;
you,1;
that,1;
piece,1;
with,1;
with,1;
its,1;
set,1;
these,1;
directed,1;
toward,1;
writing,1;
idiomatic
code,1;
simply,1;
-W,1;
help,1;
all,1;
Those,1;
content.,1;
which,1;
you,1;
with,1;
you,1;
other,1;
that,1;
you,1;
may
want,1;
into,1;
habit,1;
you,1;
which,1;
you,1;
you’ve,1;
forgotten,1;
items,1;
your,1;
crate,1;
test,1;
suite,1;
you,1;
that,1;
you,1;
test,1;
particular,1;
set,1;
you,1;
you,1;
wrote,1;
you,1;
test,1;
develop,1;
generate,1;
you,1;
your,1;
with,1;
so,1;
these,1;
is
simple:,1;
generate,1;
your,1;
that’s,1;
bug.,1;
writing,1;
you,1;
your,1;
throwing,1;
them,1;
yield,1;
fuzzer,1;
with,1;
so,1;
long,1;
generate,1;
http://[:].,1;
practice,,1;
your,1;
which,1;
them,1;
strange,1;
that,1;
your,1;
doesn’t
handle,1;
They,1;
your,1;
you,1;
that,1;
takes,1;
off,1;
shows,1;
you,1;
&[u8]|,1;
{
if,1;
{
let,1;
with,1;
fuzzer,1;
generate,1;
semi-random,1;
any
that,1;
UTF-8,1;
that,1;
the
code,1;
invariants,1;
that,1;
violated.
The,1;
fuzzer,1;
you,1;
it,,1;
so,1;
fuzzing,1;
with,1;
test,1;
your,1;
trivially,1;
fuzzable,1;
crate,1;
byte
string,1;
that,1;
fuzzer,1;
into,1;
under,1;
implemented,1;
crate,1;
defines,1;
Arbitrary,1;
with,1;
that,1;
from,1;
u32,1;
that,1;
whereas,1;
HashMap,1;
one,1;
from,1;
Arbitrary,1;
that,1;
attribute,,1;
#[derive(Arbitrary)],,1;
that,1;
calling,1;
contained,1;
I,1;
with,1;
you,1;
that,1;
your,1;
but
also,1;
that,1;
expected,1;
that,1;
your,1;
panic,,1;
tells,1;
you,1;
that,1;
probably
still,1;
This,1;
property-based,1;
into,1;
play;,1;
you,1;
describe
a,1;
your,1;
uphold,,1;
that,1;
way,1;
property-based,1;
naive,1;
you,1;
test,1;
that,1;
you,1;
you,1;
that,1;
you,1;
test,1;
naive,1;
same,,1;
your,1;
good—that,1;
you’ve,1;
property-based,1;
less,1;
another.,1;
that,1;
you,1;
test,1;
so,1;
that,1;
allows,1;
you,1;
naive,1;
one,1;
from,1;
standard,1;
trying,1;
(like,1;
it
might,1;
simpler,1;
that,1;
trying,1;
versus,1;
approach,1;
some,1;
that’s,1;
I,1;
that,1;
fuzzing,1;
“,1;
property-based,1;
crash.”
One,1;
downside,1;
property-based,1;
that,1;
on
the,1;
provided,1;
descriptions,1;
fuzzing,1;
0,1;
that,1;
This,1;
allows,1;
that,1;
long,1;
randomly,,1;
manual
work,1;
miss,1;
property-based,1;
test,1;
I,1;
recommend
starting,1;
with,1;
OF,1;
you,1;
generate,1;
your,1;
test,1;
that,1;
some,1;
you,1;
enum,1;
that,1;
your,1;
test,1;
you,1;
that,1;
one,1;
minimizing,1;
so,1;
smallest,1;
that,1;
you,1;
test,1;
suite,1;
all,1;
set,1;
your,1;
glorious.,1;
one,1;
one,1;
reliable
tests,1;
inexplicably,1;
with,1;
fault.,1;
these,1;
test,1;
your,1;
test,1;
fail,1;
particular,1;
unsafe,1;
some,1;
unsafe,1;
particular,1;
value,1;
these,1;
bugs,1;
with,1;
normal,1;
low-level,1;
scheduling,,1;
other,1;
test,1;
many,1;
that,1;
error,1;
bad,1;
rare,1;
unlikely.,1;
that,1;
help,1;
your,1;
catching,1;
these,1;
much,1;
easier.
The,1;
these,1;
amazing,1;
Rust’s
mid-level,1;
representation,1;
(MIR).,1;
that,1;
without,1;
all,1;
sugar,1;
your,1;
your,1;
rather,1;
compiling,1;
binary,,1;
which,1;
track,1;
executes.,1;
This,1;
allows,1;
your,1;
out-of-bounds,1;
pointer
accesses.,1;
these,1;
yield,1;
strange,1;
that,1;
observable,1;
test,1;
(like,1;
them,1;
tells,1;
you,1;
immediately.
For,1;
which,1;
cre-
ates,1;
value.
let,1;
42;
let,1;
x:,1;
unsafe,1;
x1,,1;
x2);
Listing,1;
unsafe,1;
that,1;
you,1;
you,1;
that,1;
exactly,1;
what’s,1;
trying,1;
but
parent,1;
src/main.rs:4:6
|
4,1;
unsafe,1;
trying,1;
under,1;
its,1;
error,1;
This,1;
that’s,1;
so,1;
you,1;
read
this,,1;
error,1;
much,1;
clever,1;
that,1;
your,1;
with,1;
interleaving,1;
track,1;
all,1;
your,1;
proceed,1;
from,1;
that,1;
the
test,1;
with,1;
with,1;
track,1;
orderings,,1;
accesses,1;
that,1;
them,1;
test,1;
you,1;
exact,1;
run-
down,1;
which,1;
so,1;
you,1;
happened.
Performance,1;
performance,1;
accurately
model,1;
workload,1;
that,1;
your,1;
your,1;
100,1;
that
really,1;
yet,1;
without,1;
performance,1;
test,1;
you,1;
your,1;
100,1;
faster,,1;
that,1;
also
indicate,1;
that,1;
these,1;
performance,1;
your,1;
performance,1;
you,1;
with,1;
functional,1;
performance,1;
functional,1;
test,1;
performance,1;
test,1;
you,1;
other,1;
that,1;
Also,,1;
performance,1;
test,1;
may
require,1;
few,1;
thousand,1;
it
might,1;
hours,1;
boxes.
For,1;
that,1;
reason,,1;
performance,1;
sense.,1;
some,1;
writing,1;
performance,1;
that,1;
overlooked
are,1;
performance,1;
variance,,1;
optimizations,,1;
overhead.,1;
these,1;
reasons,,1;
many,1;
particular,1;
machine,1;
speed,,1;
loaded,1;
machine,1;
otherwise
is,,1;
many,1;
much,1;
your,1;
performance,,1;
your,1;
username,1;
change,1;
the
Testing
97layout,1;
temperature,1;
down.,1;
Ultimately,,1;
highly,1;
that,1;
you,1;
twice,
you’ll,1;
result.,1;
you,1;
variance,,1;
hardware.,1;
from,1;
faster,,1;
effect,1;
invisible,1;
all,1;
variance,1;
your,1;
you,1;
highly,1;
diverse,1;
fleet,1;
Even,1;
variance,1;
extract,1;
practice,,1;
variance,1;
many,1;
rather,1;
that,1;
help,1;
with,1;
rather,1;
long,1;
runtime,1;
95%,1;
null
hypothesis,1;
from,1;
some,1;
that,1;
change,1;
hypothesis,1;
much,1;
has,1;
The
criterion,1;
all,1;
that,1;
one,1;
iteration,1;
your
benchmark,,1;
fairly
sure,1;
that,1;
graphical
representations,1;
particular,1;
hardware,,1;
that,1;
these,1;
really,1;
clever.,1;
They,1;
dead,1;
expressions,1;
loops,,1;
other,1;
performance,1;
great,,1;
we’re,1;
trying,1;
measure,1;
particular,1;
piece,1;
example,
take,1;
Vec::push,1;
i,1;
performance,1;
benchmark
98
Chapter,1;
you,1;
excellent,1;
godbolt.org,1;
that,1;
was,1;
wrong:,1;
They,1;
realized
that,1;
nothing,1;
required,1;
them,1;
dead,1;
its,1;
rights,1;
avoid,1;
these,1;
This,1;
has,1;
so,1;
its,1;
simply,1;
(one,1;
that,1;
takes,1;
that,1;
tells,1;
that,1;
from,1;
nor,1;
from,1;
value,1;
(under,1;
that,1;
that,1;
with,1;
compute,1;
into,1;
program.
This,1;
all,1;
all,,1;
our
benchmarking,1;
so,1;
that,1;
accesses,1;
shown,1;
i,1;
6-9
We’ve,1;
told,1;
that,1;
iteration,1;
push.,1;
without,1;
merging,1;
optimizing,1;
consecutive,1;
has,1;
that,1;
“arbitrary
stuff,1;
that,1;
that,1;
that,1;
its,1;
so,1;
that,1;
observation!
Testing
99I/O,1;
writing,1;
accidentally,1;
measure,1;
about
how,1;
that,1;
measure,1;
i,1;
0..1_000_000,1;
6-11:,1;
really,1;
actu-
ally,1;
measure,1;
long,1;
takes,1;
scenes:,1;
binary,1;
standard,1;
UTF-8,1;
one,1;
call,,1;
the
standard,1;
Not,1;
slow,1;
cycles!,1;
And
the,1;
takes,1;
pale,1;
your,1;
you,1;
you,1;
takes,1;
generate,1;
file,,1;
all,1;
long,1;
relatively,1;
and
may,1;
you,1;
measure.
Luckily,,1;
particular,1;
around,1;
you,1;
that,1;
your,1;
nothing,1;
particular,1;
you,1;
other,1;
all,1;
cater,1;
chapter,,1;
explored,1;
that,1;
detail.,1;
looked,1;
that,1;
This,1;
last,1;
focuses,1;
with,1;
next,1;
procedural,1;
much,1;
you,1;
next,1;
essence,,1;
making
the,1;
code
given,1;
some,1;
macro,1;
with,1;
formula.,1;
automatic,1;
you,1;
rules,1;
many,1;
shapes,1;
many,1;
primary
types,1;
procedural,1;
them,1;
some,1;
your,1;
everyday,1;
some,1;
that,1;
advanced,1;
from,1;
you,1;
#define,1;
change,1;
all,1;
keyword.,1;
that’s,1;
from,1;
from,1;
Wild,1;
They,1;
rules,1;
misuse-resistant.
Declarative,1;
syntax,,1;
which
lets,1;
you,1;
conveniently,1;
without,1;
crate,1;
you,1;
with,1;
procedural,1;
macros).
Once,1;
you’ve,1;
you,1;
macro,1;
exclamation,1;
I,1;
macro,1;
many,1;
transformation,1;
your,1;
with,1;
you,1;
that,1;
all,1;
itself,1;
one,1;
that,1;
macro,1;
with,1;
time.
NOTE
Since,1;
Rust’s,1;
macro,1;
you,1;
them,1;
allows,1;
They,1;
you,1;
After,1;
all,,1;
you,1;
your,1;
that,1;
you,1;
into,1;
that,1;
you,1;
that,1;
all,1;
rewiring,1;
that,1;
has,1;
This,1;
expressive,
though,1;
has,1;
tendency,1;
them,1;
rather,1;
you,1;
with,1;
which,1;
your,1;
Them
Declarative,1;
you,1;
writing,1;
mechanical,1;
aiming,1;
lots,1;
procedural,1;
fit.
I,1;
frequently,1;
I,1;
I,1;
test,1;
with,1;
configurations.,1;
I,1;
shown,1;
T,,1;
bool),1;
{
test_inner(1u8,,1;
false);
}
Listing,1;
Repetitive,1;
code
While,1;
repetitive,,1;
much,1;
shown,1;
$name:ident),*)),1;
=>,1;
$name,1;
{
#[test]
fn,1;
frobnified(),1;
...
i128,1;
macro,1;
repeat,1;
macro,1;
comma-separated,1;
into,1;
its,1;
mod-
ule,1;
that,1;
one,1;
that,1;
with,1;
true,,1;
false.,1;
macro,1;
much,1;
one,1;
macro,1;
false,1;
generate,1;
now,1;
likelihood,1;
that,1;
test,1;
you,1;
your,1;
that,1;
the
standard,1;
trivial.,1;
invented,1;
all,1;
standard,1;
writing,1;
one,,1;
you,1;
macro,1;
one,1;
=>,1;
}
})*
}
}
clone_from_copy![bool,,1;
7-3:,1;
macro,1;
many,1;
one,1;
fell,1;
generate,1;
provided,1;
&self.,1;
blanket,1;
T:,1;
Copy.,1;
reason,1;
that,1;
other,1;
that,1;
that,1;
Copy.,1;
An,1;
offer
a,1;
writing,1;
that,1;
some,1;
way,1;
we’re,1;
off,1;
This,1;
you,1;
7-3
to,1;
all,1;
types!
NOTE
If,1;
you,1;
you,1;
generics,1;
generics.,1;
generally,1;
much,1;
with,1;
other,1;
your,1;
type,,1;
generics;,1;
They,1;
programming,1;
has,1;
grammar,1;
that,1;
that,1;
into,1;
blocks,1;
language,,1;
numbers,
punctuation,1;
literals,,1;
value,,1;
),1;
into,1;
gnarly,1;
low-level,1;
representation,,1;
notion,1;
with,1;
has,1;
into,1;
that,1;
syntactic,1;
tokens.,1;
denote,1;
macro,1;
so,1;
This,1;
which,1;
abstract,1;
that,1;
7source,1;
which,1;
con-
sists,1;
that,1;
has,1;
its,1;
body.,1;
rep-
resentation,1;
much,1;
richer,1;
syntactic
meaning,1;
language’s,1;
that,1;
into—when,1;
macro,1;
has,1;
macro,1;
macro,1;
be
in,1;
macro,1;
all,1;
has,1;
macro,1;
defers,1;
contained,1;
macro,1;
macro,1;
into,1;
macro,1;
bit,1;
Specifically,,1;
basic,1;
and
delimited,1;
so,1;
rather,1;
just
tokens.,1;
trees.,1;
that,1;
that,1;
which,1;
itself,1;
(another,1;
This,1;
macro,1;
that,1;
macro,1;
macro,1;
you,1;
long,1;
macro,1;
other,1;
you,1;
macro,1;
brace.
Declarative,1;
generate,1;
macro,1;
that,1;
macro,1;
generate,1;
an
expression,1;
anything,1;
that,1;
you,1;
variable),,1;
statement
such,1;
type,,1;
This,1;
you,1;
simply,1;
can-
not,1;
macro,1;
that,1;
itself,1;
really,1;
all,1;
macro,1;
passes,1;
token
stream,,1;
macro,1;
with,1;
all,1;
that,1;
book.,1;
out.
Declarative,1;
macro,1;
many,1;
matcher,1;
has,1;
associ-
ated,1;
transcriber.,1;
macro,1;
walks
the,1;
from,1;
matcher,1;
walk-
ing,1;
corresponding,1;
transcriber.,1;
shows,1;
macro,1;
macro,1;
name,1;
*/,1;
matcher,1;
=>,1;
*/,1;
};
(/*,1;
matcher,1;
=>,1;
*/,1;
macro,1;
macro,1;
matcher,1;
that,1;
was,1;
macro,1;
with,1;
matcher,1;
followed
by,1;
macro,1;
invoked
with,1;
that,1;
matcher,1;
Even,1;
never,1;
that,1;
that,1;
which,1;
anything,1;
that,1;
expressions.,1;
one,1;
comma-separated,1;
=>,1;
value,1;
format:
$($key:expr,1;
=>,1;
that,1;
macro,1;
with,1;
matcher,1;
an
arbitrarily,1;
that,1;
value,1;
expressions,1;
rules,1;
wide,1;
you’ve,1;
identifiers,1;
types
and,1;
you,1;
you,1;
that,1;
with,1;
you,1;
procedural,1;
macro,1;
you,1;
that,1;
these,1;
has,1;
matched,1;
macro,1;
matcher’s,1;
transcriber.,1;
by
a,1;
macro,1;
matcher,1;
(like,1;
with,1;
that,1;
that,1;
you,1;
repetition,1;
matcher,1;
(like,1;
that,1;
with,1;
that,1;
generate,1;
into,1;
some,1;
that,1;
was,1;
that,1;
so,1;
repetition,1;
repetition,1;
so,1;
that,1;
compiler
knows,1;
which,1;
repetition,1;
matcher,1;
that,1;
hygienic,,1;
that,1;
them,1;
safer,1;
without,1;
that,1;
hygienic,,1;
macro,1;
that,1;
that,1;
you,1;
variable,1;
with,1;
macro,1;
that,1;
defines,1;
variable,1;
foo,
the,1;
from).,1;
access,1;
at
the,1;
macro,1;
identifiers,1;
that,1;
from,1;
that,1;
For
an,1;
which,1;
has,1;
macro,1;
variable,1;
=>,1;
{
let,1;
$x;
}
}
let,1;
1);
Listing,1;
universes.,1;
let_foo!(2),,1;
from,1;
one,1;
generated,1;
universes,1;
relationship,1;
one,1;
that,1;
that,1;
macro,1;
This,1;
easier,1;
accidentally,1;
variables
in,1;
macro,1;
you,1;
choose,1;
vari-
able,1;
names!
This,1;
variable,1;
identifiers,
however.,1;
with,1;
This,1;
means,1;
your,1;
macro,1;
that,1;
macro,1;
was,1;
so,1;
This,1;
them,1;
generate,1;
which,1;
macro,1;
you,1;
from,1;
your,1;
macro,1;
you,1;
anything,1;
caller.,1;
that,1;
your,1;
macro,1;
has,1;
has,1;
imported,1;
its,1;
::alloc::boxed::Box.
If,1;
you,1;
crate,1;
that,1;
defines,1;
you,1;
so,1;
that,1;
macro,1;
choose,1;
identifiers,1;
macro,1;
its,1;
macro,1;
variable,1;
is
to,1;
that’s,1;
tied,1;
you,1;
macro,1;
never,1;
caller.,1;
other,1;
macro,1;
takes,1;
$foo,1;
with,1;
originated,1;
so,1;
that,1;
that,1;
macro,1;
vari-
able,1;
nonetheless,1;
has,1;
access,1;
=>,1;
1;
please_set!(x,,1;
7-6:,1;
access,1;
identifiers,1;
macro,1;
instead,,1;
name,1;
definition
scope.
One,1;
last,1;
scoping:,1;
after
they,1;
you,1;
macro,1;
that,1;
you,1;
down,1;
file,,1;
work!,1;
This,1;
your,1;
you,1;
macro,1;
one,1;
you,1;
macro,1;
later.,1;
macro,1;
that,1;
then
mod,1;
one,1;
scop-
ing),,1;
that,1;
you,1;
macro,1;
with,1;
annotation,1;
hoists,1;
macro,1;
crate,1;
so,1;
that,1;
be
used,1;
your,1;
crate,1;
your,1;
Macros
You,1;
procedural,1;
macro,1;
you,1;
between.,1;
macro,1;
your,1;
so,1;
you,1;
some,1;
rather,1;
writing,1;
few,1;
is
aware,,1;
procedural,1;
macro,1;
less,1;
preprocessor,1;
that
may,1;
that,1;
your,1;
stream,1;
that’s,1;
it!
Types,1;
specialized,1;
a
particular,1;
that,1;
your,1;
macro,1;
with,1;
you,1;
that,1;
tree.
However,,1;
macro,1;
its,1;
one,1;
Macros
The,1;
macro,1;
procedural,1;
simply,1;
macro,1;
with,1;
the
code,1;
that,1;
procedural,1;
macro,1;
with,1;
declarative
macros,,1;
all,1;
guard,1;
these,1;
(like,1;
all,1;
procedural,1;
required,1;
you,1;
from,1;
with,1;
identifiers,1;
expected,1;
which,1;
identifiers,1;
which,1;
macro,1;
which,1;
Macros
The,1;
attribute,1;
macro,1;
that,1;
attribute,1;
one,1;
takes,1;
that,1;
attached,1;
other,1;
that,1;
you,1;
procedural,1;
macro,1;
that,1;
transforms,1;
prelude,1;
(like
#[test],1;
fields,1;
struct.
Derive,1;
Macros
The,1;
macro,1;
from,1;
other,1;
that,1;
rather,1;
replaces,,1;
Even,1;
one,1;
creation,1;
procedural,1;
Specifically,,1;
serde
crate,1;
needed,1;
its,1;
arguably,1;
procedural,1;
rigid,1;
form:,1;
you,1;
items,1;
the
annotated,1;
you,1;
you,1;
have
the,1;
you,1;
that,1;
macro,1;
(like,1;
#[serde(skip)])—but,1;
these,1;
independent,1;
procedural,1;
macro,1;
you,1;
procedural,1;
that,1;
with,1;
them,1;
some,1;
syn,1;
which,1;
parser
for,1;
that,1;
writing,1;
much,1;
with,1;
all,1;
you,1;
compiling,1;
your,1;
procedural,1;
several,1;
procedural,1;
you,1;
execution,1;
reason,1;
procedural,1;
is
that,1;
you,1;
generate,1;
without,1;
macro,1;
you,1;
from,1;
generated,1;
code,
it,1;
from,1;
parse,,1;
you,1;
procedural,1;
that,1;
generated,1;
your,1;
actual,1;
execution,1;
procedural,1;
has,1;
macro,1;
its,1;
continue,,1;
practice,,1;
your,1;
you,1;
with,1;
your,1;
execution,1;
your,1;
procedural,1;
macro,1;
Want,1;
Macro
Let’s,1;
now,1;
some,1;
procedural,1;
with,1;
one:,1;
one,1;
one,1;
Not,1;
all,1;
many,1;
practice,,1;
you,1;
should
consider,1;
macro,1;
its,1;
first
of,1;
these,1;
conditions,1;
your,1;
writing,1;
convoluted,1;
macro,1;
told,1;
shown,1;
type,,1;
you,1;
name,1;
field,1;
representation,1;
its,1;
that’s,1;
derive(Debug)
does.,1;
Clone?,1;
expect,1;
again,,1;
that’s,1;
field,1;
its,1;
value,,1;
you,1;
for
what,1;
worse
yet,,1;
your,1;
off,1;
harder,1;
you,1;
you,1;
macro,1;
with,1;
that’s,1;
with,1;
you,1;
really,1;
it,,1;
function-like
macro:
•
•
If,1;
you,1;
its,1;
that,1;
macro,1;
you,1;
that,1;
you,1;
com-
pile,1;
with,1;
const,1;
fn.,1;
An,1;
which,1;
set,1;
set,1;
provided,1;
Another,1;
takes,1;
hexadecimal,1;
with,1;
anything,1;
that,1;
computes,1;
reaching,1;
macro,1;
so,1;
that,1;
your,1;
that,1;
avoids,1;
many,1;
you,1;
you,1;
Macros
That,1;
with,1;
attribute,1;
these,1;
arguably,1;
procedural,1;
years,1;
again,,1;
I,1;
generation
It,1;
test,1;
under,1;
many,1;
with,1;
code.
While,1;
macro,1;
you,1;
your,1;
you,1;
attribute,1;
prelude,1;
postscript,1;
test,,1;
attribute,1;
that,1;
test,1;
with,1;
annotations
Libraries,1;
attribute,1;
with,1;
that,1;
so,1;
much,1;
String)
than,1;
set,1;
with,1;
miniature,1;
that,1;
hides,1;
tokio,1;
you,1;
set,1;
runtime,1;
run
your,1;
thereby,1;
you,1;
from,1;
writing,1;
run-
time,1;
application’s,1;
middleware
Some,1;
into,1;
your,1;
provide,1;
value,1;
that,1;
change,1;
and
metric,1;
you,1;
attribute,1;
it,,1;
that
function,1;
some,1;
library.
Type,1;
transformers
Sometimes,1;
you,1;
and
actually,1;
change,1;
some,1;
attribute,1;
way,1;
crate,1;
its,1;
particular
trait,1;
rather,1;
that,1;
all,1;
access,1;
fields,1;
type
happens,1;
rules,1;
that,1;
set,1;
Rust’s,1;
type,,1;
safety,1;
accidentally,1;
implemented,1;
with,1;
procedural,1;
one,1;
rules,1;
procedural,1;
They,1;
all,1;
procedural,1;
type,,1;
which,1;
individual,1;
TokenTree,1;
items,1;
that,1;
that,1;
token
stream.,1;
TokenTree,1;
{}.,1;
you,1;
you,1;
long,1;
individual,1;
tokens.,1;
you,1;
your,1;
you,1;
syn,1;
complete,1;
into,1;
procedural,1;
you,1;
into,1;
that,1;
manually
construct,1;
one,1;
TokenTree,1;
TokenStream’s,1;
which,1;
you,1;
into,1;
with,1;
you,1;
some,1;
your,1;
prologue,,1;
input.
NOTE
TokenStream,1;
which,1;
stream.
This,1;
super,1;
debugging!
Tokens,1;
I’ve,1;
described,1;
so,1;
TokenTree,,1;
has,1;
generated,1;
that,1;
generated,1;
it.
Every,1;
span,1;
that,1;
originated.,1;
macro,1;
one,1;
7-7,,1;
which,1;
provided,1;
=>,1;
};,1;
macro,1;
that,1;
macro,1;
with,1;
error,1;
other,1;
u31,1;
indeed,
that’s,1;
span,1;
generated,1;
macro,1;
with,1;
that,1;
compiler
error,1;
eventually,1;
printed,,1;
error,1;
from,1;
that,1;
u31,1;
u31,1;
macro,1;
that’s,1;
you,1;
that,1;
error,1;
you,1;
its,1;
name,1;
error,1;
wherever,1;
with,1;
provided,1;
This,1;
you,1;
with,1;
By
setting,1;
span,1;
TokenTree,1;
you,1;
generate,1;
span,1;
some,1;
you,1;
error,1;
Together,,1;
these,1;
macro,1;
that,1;
from,1;
actual,1;
error,1;
generated,1;
that,1;
never,1;
7NOTE
If,1;
you’ve,1;
error,1;
its,1;
Error,1;
method,,1;
which,1;
into,1;
directive.,1;
What’s,1;
with,1;
Error,1;
that,1;
errors,,1;
which,1;
with,1;
its,1;
span,1;
so,1;
that,1;
you,1;
multiple
independent,1;
from,1;
your,1;
procedural,1;
macro.
The,1;
Rust’s,1;
you,1;
you,1;
span,1;
that,1;
that,1;
span,1;
that,1;
you,1;
set,1;
span,1;
macro,1;
was,1;
from,1;
other,1;
you,1;
set,1;
identifiers,1;
macro,1;
site,
and,1;
so,1;
with,1;
respect,1;
Span::mixed_site,1;
so,1;
resolution,1;
macro,1;
procedural,1;
you,1;
them,1;
your,1;
took,1;
into,1;
that,1;
some,1;
you,1;
next,1;
chapter,,1;
journey,1;
into,1;
programming,1;
Future,1;
I,1;
on
the,1;
next,1;
AMMING
Asynchronous,1;
programming,1;
programming,1;
that,1;
one,1;
that,1;
executes,1;
the
background—the,1;
complete,1;
next,1;
with,1;
that,1;
really,1;
dig,1;
into,1;
This,1;
demonstrating,1;
trade-offs,1;
journey,1;
whatmotivates,1;
programming,1;
dig,1;
into,1;
under,1;
with,1;
your,1;
computer,1;
your,1;
that,1;
spend,1;
happen.,1;
audio,,1;
that,1;
your,1;
move,,1;
writing,1;
some,1;
or
maybe,1;
from,1;
one,1;
few,1;
instructions,,1;
goes,1;
again.,1;
your,1;
that’s,1;
your,1;
(or,1;
operation
has,1;
you,1;
you,1;
them,
they,1;
some,1;
eventually,1;
has
completed,1;
your,1;
from,1;
reason,1;
chapter,,1;
that,1;
bit,1;
extra,1;
machinery.,1;
you,1;
requires,1;
much,1;
less,1;
and
circumstance.
Synchronous,1;
hide,1;
all,1;
that,1;
“write,1;
these,1;
file,”,1;
some,1;
that
function,1;
next,1;
executes.,1;
Behind,1;
really,1;
that,1;
operating,1;
sleep,1;
has,1;
finished,1;
long,1;
execute,,1;
really,1;
that,1;
way,1;
referred,1;
that,1;
some,1;
progress
blocks,1;
execution,1;
that,1;
you,1;
basic,1;
move,1;
the
operation,1;
so,1;
reason,1;
your,1;
executes,1;
one,1;
one,1;
you,1;
your,1;
your,1;
operating,1;
your,1;
some
other,1;
writing,1;
file,,1;
that,1;
blocks,1;
execution,1;
particular,1;
independent,1;
blocking,1;
operating,1;
among,1;
so,1;
that,1;
one,1;
some,1;
other,1;
so,1;
these,1;
with,1;
other,1;
primitive,1;
so,1;
that,1;
you,1;
one,1;
that,1;
waits,1;
for
user,1;
one,1;
that,1;
waits,1;
waits,1;
send,1;
shared
between,1;
all,1;
you,1;
that,1;
one,1;
operating,1;
that,1;
which,1;
one,1;
choose,1;
one,1;
that,1;
combined,1;
with,1;
blocking,1;
you,1;
far,
and,1;
large,1;
production-ready,1;
this
approach,1;
without,1;
its,1;
track,1;
all,1;
you,1;
so,1;
needed,1;
all,1;
them,1;
one,1;
one,1;
its,1;
you,1;
round-trip,1;
operating,1;
that’s,1;
some,1;
spawning,1;
with,1;
performance,1;
needs,1;
cost,1;
operating,1;
that,1;
many,1;
you,1;
with,1;
blocking,1;
that,1;
you,1;
many,1;
blocking,1;
you,1;
into,1;
your,1;
distinc-
tion,1;
means,1;
that,1;
execution,1;
your,1;
tasks,1;
whereas
parallelism,1;
means,1;
that,1;
tasks,1;
execution,1;
Programming
119(concurrency),1;
versus,1;
you,1;
many,1;
you,1;
have
only,1;
core,,1;
so,1;
one,1;
mutually,1;
exclusive
in,1;
execution,1;
Mutex,1;
other,1;
means,1;
that,1;
your,1;
access,1;
structures.,1;
This,1;
from,1;
RefCell,1;
you,1;
your,1;
parallelism,,1;
threading,1;
you,1;
much,1;
greater,1;
Interfaces
Now,1;
that,1;
we’ve,1;
explored,1;
An,1;
one,1;
that,1;
yield,1;
some,1;
This,1;
rather,1;
sleep,1;
that,1;
particular,1;
method,1;
that,1;
8-1.
enum,1;
core,1;
you,1;
later”,1;
shows,1;
names,1;
that,1;
operation
without,1;
into,1;
exactly,1;
that,1;
much,1;
return.,1;
off,1;
so,1;
that,1;
execution,1;
you,1;
from,1;
user’s,1;
has,1;
all,1;
you,1;
one,1;
them,1;
you,1;
next,1;
blocking,1;
operating,1;
simply,1;
took,1;
avoid,1;
cycles,1;
nonblocking
world?,1;
much,1;
remainder,1;
all,1;
with
slightly,1;
names,,1;
types—but,1;
that,1;
Future,1;
shown,1;
one,1;
Future,1;
Future,1;
that,1;
Future,1;
that,1;
next,1;
which,1;
some,1;
has,1;
elapsed.,1;
that,1;
Types
like,1;
referred,1;
other,1;
eventually,1;
yield,1;
indicated,1;
that,1;
into,1;
generalize,1;
can
have,1;
recv,1;
that,1;
Future,1;
with,1;
an
appropriate,1;
This,1;
change,1;
that,1;
you,1;
deal,1;
with,1;
that,1;
that,1;
these,1;
everywhere.
NOTE
In,1;
you,1;
has,1;
its,1;
rights,1;
that,1;
it
has,1;
referred,1;
Futures
Writing,1;
that,1;
Future,1;
way,1;
I’ve,1;
described,1;
so,1;
pain.,1;
8-3,1;
that,1;
simply,1;
forward<T>(rx:,1;
tx:,1;
{
tx.send(t).await;
}
}
Listing,1;
Programming
121This,1;
syntax,,1;
simply,1;
send,1;
messages,,1;
Now
think,1;
you,1;
had,1;
Future,1;
from,1;
last,1;
1
WaitingForReceive(ReceiveFuture<T>,,1;
Future,1;
2
fn,1;
tx),1;
=>,1;
{
if,1;
{
if,1;
{
let,1;
Forward::WaitingForSend(tx.send(v),,1;
self.poll();,1;
6
},1;
{
//,1;
items.
Poll::Ready(())
}
},1;
=>,1;
{
if,1;
{
let,1;
8-4:,1;
anymore,,1;
into,1;
under,1;
so,1;
enum,1;
which,1;
we’re,1;
currently,1;
This,1;
that
122
Chapter,1;
8when,1;
next,1;
again.,1;
some,1;
way,1;
middle,1;
which,1;
we’re,1;
we’re,1;
wait-
ing,1;
finish,,1;
that,1;
definition
of,1;
which,1;
shown,1;
so,1;
that,1;
next,1;
goes,1;
you,1;
too;,1;
Future,1;
Forward,,1;
its,1;
anything.,1;
has,1;
finished,1;
complete,1;
so,1;
that,1;
com-
municate,1;
from,1;
send(),1;
stack,1;
so,1;
leave,1;
that,1;
day.
When,1;
needs,1;
wherever,1;
last,1;
enum,1;
currently,1;
in
self,1;
into,,1;
blocks,1;
we’re,1;
trying,1;
we’re,1;
trying,1;
resolves,,1;
one,1;
inner,1;
resolves,,1;
update,1;
which,1;
enum,1;
move,1;
that,1;
all,1;
self.,1;
we
store,1;
move,1;
which,1;
move,1;
4.,1;
This,1;
silly,1;
we’re,1;
6,1;
so,1;
that,1;
if
we,1;
send,1;
This,1;
which,1;
now,1;
that,1;
has,1;
them,1;
particular,1;
This,1;
was,1;
a
fairly,1;
you,1;
writing,1;
that,1;
so,1;
that,1;
them,1;
way,1;
send,1;
ownership,1;
tied,1;
Programming
123borrow,1;
which,1;
from,1;
that,1;
would
not,1;
we’re,1;
trying,1;
self.
NOTE
You,1;
that,1;
standard,1;
its,1;
that,1;
these,1;
referred,1;
them,1;
read,,1;
change.,1;
error,1;
would
increase,1;
which,1;
Together,
they,1;
provide,1;
much,1;
writing,1;
asynchronous
state,1;
one,1;
Specifically,,1;
you,1;
the
code,1;
way,1;
that,1;
forward<T>(rx:,1;
tx:,1;
{
tx.send(t).await;
}
}
Listing,1;
you,1;
much,1;
with,1;
you,1;
was,1;
so,1;
them,1;
much,1;
which,1;
with,1;
some,1;
extra,1;
that,1;
its,1;
execution,1;
from,1;
last,1;
that,1;
but
the,1;
currently,1;
(this,1;
so,1;
needs,1;
suppose,1;
eventually,1;
from,1;
it’ll,1;
next,1;
previously,1;
send,1;
so,1;
that’s,1;
into,1;
anymore,,1;
it
needs,1;
its,1;
so,1;
that,1;
its,1;
execution,1;
with,1;
state.,1;
the
state,1;
that’s,1;
generated,1;
all,1;
that,1;
allows,1;
generator
to,1;
from,1;
its,1;
state,,1;
later”,1;
means,1;
some,1;
extra,1;
into,1;
method,,1;
which,1;
inspects,1;
previously,1;
next.,1;
This,1;
exactly,1;
did,1;
other,1;
shown,1;
forward<T>(rx:,1;
tx:,1;
{
let,1;
rx.next();
let,1;
yield,1;
{
let,1;
yield,1;
into,1;
usable,1;
Rust—they
are,1;
that
may,1;
change,1;
Generators,1;
without,1;
carry,1;
around,1;
that,1;
yield,1;
items,1;
one,1;
you,1;
you,1;
that,1;
yield,1;
really,1;
from,1;
all,,1;
several,1;
function,,1;
they’re,1;
This,1;
into,1;
persist,1;
into,1;
them,1;
from,1;
structure,,1;
rather,1;
stack,,1;
execu-
tion.,1;
you,1;
declare,,1;
from,1;
some,1;
variable,1;
you,1;
operating,1;
akin,1;
all,1;
subtle,1;
that,1;
yield,1;
points.,1;
This,1;
Receiver::next,1;
rather,1;
took,1;
receiver,1;
these,1;
way,1;
referenced,1;
resolves,,1;
so,1;
into,1;
that,1;
accessible.,1;
into,1;
machine,1;
that,1;
OF,1;
generator’s,1;
one,1;
yield,1;
your,1;
contains,,1;
itself.,1;
Even,1;
your,1;
smaller,1;
that,1;
it
needs,1;
invoked.
This,1;
means,1;
that,1;
generators,,1;
large,1;
without,1;
size,1;
your,1;
This,1;
your,1;
which,1;
you,1;
identify,1;
size,1;
your,1;
performance,1;
your,1;
application’s,1;
performance,1;
these,1;
large,1;
long,1;
functions.,1;
help,1;
with,1;
you,1;
large,1;
you,1;
options:,1;
move,1;
so,1;
that,1;
way,1;
extra,1;
problematic,1;
heap,,1;
measure,1;
your,1;
your,1;
performance,1;
you,1;
from,1;
neat,,1;
technique,1;
I’ve,1;
described,1;
so,1;
from,1;
that
rx.next(),1;
next,1;
so,1;
that,1;
next,1;
8now,1;
Specifically,,1;
8-7,,1;
which,1;
forward.
async,1;
tx:,1;
Option<impl,1;
8-7:,1;
Moving,1;
once,,1;
without,1;
receiver,1;
some,1;
which,1;
choose,1;
with,1;
async
and,1;
so,1;
goes,1;
some,1;
eventually,1;
receiver,1;
otherwise.,1;
from,1;
Those,1;
one,1;
provided,1;
which,1;
fields,1;
move.,1;
stashed-
away,1;
we’ve,1;
into,1;
one
that,1;
that,1;
data.,1;
generators,,1;
these,1;
self-
referential,1;
blow,1;
yield,1;
wrapper,1;
that
prevents,1;
wrapped,1;
from,1;
that,1;
removed,1;
from,1;
so,1;
with,1;
you,1;
Future,1;
we’re,1;
now,1;
one,1;
Future,1;
its,1;
Future,1;
Self>),1;
8-8:,1;
less,1;
Future,1;
with,1;
Pin
Asynchronous,1;
Programming
127In,1;
requires,1;
that,1;
you,1;
you,1;
value,1;
that,1;
that,1;
that,1;
never,1;
move,1;
again.,1;
This,1;
means,1;
that,1;
you,1;
self-references
internally,1;
your,1;
exactly,1;
you,1;
Future,1;
tied,1;
Future,1;
trait—you,1;
you,1;
poll?,1;
contained,1;
value,1;
some,1;
its,1;
shown,1;
{
pub,1;
unsafe,1;
new_unchecked(pointer:,1;
P),1;
Pin<&'a,1;
{
pub,1;
unsafe,1;
P::Target;
fn,1;
&Self::Target;
}
Listing,1;
its,1;
unpack,1;
we’re,1;
few,1;
all,1;
so,1;
with,1;
that,1;
rather,1;
hold
some,1;
that,1;
into,1;
that,1;
rather,1;
Pin<MyType>,,1;
Pin<Box<MyType>>,1;
reason,1;
simple—
Pin’s,1;
that,1;
you,1;
move,,1;
so,1;
simply,1;
that,1;
invariant!,1;
remainder,1;
type.
Next,,1;
that,1;
constructor,,1;
This,1;
has,1;
way,1;
that,1;
that,1;
move,1;
again.,1;
Con­
sider,,1;
variable,1;
foo),,1;
method,1;
that,1;
requires,1;
that,1;
move,1;
much,1;
method,,1;
which,1;
that,1;
around,1;
now,1;
other,1;
reason,1;
unsafe,1;
that,1;
its,1;
safety,1;
on
the,1;
that,1;
way
that,1;
of
DerefMut::deref_mut,1;
(and
without,1;
unsafe,1;
move,1;
Drop.,1;
safety
requirement,1;
that,1;
(like,1;
that,1;
its,1;
move,1;
the
pointed-to,1;
value,1;
receive.
We,1;
method,,1;
which,1;
you,1;
This,1;
method,1;
T,,1;
has,1;
move,1;
its,1;
invalidated.,1;
method,1;
method,1;
that,1;
takes,1;
swap,1;
values
behind,1;
method,1;
that,1;
takes,1;
its,1;
that,1;
and
that,1;
reason,1;
that,1;
you,1;
move,1;
writing,1;
other,1;
unsafe,1;
This,1;
unsafe,1;
you,1;
wrote,1;
some,1;
one,1;
that,1;
that,1;
that,1;
came,1;
from,1;
that,1;
now,1;
invariant,1;
that,1;
never,1;
you,1;
did,1;
men-
tion,1;
Pin!
NOTE
If,1;
you’ve,1;
chapter,,1;
you,1;
which,1;
takes,1;
value,1;
This,1;
set,1;
value,1;
that,1;
was,1;
previously,1;
simply,1;
instead.,1;
violate,1;
old
value,1;
was,1;
never,1;
was,1;
there.
Unpin:,1;
you,1;
ask:,1;
that,1;
rather,1;
Programming
129indirection,1;
type,,1;
you,1;
that,1;
you,1;
haven’t,1;
that,1;
that,1;
that,1;
reason,1;
that,1;
guarantee,1;
that,1;
that,1;
remain,1;
that,1;
which,1;
so,1;
This,1;
requires,1;
unsafe,1;
you,1;
with,1;
so,1;
not.
This,1;
into,1;
An,1;
implementation
of,1;
simply,1;
that,1;
move,1;
that,1;
never,1;
guarantees,1;
a
target,1;
type,,1;
guarantees,1;
Send,1;
so,1;
that,1;
that,1;
that,1;
provide,1;
much,1;
simpler,1;
shown,1;
8-10.
impl<P>,1;
{
pub,1;
P),1;
deref_mut(&mut,1;
8-10,,1;
unsafe,1;
from,1;
unsafe,1;
that,1;
that,1;
move,1;
Those,1;
that,1;
T,,1;
never,1;
move,1;
that,1;
again.,1;
has,1;
declared,1;
that,1;
previously,1;
so,1;
fine,1;
unsafe,1;
guarantee
that,1;
move,1;
with,1;
T:,1;
has,1;
fine,1;
so,1;
that,1;
safety,1;
important.,1;
This,1;
means,1;
that,1;
simply,1;
provide,1;
get_unchecked_mut).,1;
provide,1;
that,1;
simply,1;
owned,1;
Unpin,
since,1;
Obtaining,1;
Pin
With,1;
now,1;
Future,1;
from,1;
that,1;
Self>.,1;
required,1;
that,1;
future).,1;
one,1;
with,1;
has,1;
move.,1;
that,1;
all,1;
so,1;
that,1;
that,1;
itself
moves,,1;
value,1;
move,1;
way,1;
that,1;
is
to,1;
heap,,1;
move,1;
your,1;
remain,1;
was.,1;
This,1;
rationale,1;
which,1;
takes,1;
that,1;
constructor,,1;
we’re,1;
Box,,1;
T,,1;
that,1;
This,1;
you,1;
odd,,1;
that,1;
Unpin
is,1;
auto-trait,1;
that,1;
generally,1;
implemented,1;
all,1;
type’s
members,1;
reason,1;
that,1;
it
can,1;
provide,1;
you,1;
move,1;
Box<T>,,1;
you,1;
move,1;
other,1;
unconditional,1;
that,1;
you,1;
move,1;
a
Box<T>,1;
that
this,1;
you,1;
move,1;
that,1;
other,1;
stack,,1;
at
the,1;
writing,1;
requires,1;
unsafe,1;
value,1;
with,1;
has
been,1;
that,1;
value,1;
shown,1;
one,1;
that,1;
provide,1;
exactly,1;
this
macro.,1;
into,1;
standard,1;
pin_mut,1;
=>,1;
{
let,1;
unsafe,1;
stack
Asynchronous,1;
name,1;
variable,1;
stack,,1;
that,1;
has,1;
value,1;
that,1;
value,1;
that’s,1;
value,1;
macro,1;
that,1;
macro,1;
without,1;
dropping,1;
without,1;
that,1;
extra,1;
};,1;
without,1;
which,1;
extra,1;
reas-
signment,,1;
other,1;
that,1;
move,1;
into,1;
unusable,1;
stack,1;
requires,1;
unsafe,1;
avoids,1;
extra,1;
that,1;
Future
We,1;
now,1;
that,1;
that,1;
shows,1;
you,1;
with,1;
that’s,1;
hides,1;
from,1;
I,1;
told,1;
you,1;
into,1;
yield,1;
was,1;
we’ve,1;
you,1;
you,1;
bit,1;
shown,1;
expr,1;
=>,1;
unsafe,1;
}.poll(),1;
=>,1;
=>,1;
desugaring,1;
shorthand,1;
that,1;
expression,,1;
move,1;
variable,1;
that,1;
Future::poll.,1;
was,1;
so,1;
that,1;
yield,1;
correctly),,1;
that,1;
move,1;
again.
Furthermore,,1;
we’re,1;
so,1;
move,1;
value,1;
safety,1;
went,1;
deep,1;
into,1;
with,1;
now,1;
that,1;
we’re,1;
around,1;
that,1;
your,1;
you,1;
you,1;
that,1;
all,1;
you,1;
all,1;
Poll::Ready,,1;
that,1;
cycles,1;
it
can,1;
one,1;
wake,1;
sleep,1;
again.
Waking,1;
that,1;
with,1;
var-
ies,1;
port,”,1;
particular,1;
much,1;
has
passed.”,1;
that,1;
wrap
multiple,1;
other,1;
futures,,1;
thus,,1;
several,1;
wake,1;
these,1;
many,1;
notion,1;
way,1;
wake,1;
that,1;
around,1;
that,1;
integrates,1;
with,1;
passes,1;
Future,1;
that,1;
I’ve,1;
from,1;
you,1;
so,1;
Future,1;
actual,1;
Future,1;
with,1;
so,1;
that,1;
ecosystem,1;
context,1;
that,1;
necessary.
Asynchronous,1;
Programming
133The,1;
method,1;
wake,1;
which,1;
wake,1;
method,1;
takes,1;
its,1;
that,1;
This,1;
all,1;
which,1;
dynamic,1;
all,1;
that,1;
one,,1;
you,1;
standard,1;
has,1;
takes,1;
wake,1;
and
Drop.,1;
which,1;
among,1;
all,1;
with,1;
(like,1;
which,1;
for),1;
into,1;
that,1;
be
passed,1;
we’ve,1;
around,1;
with,1;
that,1;
wake,1;
provided,1;
next,1;
some,1;
other,1;
returned
Poll::Pending;,1;
trivially,1;
the
inner,1;
that,1;
way,1;
down.,1;
some,1;
you,1;
that,1;
referred,1;
leaf,1;
leaf,1;
has,1;
inner,1;
some,1;
that,1;
yet,1;
reason,1;
6,1;
correctness.
Leaf,1;
one,1;
that,1;
that,1;
originate,1;
(like,1;
and
those,1;
that,1;
(like,1;
that,1;
all,1;
that,1;
wake,1;
you,1;
it,,1;
that
code,1;
wake,1;
leaf,1;
that,1;
has,1;
its,1;
that,1;
receiver,1;
into,1;
Waker
left,1;
receiver,1;
wake,1;
receiver,1;
awoken,,1;
8Leaf,1;
that,1;
deal,1;
with,1;
the
code,1;
that,1;
they’re,1;
nothing,1;
operating,1;
that,1;
into,1;
some,1;
other,1;
leaf,1;
that,1;
executes,1;
blocking,1;
(or,1;
waits,1;
that,1;
wasteful;,1;
you,1;
had,1;
with,1;
lots,1;
provide,1;
leaf,1;
futures
that,1;
with,1;
arrange,1;
with,1;
operating,1;
exactly,1;
operating,1;
but
roughly,1;
track,1;
all,1;
that,1;
next,1;
goes,1;
leaf,1;
event,,1;
that,1;
it
knows,1;
provided,1;
include,1;
that,1;
its,1;
all,1;
leaf,1;
blocking,1;
operating,1;
leaf,1;
with,1;
much,1;
other,1;
operating,1;
mechanisms.,1;
that,1;
all,1;
with,1;
that,1;
operating,1;
that,1;
leaf,1;
with,1;
and
that,1;
waits,1;
has,1;
them,1;
effect,1;
leaf,1;
that,1;
leaf,1;
from,1;
one,1;
crate,1;
be
used,1;
with,1;
future’s,1;
leaf,1;
goes,1;
was
built,1;
needs,1;
that,1;
set,1;
needs,1;
wake,1;
eventually,1;
around,1;
leaf,1;
one,1;
with,1;
which,1;
performance,1;
you,1;
must
inspect,1;
that,1;
leaf,1;
particular,1;
type,,1;
T:,1;
ecosystem,1;
has,1;
yet,1;
settle,1;
exactly,1;
these,1;
which,1;
so,1;
AsyncRead
and,1;
ecosystem,1;
(or,1;
currently,1;
the
background,1;
(spawning,,1;
which,1;
later),1;
timer.
Waking,1;
realized,1;
that,1;
anything.,1;
described,1;
section),,1;
silly,1;
wake,1;
that,1;
that,1;
is
that,1;
bit,1;
misnomer—in,1;
signals,1;
that,1;
tells,1;
that,1;
to
poll,1;
particular,1;
around,1;
rather,1;
This,1;
wake,1;
currently,1;
so,1;
that,1;
that’s,1;
its,1;
purpose.
It,1;
which,1;
needs,1;
sleep;,1;
channels,1;
one,1;
another.,1;
you,1;
one,,1;
never,1;
which,1;
avoid
polling,1;
all,1;
them,1;
one,1;
them
runnable.,1;
slow,1;
other,1;
futures,,1;
which,1;
other,1;
futures,,1;
all,1;
the
way,1;
down,1;
leaf,1;
that,1;
with,1;
you,1;
contact,1;
and
from,1;
that,1;
contained,1;
inner,1;
response,,1;
all,1;
way,1;
down,1;
generally,1;
task,1;
wake,1;
which,1;
task,1;
was,1;
tasks,1;
eventually,1;
that,1;
task,1;
its,1;
from,1;
down,1;
that,1;
now,1;
its,1;
nothing,1;
that,1;
traverse,1;
one,1;
which,1;
inner,1;
always.
In,1;
one,1;
we’re,1;
that,1;
waits,1;
several,1;
all,1;
set,1;
join),
there,1;
many,1;
that,1;
has,1;
basically
a,1;
all,1;
its,1;
inner,1;
futures,,1;
so,1;
these,1;
receive
in,1;
with,1;
any
inner,1;
wake,1;
That
way,,1;
eventually,1;
again,,1;
its,1;
which,1;
its,1;
caused,1;
S,1;
Y,1;
NC,1;
calling,1;
from,1;
code,
since,1;
task,1;
other,1;
task,1;
without,1;
executor,,1;
which,1;
blocking,1;
(like,1;
std::sync::sleep),,1;
running
a,1;
that,1;
yield,1;
with,1;
other,1;
tasks,1;
that,1;
long,1;
tasks,1;
when
they,1;
tasks,1;
from,1;
Ultimately,,1;
you,1;
tasks,1;
one,1;
you,1;
with,1;
calling,1;
that,1;
where
possible,1;
that,1;
that,1;
that,1;
particular,1;
segment,1;
context,1;
that,1;
which,1;
of
thumb,1;
that,1;
ms,1;
without,1;
with,1;
spawn
When,1;
with,1;
you,1;
that,1;
spawns,1;
now,1;
what
that,1;
so,1;
way,1;
8-14.
async,1;
handle_client(socket:,1;
{
//,1;
with,1;
Handling,1;
one,1;
that,1;
arrives.
You,1;
that,1;
you,1;
your,1;
that,1;
resolves,,1;
which,1;
calling,1;
that
connection.,1;
itself,1;
next,1;
downside,1;
approach,1;
that,1;
one,1;
connec-
tion,1;
it,,1;
go
around,1;
(presum-
ably,1;
that,1;
has,1;
set,1;
all,1;
and
having,1;
which,1;
shows,1;
what
that,1;
{
let,1;
Handling,1;
with,1;
many,1;
now,1;
ones.,1;
has,1;
which,1;
point,
since,1;
that,1;
other,1;
from,1;
your,1;
that,1;
futures
that,1;
down,1;
path,1;
your,1;
mini-executor.
Another,1;
downside,1;
with,1;
one,1;
task,1;
that
internally,1;
all,1;
that,1;
one,1;
task,1;
which,1;
one,1;
its,1;
task,1;
leave,1;
multiplex,1;
among,1;
all,1;
you,1;
it,,1;
spawning,1;
that,1;
other,1;
tasks,1;
all,,1;
and
your,1;
Send,,1;
them,1;
tasks,1;
{
//,1;
task,1;
with,1;
Future,1;
that,1;
task,1;
possibly,1;
with,1;
tasks,1;
that,1;
you,1;
background,1;
with,1;
other,1;
tasks,1;
thread,,1;
tasks,1;
you,1;
your,1;
some,1;
your,1;
well,
anything.,1;
background,1;
tasks,1;
all,1;
so,1;
your,1;
you,1;
that,1;
Programming
139Summary
In,1;
chapter,,1;
we’ve,1;
taken,1;
We’ve,1;
that,1;
was,1;
now,1;
We’ve,1;
explored,1;
are
executed,,1;
multiplex,1;
among,1;
tasks,1;
some,1;
them,1;
deepest,1;
unsafe,1;
deep,1;
mere,1;
mention,1;
unsafe,1;
often
elicits,1;
responses,1;
from,1;
many,1;
from,1;
many,1;
from,1;
sidelines.,1;
others,1;
all,1;
Rust’s,1;
lie.”,1;
curtain,1;
bit,1;
unsafe,1;
you,1;
you,1;
Rust’s,1;
unsafe,1;
all,1;
book.,1;
you,1;
with,1;
your,1;
way,1;
unsafe,1;
from,1;
unsafe,1;
invariants,1;
reason,,1;
check.,1;
unsafe,1;
invariants,1;
chapter,,1;
invariants.,1;
way,1;
that,1;
your,1;
one,1;
invariant,1;
that,1;
applica-
tion-,1;
the
tail,1;
Ultimately,,1;
all,1;
required,1;
your,1;
all,1;
invariants,1;
that,1;
your,1;
uses,,1;
bugs,1;
unsafe,1;
way,1;
rules,1;
rather,1;
way,1;
rules,1;
compiler.,1;
you,1;
unsafe,1;
that,1;
unsafe,1;
unsafe,1;
unsafe,1;
that,1;
contained,1;
that,1;
unsafe,1;
particular,1;
into,1;
with,1;
itself,1;
used,,1;
you,1;
rules,1;
you,1;
unsafe,1;
you,1;
some,1;
actu-
ally,1;
writing,1;
unsafe,1;
unsafe,1;
Keyword
Before,1;
that,1;
unsafe,1;
grants,1;
unsafe,1;
dual,1;
particular,1;
unsafe,1;
you,1;
unsafe,1;
particular,1;
the
method,1;
unsafe,1;
guarantees,1;
that,1;
that,1;
{
pub,1;
unsafe,1;
9-1:,1;
An,1;
unsafe,1;
method,1;
that,1;
code
142
Chapter,1;
9Listing,1;
usage.,1;
method,1;
itself,1;
unsafe,1;
{
pub,1;
method,1;
that,1;
unsafe,1;
unsafe,1;
requires,1;
whereas,1;
as_ref,1;
that,1;
was,1;
invoking
other,1;
unsafe,1;
(like,1;
decr).,1;
that,1;
SomeType,1;
Even,1;
num-
ber,,1;
that,1;
the
safe,1;
method,1;
you,1;
T,,1;
as_ref,1;
last,1;
with,1;
reference.
NOTE
Undefined,1;
that,1;
greater
detail,1;
long,1;
way,1;
corrupt,1;
dereference,1;
way,1;
as_ref,1;
that,1;
that,1;
unsafe,1;
which,1;
core,1;
piece,1;
reasons,,1;
unsafe,1;
unsafe,1;
block
in,1;
you,1;
unsafe,1;
you,1;
primitive,1;
that,1;
fn.,1;
that,1;
deci-
sion,1;
now,1;
currently,1;
implemented,1;
This,1;
unsafe,1;
that,1;
unsafe,1;
without,1;
explicit
unsafe,1;
error,1;
“footgun,1;
radius”—if,1;
one,1;
unsafe,1;
you,1;
accidentally,1;
unsafe
operations,1;
without,1;
rules,1;
you,1;
without,1;
unsafe,1;
unsafe,1;
blocks,1;
unsafe,1;
important,,1;
you,1;
must
think,1;
them,1;
An,1;
unsafe,1;
that
they,1;
calling,1;
that,1;
must
ensure,1;
that,1;
documented,1;
safety,1;
invariants,1;
unsafe,1;
that,1;
wrote,1;
that,1;
checked,1;
that,1;
safety,1;
invariants,1;
unsafe,1;
you,1;
unsafe,1;
that,1;
asks,1;
calling,1;
unsafe,1;
calling,1;
code’s,1;
off,1;
unsafe,1;
contained,1;
that,1;
we
go,1;
chapter.
Great,1;
you,1;
unsafe,1;
with,1;
unsafe,1;
you,1;
that,1;
that,1;
many,1;
unsafe,1;
you,1;
dereference,1;
unsafe,1;
few,1;
other,1;
you,1;
fields,1;
change,1;
discussion,1;
Together,,1;
these,1;
you,1;
wreak,1;
all,1;
into,1;
one,1;
with,1;
that,1;
boundaries,1;
they’re,1;
much,1;
leave,1;
that,1;
boring,,1;
these,1;
what
we,1;
with,1;
unsafe,1;
deal,1;
with,1;
Rust’s,1;
*const,1;
these,1;
less
analogous,1;
T,,1;
that,1;
not
subject,1;
rules,1;
which,1;
referred,1;
many,1;
calling,1;
them,1;
fewer,1;
rules,1;
you,1;
unsafe,1;
you,1;
other,1;
from,1;
you,1;
generally,1;
into,1;
with,1;
its,1;
that,1;
reason,,1;
(or,1;
*).,1;
strange,1;
just
constructing,1;
you,1;
you,1;
T,,1;
you,1;
indicate,1;
that,1;
you,1;
Y,1;
PES
You,1;
*const,1;
exact,1;
worked
out,,1;
*const,1;
T/
NonNull<T>,1;
that,1;
invariant,1;
other,1;
names,1;
imply,,1;
*const,1;
that,1;
null,1;
*const,1;
among,1;
these,1;
your,1;
you,1;
you,1;
name,1;
lifetime.,1;
you,1;
you,1;
that,1;
null,,1;
NonNull<T>.,1;
from,1;
cool,1;
that,1;
never,1;
that,1;
extra,1;
setting,1;
null,1;
null,1;
value,1;
null,,1;
*const,1;
you,1;
T,,1;
lifetimes,,1;
value,1;
Rust’s,1;
self-pointer,1;
that,1;
long,1;
around,1;
move,,1;
which,1;
that,1;
you,1;
generally,1;
'static,,1;
self-pointer,1;
you,1;
that,1;
was,1;
that,1;
value,1;
its,1;
usize,
}
struct,1;
Parsed,1;
Trying,,1;
name,1;
in
Parsed,,1;
that,1;
from,1;
Parsed.
It’s,1;
'static,1;
if
Parsed,1;
valid.
Since,1;
lifetimes,,1;
you,1;
name,1;
lifetime.,1;
you,1;
that,1;
you,1;
which,1;
off,1;
you,1;
unsafe,1;
*const,1;
that,1;
into,1;
&str
at,1;
guarantee,1;
that,1;
with,1;
which,1;
has,1;
some,1;
that,1;
duration,1;
last,1;
sort-of,1;
'static,,1;
last,1;
goes,1;
so,1;
'self.,1;
Weak,,1;
last,1;
goes,1;
tied,1;
self.,1;
you,1;
.offset(),,1;
.sub(),1;
move,1;
that,1;
This,1;
tables,,1;
much,1;
overhead,1;
Those,1;
talking
more,1;
them,1;
I,1;
you,1;
(https://github.com/rust-lang/hashbrown/),1;
you,1;
unsafe,1;
you,1;
into,1;
afterwards.,1;
one,1;
that,1;
that,1;
your,1;
with,1;
that,1;
you,1;
these,1;
Back,1;
you,1;
you,1;
some,1;
normal
Rust,1;
type,,1;
you,1;
move,1;
bit,1;
normal,1;
type.
Some,1;
standard,1;
provide,1;
you,1;
with,1;
way,1;
them,1;
into,1;
parts,,1;
length
for,1;
way,1;
them,1;
into,1;
you,1;
with,1;
with,1;
that,1;
which,1;
with,1;
you,1;
some,1;
other,1;
that’s,1;
you,1;
parsing
or,1;
you,1;
with,1;
some,1;
lifetimes,,1;
you,1;
widely,1;
these,1;
you,1;
*const,1;
other,1;
*const,1;
you,1;
unsafe,1;
into,1;
you,1;
you,1;
that,1;
work-
ing,1;
with,1;
foreign,1;
that,1;
that,1;
pointer.,1;
you,1;
from,1;
that
you,1;
previously,1;
you,1;
trivially,1;
into,1;
its,1;
casts,1;
you,1;
plain,1;
data—types,1;
directly,1;
stream,1;
without,1;
safety,1;
invariants,1;
you,1;
leave,1;
that,1;
Unsafe,1;
that,1;
you,1;
unsafe,1;
functions.,1;
down,1;
stack,,1;
some,1;
but
higher,1;
stack,1;
you,1;
with,1;
through
function,1;
really,1;
calling,1;
unsafe,1;
you,1;
divided,1;
into,1;
that,1;
with,1;
non-
Rust,1;
that,1;
safety,1;
checks,,1;
that,1;
you,1;
that,1;
other,1;
extern,1;
blocks,1;
11).,1;
you,1;
telling,1;
that,1;
the
items,1;
appearing,1;
implemented,1;
some,1;
binary,1;
linked,,1;
you,1;
integrating
with.,1;
Rust’s,1;
access.,1;
you,1;
from,1;
all,1;
your,1;
all,1;
your,1;
arranged
Unsafe,1;
into,1;
into,1;
variable,1;
with,1;
all,1;
bad,1;
that,1;
its,1;
declared,1;
all.,1;
unsafe,1;
you,1;
access,1;
your,1;
heart’s
delight,,1;
long,1;
other,1;
side,1;
Rust’s,1;
Checks
Some,1;
unsafe,1;
runtime,1;
unsafe
since,1;
you,1;
access,1;
into,1;
a
slice,1;
was,1;
method,1;
you,1;
panic,1;
you,1;
provide,1;
way,1;
you,1;
length.
Another,1;
tables,,1;
which,1;
you,1;
provide,1;
you,1;
provide,1;
that,1;
never,1;
access,1;
endless,1;
performance,,1;
some,1;
these,1;
safety,1;
much,1;
overhead,1;
loops.,1;
cater,1;
performance,1;
paramount
and,1;
that,1;
indexes,1;
bounds,,1;
many,1;
provide,1;
particular,1;
without,1;
these,1;
safety
checks.,1;
include,1;
name,1;
that,1;
trust,1;
provided,1;
that
they,1;
slow,1;
safety,1;
examples,1;
str::from_utf8_unchecked.
In,1;
practice,,1;
safety,1;
performance,1;
trade-off,1;
with,1;
performance,1;
measure
first,,1;
unsafe,1;
invariants,1;
some,1;
invariants,1;
provided,1;
itself,,1;
which,1;
particular,1;
so,1;
many,1;
into,1;
some,1;
examples,1;
unsafe,1;
with,1;
that,1;
you,1;
MaybeUninit,1;
one,1;
few,1;
which,1;
you,1;
that,1;
that,1;
null,1;
dangling,1;
9MaybeUninit<bool>,1;
bit,1;
0,1;
This,1;
you,1;
value,1;
bit,1;
bit,1;
with,1;
that,1;
eventually,1;
that,1;
the
MaybeUninit,1;
now,1;
value,1;
be
used,1;
wrapper,1;
around,1;
that,1;
not
drop,1;
that,1;
dropping,1;
from,1;
inner,1;
(T).,1;
access,1;
method,1;
method,1;
trait),1;
wrapped,1;
without,1;
takes,1;
T,,1;
so,1;
This,1;
you,1;
value,1;
that,1;
you,1;
move,,1;
that,1;
value,1;
access,1;
T,,1;
which,1;
is
unsafe—it,1;
that,1;
never,1;
again.
std::ptr::drop_in_place
drop_in_place,1;
you,1;
directly,1;
that,1;
This,1;
unsafe,1;
pointee,1;
call,,1;
so,1;
some,1;
dereference,1;
bad,1;
This,1;
method,1;
you,1;
may
want,1;
value,1;
without,1;
memory.
Waker::from_raw
In,1;
that,1;
implemented,1;
vtable.
Once,1;
has,1;
wake,1;
from,1;
that,1;
all,1;
its,1;
that,1;
set,1;
that,1;
about
the,1;
machine,1;
unreachable_unchecked,1;
particular,1;
tells,1;
that,1;
allows,1;
that
Unsafe,1;
conditional,1;
that,1;
which,1;
unreachable_unchecked,1;
mention,1;
that,1;
your,1;
was,1;
not!
std::ptr::{read,write}_{unaligned,volatile}
The,1;
that,1;
you,1;
with,1;
that,1;
that,1;
generally
makes,1;
these,1;
which,1;
you,1;
access,1;
that,1;
This,1;
contained,1;
directly,1;
byte,1;
with,1;
other,1;
without,1;
which,1;
you,1;
that,1;
these,1;
access,1;
given
pointer,1;
cached,1;
you
read,1;
row),,1;
reorder
the,1;
accesses,1;
other,1;
Volatile,1;
opera-
tions,1;
with,1;
that,1;
backed
by,1;
normal,1;
DRAM,1;
these,1;
unsafe,1;
dereference,1;
owned,1;
T,,1;
that),,1;
so,1;
you,1;
off,1;
all,1;
with,1;
normal,1;
that,1;
requires,1;
that,1;
from,1;
that,1;
if
we,1;
stack,,1;
you,1;
that,1;
some,1;
outlive,1;
This,1;
happen
if,1;
you,1;
join,1;
dropping,1;
value,1;
you,1;
'static,1;
you,1;
that,1;
unsafe,1;
result.,1;
you,1;
thread!
Note,1;
that,1;
all,1;
these,1;
all,1;
unsafe,1;
the
standard,1;
provide,1;
safety,1;
invariants,
as,1;
unsafe,1;
Unsafe,1;
unsafe,1;
unsafe,1;
implement.,1;
This,1;
(defined,1;
trait’s,1;
doc-
umentation),1;
unsafe,1;
traits.,1;
unsafe,1;
Send,,1;
you,1;
unsafe,1;
Send,1;
....,1;
unsafe,1;
generally,1;
invariants,1;
that,1;
(or
at,1;
be),1;
unsafe,1;
so,1;
some,1;
from,1;
standard,1;
that,1;
Send,1;
Sync,1;
denote,1;
that,1;
send,1;
these,1;
in
Chapter,1;
now,1;
you,1;
that,1;
so,1;
they’ll,1;
implemented,1;
you,1;
with,1;
Send,1;
Sync,1;
context,1;
unsafe,1;
to
raw,1;
which,1;
neither,1;
Send,1;
nor,1;
has,1;
way,1;
value,1;
so
how,1;
send,1;
threads?,1;
that,1;
we’re,1;
that,1;
all,,1;
so,1;
invariants,1;
Sync,1;
Send,1;
prob-
lem,1;
that,1;
were,,1;
that,1;
auto-
matically,1;
Send,1;
Sync,1;
that,1;
was,1;
dereference
the,1;
without,1;
behavior.,1;
safeguard,1;
unsafe,1;
that,1;
the
Send,1;
Sync,1;
with,1;
unsafe,1;
Send,1;
Sync,1;
unsafe,1;
Send,1;
GlobalAlloc,1;
you,1;
much,1;
that,1;
the
trait,1;
itself,1;
required,1;
unsafe,1;
GlobalAlloc,1;
{
pub,1;
unsafe,1;
alloc(&self,,1;
u8;
pub,1;
unsafe,1;
Layout);
}
Listing,1;
GlobalAlloc,1;
with,1;
its,1;
required,1;
its,1;
core,,1;
has,1;
one,1;
method,1;
of
memory,,1;
alloc,,1;
one,1;
deallocating,1;
size,1;
in
Chapter,1;
unsafe,1;
safety
invariants,1;
that,1;
its,1;
uphold.
GlobalAlloc,1;
itself,1;
unsafe,1;
its,1;
that,1;
agree,1;
invariants,1;
itself,1;
its,1;
standard,1;
was,1;
could
safely,1;
GlobalAlloc,1;
way,1;
that,1;
or
incorrectly,1;
which,1;
that,1;
that,1;
This,1;
other,1;
code,
and,1;
all,1;
mayhem.
Surprisingly,1;
Not,1;
which,1;
many,1;
you,1;
After
all,,1;
supposed,1;
that,1;
they’re,1;
is,
after,1;
that,1;
be
used,1;
from,1;
unsafe,1;
it’s
unnecessary.,1;
that,1;
you,1;
grant
you,1;
unpin,1;
that,1;
requires,1;
way,1;
you,1;
unpin,1;
you,1;
you,1;
type,,1;
your
type,1;
was,1;
previously,1;
all,1;
without,1;
That
potential,1;
invariants,1;
upheld,1;
that,1;
all,1;
unsafe,1;
that,1;
that,1;
imple-
mented,1;
Send,1;
value,1;
that,1;
thread,,1;
were
152
Chapter,1;
that,1;
trivially,1;
you,1;
access,1;
Rc’s,1;
that,1;
implemented,1;
that,1;
was,1;
unsafe,1;
you,1;
side,1;
you,1;
realize,1;
that,1;
backward,1;
that,1;
(or,1;
even
malicious),1;
that’s,1;
reason,1;
unsafe,1;
foremost,1;
some-
thing,1;
that,1;
all,1;
safe,,1;
much,1;
that,1;
with,1;
implementa-
tion,1;
that,1;
This,1;
unsafe,1;
that,1;
memory-unsafe,1;
Hash—but,1;
that,1;
unsafe.
The,1;
that,1;
(but,1;
valid),1;
unsafe,1;
that,1;
never,1;
was,1;
neither,1;
did,1;
never,1;
unsafe,1;
that,1;
that,1;
safety,1;
its,1;
This,1;
all,1;
we’ve,1;
looked,1;
that,1;
you,1;
unsafe,1;
unsafe,1;
so,1;
Even,1;
unsafe,1;
dereference,1;
so,1;
that,1;
its,1;
that,1;
all,1;
Rust’s,1;
normal,1;
other,1;
unsafe,1;
access,1;
that,1;
be
used,1;
unsafe,1;
means,1;
dereference,1;
transmute
between,1;
some,1;
gotchas,,1;
with,1;
some,1;
that,1;
help,1;
safer,1;
unsafe,1;
exact,1;
rules,1;
around,1;
means,1;
Unsafe,1;
Guidelines
Working,1;
down,1;
all,1;
remain,1;
less,1;
that,1;
that,1;
you,1;
you,1;
unsafe,1;
you,1;
you,1;
your,1;
really,1;
into,1;
rules,1;
unsafe,1;
without,1;
you,1;
violate,1;
rules.,1;
you,1;
value,1;
from,1;
unaligned
reference,,1;
dereference,1;
dangling,1;
that,1;
referred,1;
generally,1;
one,1;
not
at,1;
all,,1;
errors,,1;
invisible,1;
the
happy,1;
wrote,1;
some,1;
that,1;
safe,,1;
that,1;
computer,1;
exe-
cutes,1;
Unfortunately,,1;
brittle.,1;
some,1;
tip,1;
into,1;
one,1;
cases.
Even,1;
compiler,,1;
This,1;
avoid,1;
currently,1;
Not,1;
so,1;
playing,1;
you,1;
you,1;
null,1;
your,1;
all,1;
with,1;
which,1;
you,1;
That
debugging,1;
itself,1;
you,1;
notification,1;
less,1;
that,1;
all,1;
which,1;
you,1;
that,1;
your,1;
that
you,1;
worst,1;
off,1;
from,1;
back-
ups,1;
name,1;
unsafe,1;
change,1;
that,1;
your,1;
unpredictable,1;
reason,1;
all,1;
a
serious,1;
matter,1;
currently,1;
Y,1;
UNDEFINED,1;
IOR?
An,1;
that,1;
that,1;
error,1;
bad,1;
unsafe,1;
code!
Unfortunately,,1;
that,1;
that,1;
under,1;
that,1;
Should,1;
that,1;
effect,1;
optimiza-
tion,1;
nothing,1;
bad,1;
from,1;
that,1;
that,1;
really,1;
telling,1;
them,1;
that
they,1;
wide,1;
that,1;
all,1;
you,1;
optimi-
zations,1;
strange,1;
blame,,1;
I,1;
recommend
reading,1;
Jung’s,1;
“We,1;
Language,1;
Specs”
(https://www.ralfj.de/blog/2020/12/14/provenance.html).
Validity
Perhaps,1;
writing,1;
which,1;
rules,1;
inhabit,1;
given
type—or,,1;
less,1;
rules,1;
so,1;
into,1;
some,1;
Types
Rust,1;
its,1;
never,1;
value,1;
never,1;
neither,1;
location.,1;
These
Unsafe,1;
regardless,1;
your,1;
null,1;
you,1;
dis-
card,1;
that,1;
pointee,1;
change,1;
reference’s,1;
lifetime.,1;
value
the,1;
pointee,1;
remain,1;
exactly,1;
its,1;
lifetime.,1;
so,1;
you,1;
that,1;
T,,1;
that,1;
so,1;
wrapped,1;
other,1;
that,1;
provide,1;
interior
mutability,,1;
UnsafeCell.
An,1;
Rust’s,1;
rules,1;
that,1;
was,1;
field,1;
or
partially,1;
that,1;
leaves
a,1;
way,1;
field,1;
was,1;
&some_struct.field,1;
*const,1;
_.,1;
initialized,,1;
itself,1;
1.51.0,,1;
macro,1;
was,1;
which,1;
directly,1;
particular,1;
implemented,1;
which,1;
directly,1;
haven’t,1;
yet,1;
Rust’s,1;
primitive,1;
byte,1;
large,1;
value,1;
value,1;
value,1;
char::MAX.,1;
Rust’s,1;
primitive,1;
Rust’s,1;
from,1;
that,1;
otherwise.
A,1;
which,1;
enum,1;
value,1;
all,1;
all,1;
extra,1;
byte,1;
padding),1;
The
compiler,1;
way,1;
potentially,1;
Option<Option<bool>>>.,1;
compiler
knows,1;
that,1;
0x02,1;
represent
Some(None),1;
0x03,1;
someone
were,1;
byte,1;
0x03,1;
that
value,1;
bad,1;
repeating,1;
that,1;
that,1;
unsafe,1;
you,1;
conform,1;
that,1;
that,1;
own,,1;
generally,1;
sub-
ject,1;
the
pointed-to,1;
they’re,1;
shared
reference.,1;
Specifically,,1;
that,1;
elsewhere,,1;
you,1;
from,1;
and
then,1;
from,1;
that,1;
wrapped,1;
them,1;
you,1;
access,1;
inner
type,1;
references.,1;
has,1;
arisen.)
Storing,1;
you,1;
value,1;
that,1;
currently,1;
its,1;
you,1;
some,1;
all,1;
you,1;
into,1;
you,1;
from,1;
is
also,1;
Rust’s,1;
with,1;
exactly,1;
#[repr(transparent)]),
but,1;
that,1;
that,1;
that,1;
0,1;
1.,1;
This,1;
means,1;
backed,1;
MaybeUninit,1;
name,1;
MaybeUninit,1;
is
also,1;
other,1;
unsafe,1;
you,1;
temporarily
store,1;
value,1;
that,1;
you,1;
MaybeUninit,1;
your,1;
generally,1;
with,1;
MaybeUninit:,1;
method,,1;
its,1;
inner,1;
with,1;
its,1;
name,1;
uninit,1;
size,1;
that,1;
as_mut_ptr,1;
method,1;
inner,1;
that,1;
you,1;
to;,1;
nothing,1;
stops
you,1;
from,1;
from,1;
it,,1;
from,1;
behavior.,1;
unsafe,1;
method,1;
consumes
the,1;
its,1;
now,1;
shows,1;
MaybeUninit,1;
byte,1;
without,1;
zeroing,1;
it.
Unsafe,1;
Code
157fn,1;
{
let,1;
[MaybeUninit::<u8>::uninit();,1;
last,1;
i,1;
Safety:,1;
all,1;
last,1;
initialized.
let,1;
unsafe,1;
with,1;
MaybeUninit,1;
array
While,1;
declared,1;
instead,,1;
that,1;
all,1;
stack,1;
them,1;
all,1;
thereafter.
Normally,1;
that,1;
performance,,1;
was,1;
stack,1;
was
called,,1;
with,1;
dropping,1;
panic,1;
has,1;
initialized,,1;
that,1;
now,1;
the
MaybeUninit,1;
Box,,1;
you
might,1;
with,1;
leak!
Panics
An,1;
ensuring,1;
that,1;
that,1;
briefly,1;
Rust’s,1;
your,1;
An,1;
panic,1;
from,1;
that,1;
function,,1;
so,1;
way,1;
down,1;
stack,1;
stack,1;
you,1;
into,1;
your,1;
unsafe,1;
many,1;
into,1;
Default>,1;
{
pub,1;
{
let,1;
fill,1;
self.capacity(),1;
fill,1;
0,1;
}
let,1;
self.len();
unsafe,1;
i,1;
{
*self.get_unchecked_mut(start,1;
method,1;
filling,1;
with,1;
Default,1;
all,1;
its,1;
same.,1;
some,1;
stack,,1;
owner,1;
owner,1;
now,1;
that,1;
fill,1;
eight,1;
elements,,1;
that
means,1;
eight,1;
that,1;
update,1;
all,1;
elements.,1;
realized,1;
was,1;
effect,1;
unsafe,1;
your,1;
these,1;
statements,1;
that,1;
panic,,1;
consider
whether,1;
your,1;
you,1;
that,1;
never,1;
anything,1;
that,1;
you,1;
that,1;
you,1;
you,1;
that,1;
your,1;
remainder,1;
?
to,1;
you,1;
off,1;
guard,1;
you,1;
into,1;
that,1;
fields,1;
This,1;
means,1;
that,1;
always
obvious,1;
guarantee,1;
that,1;
with,1;
that,1;
way,1;
have
the,1;
Foo<T>,1;
Foo<Baz>;
Listing,1;
9-7:,1;
guarantees,1;
you,1;
unsafe,1;
like
they,1;
that,1;
Casting
between,1;
that,1;
path,1;
behavior.,1;
community,1;
exact,1;
rules,1;
very
few,1;
guarantees,1;
so,1;
that’s,1;
into,1;
all,1;
T,,1;
you,1;
them,1;
your,1;
you,1;
some,1;
value,1;
bit,1;
so,1;
that,1;
apply,,1;
kept,1;
that,1;
layouts,1;
diverge,1;
into,1;
provided,1;
Sneaky;
}
impl,1;
that,1;
you,1;
never,1;
a
lot,1;
you,1;
all,1;
aware
that,1;
few,1;
guarantees,1;
and
write,1;
your,1;
Check
The,1;
essence,,1;
soundness,1;
which,1;
exactly,1;
one,1;
some,1;
has,1;
some,1;
for
unsafe,1;
shoes,1;
snippets.,1;
that,1;
takes,1;
variable,1;
mutates,1;
that,1;
variable,1;
you,1;
not?,1;
set,1;
that,1;
that,1;
which,1;
indicate,1;
that,1;
illegal.,1;
what’s,1;
it?,1;
that,1;
problematic,1;
that,1;
won’t
touch,1;
its,1;
last,1;
that,1;
last,1;
code!,1;
other,1;
since
the,1;
that,1;
i32),1;
}
let,1;
Bar,1;
without,1;
you,1;
not?,1;
Bar,1;
that’s,1;
Bar,1;
goes,1;
it’ll,1;
which,1;
means,1;
that,1;
rejected,1;
reason,1;
Foo::drop,1;
access,1;
x.,1;
directly,1;
all,,1;
which,1;
Bar,1;
Foo::drop,1;
never,1;
This,1;
identify,1;
that,1;
okay,,1;
dif-
ficult,1;
that,1;
we’ve,1;
check.,1;
it
doesn’t,1;
unsafe,1;
much,1;
its,1;
with,1;
one,1;
major,1;
dangling,1;
that,1;
your,1;
type,,1;
into,1;
did,1;
needs,1;
access,1;
dropping,1;
fine,1;
last,1;
has,1;
likely
to,1;
remain,1;
proper,1;
devised.,1;
dropck_eyepatch,1;
#[may_dangle],1;
attribute,,1;
which,1;
you,1;
that,1;
you,1;
allows,1;
that,1;
which,1;
T>.,1;
your,1;
pointer,
*mut,1;
T,,1;
allows,1;
dangle,1;
Specifically,,1;
Rust’s,1;
that,1;
your,1;
T,,1;
with,1;
may_dangle,1;
assertion
that,1;
access,1;
now,1;
that,1;
fine,1;
(like,1;
that’s,1;
which,1;
itself,1;
said,1;
check
that,1;
T,,1;
access,1;
drop,
it,1;
one,1;
hypothetical,1;
(Chapter,1;
realize,1;
*/,1;
that,1;
terms,1;
subtle,1;
#[may_dangle],1;
Hopefully,1;
subsection,1;
so,1;
that,1;
you,1;
unsafe,1;
unsafe,1;
that,1;
you,1;
that,1;
collection,,1;
you,1;
T:,1;
WriteOnDrop<&mut,1;
access,1;
with,1;
you,1;
now,1;
you,1;
you,1;
that,1;
understandable,,1;
that,1;
unsafe,1;
that,1;
that,1;
unsafe,1;
with,1;
care;,1;
that’s,1;
really,1;
you,1;
remainder,1;
chapter,,1;
some,1;
that,1;
help,1;
you,1;
your,1;
way,1;
around,1;
Unsafe,1;
Boundaries
It’s,1;
reason,1;
locally;,1;
that,1;
unsafe,1;
you,1;
wrote,1;
without,1;
too
much,1;
its,1;
with,1;
codebase.,1;
trait—you,1;
some,1;
your,1;
that,1;
field,1;
type,,1;
and
that,1;
you,1;
some,1;
you,1;
(or,1;
said,1;
type,,1;
unsafe,1;
safe,,1;
impl!
Safety,1;
that,1;
checked,1;
that,1;
unsafe,1;
so,1;
your,1;
that,1;
with,1;
unsafe,1;
you,1;
that,1;
other,1;
crate,1;
your,1;
unsafe,1;
particular,1;
with,1;
particular,1;
you,1;
that,1;
unsafe,1;
you,1;
much,1;
smaller,1;
set,1;
problematic,1;
thus,,1;
that,1;
safety,1;
invariants,1;
goes,1;
submod-
ules,1;
implementations.
The,1;
access,1;
safety,1;
unsafe,1;
invariants,1;
that,1;
can
touch,1;
fields,1;
unsafe,1;
minimizing,1;
that,1;
fields,1;
unsafe,1;
requires,1;
your,1;
you,1;
module,,1;
strive,1;
that
Unsafe,1;
that,1;
way,1;
you,1;
the
internals,1;
that,1;
your,1;
invariants.,1;
crate,1;
so,1;
that,1;
you,1;
leave,1;
unsafe,1;
interac-
tions,1;
single,,1;
that’s,1;
that,1;
unsafe,1;
so,1;
that,1;
them,1;
names,1;
that,1;
com-
municate,1;
that,1;
them,1;
unsafe,1;
APIs
so,1;
that,1;
you,1;
unsafe,1;
your,1;
After,1;
your,1;
you,1;
never,1;
you’ve,1;
unsafe,1;
annotation,1;
bad,1;
decision,1;
long,1;
from,1;
when
your,1;
has,1;
you’ve,1;
some,1;
safety,1;
invariants,
and,1;
you,1;
“,1;
one,1;
that,1;
violate,1;
one,1;
invariants.,1;
you,1;
check.,1;
you,1;
never,1;
mistakes,,1;
other,1;
your,1;
code?
Ultimately,,1;
unsafe,1;
marker.
Read,1;
Documentation
It,1;
goes,1;
without,1;
that,1;
you,1;
unsafe,1;
function,,1;
you,1;
conditions,1;
under,1;
which,1;
that,1;
important.,1;
leave,1;
invariants,1;
you’ve,1;
them,1;
else.,1;
you,1;
requires,1;
global,1;
that,1;
that,1;
invariants,1;
unsafe,1;
Developers
often,1;
manner,,1;
so,1;
you,1;
can
assume,1;
your,1;
module-level
documentation,1;
less,1;
that,1;
you,1;
all,1;
that,1;
requires,1;
that,1;
provided,1;
you,1;
that,1;
method,,1;
comment,1;
above
it,1;
explaining,1;
you,1;
that,1;
some,1;
invariants,1;
that,1;
unsafe,1;
requires,1;
your,1;
I,1;
many,1;
trying,1;
safety,1;
comment,1;
that,1;
I,1;
down,1;
so,1;
your,1;
unsafe,1;
to
understand,1;
what’s,1;
you,1;
deep,1;
into,1;
writing,1;
unsafe,1;
I,1;
highly,1;
recom-
mend,1;
that,1;
you,1;
so,1;
many,1;
that,1;
you,1;
We’ve,1;
many
of,1;
them,1;
chapter,,1;
never,1;
whenever,1;
that,1;
some,1;
you,1;
so,1;
that,1;
it’ll,1;
Work
Okay,,1;
so,1;
you’ve,1;
some,1;
unsafe,1;
you’ve,1;
you,1;
Before,1;
you,1;
into,1;
some,1;
that,1;
you,1;
your,1;
test,1;
test,1;
these,1;
your,1;
into,1;
machine,1;
This,1;
with,1;
your,1;
which,1;
allows,1;
that,1;
anything,1;
from,1;
subtle,1;
bugs,1;
writing,1;
unsafe,1;
has,1;
it,,1;
code
run,1;
under,1;
its,1;
compiled
counterpart.,1;
that,1;
reason,,1;
really,1;
that,1;
that,1;
your,1;
test,1;
suite,1;
your,1;
test,1;
which,1;
machine,1;
overhead,1;
these
tools,1;
one,1;
widely,1;
AddressSanitizer.
It,1;
large,1;
errors,,1;
all,1;
which,1;
unsafe,1;
these,1;
machine,1;
like
Miri,,1;
that,1;
so,1;
here
too,1;
test,1;
suite,1;
these,1;
them,1;
through
your,1;
continuous,1;
so,1;
they’re,1;
that,1;
you,1;
you,1;
errors.
The,1;
catching,1;
your,1;
test,1;
so,1;
you,1;
back,,1;
so,1;
sprinkle,1;
panic,1;
your,1;
with,1;
you,1;
Code
165of,1;
you,1;
that,1;
runtime
cost,,1;
debug_assert*,1;
them,1;
test,1;
HOUSE,1;
OF,1;
violate,1;
all,1;
Rust’s,1;
safety,1;
reason,1;
Rust’s,1;
safety,1;
is
that,1;
takes,1;
one,1;
bit,1;
unsafe,1;
come
crashing,1;
down,1;
all,1;
safety,1;
lost.,1;
that,1;
unsafe,1;
so,1;
that,1;
all,1;
way,1;
the
application.
The,1;
understandable—it,1;
that,1;
safety,1;
code
relies,1;
safety,1;
all,1;
unsafe,1;
invoking.,1;
some,1;
that,1;
unsafe,1;
safety,1;
provide,1;
that,1;
language,,1;
its,1;
unsafe,1;
safety,1;
that,1;
language,,1;
allows,1;
dialect,1;
This,1;
allows,1;
much,1;
which,1;
reduces,1;
likelihood,1;
impedance,1;
mis-
matches,1;
one,1;
easier,1;
that,1;
analyze,1;
unsafe,1;
code’s,1;
with,1;
unsafe,1;
that,1;
many,1;
safety,1;
that,1;
down,1;
chapter,,1;
we’ve,1;
that,1;
with,1;
writing,1;
unsafe,1;
unsafe,1;
how
you,1;
really,1;
unsafe,1;
way,1;
compiler
that,1;
you’ve,1;
checked,1;
that,1;
indicated,1;
chapter,,1;
into,1;
you,1;
your,1;
computer,1;
I,1;
S,1;
M)
With,1;
I,1;
provide,1;
you
with,1;
all,1;
your,1;
your,1;
Rust’s,1;
primitives,1;
I,1;
you,1;
concur-
rent,1;
my,1;
you,1;
them,1;
what-
ever,1;
you,1;
them,1;
for.
Concurrency,1;
8),,1;
single-core,1;
concurrency,,1;
which,1;
allows,1;
execution,1;
tasks,1;
your,1;
be
interleaved,1;
you,1;
the
details,1;
operating,1;
into,1;
deep,1;
into,1;
that.
At,1;
one,1;
one,1;
thread,,1;
your,1;
has,1;
so,1;
core,1;
so,1;
that,1;
so,1;
informal,1;
less,1;
time”
throughout,1;
important,,1;
that,1;
Rust’s,1;
approach,1;
that,1;
compiler,,1;
rather,1;
that,1;
develop,1;
concurrency
contracts.,1;
safety,1;
Sync,1;
bounds,,1;
which,1;
all,1;
way,1;
safety,1;
checked
through,1;
Programming,1;
Language,1;
it
comes,1;
concurrency,,1;
Send,1;
Sync,1;
I,1;
much,1;
that,1;
repeating,1;
context,1;
some,1;
other,1;
some,1;
deal,1;
with,1;
into,1;
with,1;
some,1;
your,1;
with,1;
with,1;
into,1;
programming,1;
the
details,1;
Rust’s,1;
some,1;
to
understand,1;
that,1;
among,1;
lots,1;
solely,1;
it,,1;
you,1;
you,1;
can
get,1;
all,1;
one,1;
is
also,1;
that,1;
state,,1;
update,1;
fail,1;
all,1;
that,1;
primarily,
though,1;
setting:,1;
whenever,1;
from,1;
instructions,,1;
other,1;
particular,1;
piece,1;
other,1;
bad,
and,1;
behavior.,1;
breed-
ing,1;
bugs,1;
see
throughout,1;
into,1;
precise,,1;
that
concurrency,1;
them,1;
This,1;
core,1;
one,1;
one,1;
on
each,1;
core,,1;
that,1;
one,1;
referring,1;
performance,1;
concurrency,,1;
which,1;
framed,1;
terms,1;
scalability.,1;
context,1;
means,1;
performance,1;
with,1;
that,1;
you,1;
your,1;
achieving,1;
speedup,1;
harder,1;
seems.
The,1;
linear,1;
scalability,,1;
your,1;
scalability.,1;
few,1;
Sublinear,1;
linearly,1;
you,1;
one,1;
core,1;
reduces,1;
many,1;
all,1;
some,1;
help,1;
trying,1;
pop,1;
all,1;
piece,1;
you,1;
one,1;
your,1;
group
may,1;
around,1;
pop,1;
next,1;
pop,1;
This,1;
among,1;
tasks,1;
that,1;
supposed,1;
to
execute,1;
contention,1;
false,1;
task,1;
particular,1;
one,1;
that,1;
execution,1;
that,1;
segment,1;
exclusive—if,1;
one,1;
executes,1;
it,,1;
other,1;
which,1;
that,1;
one,1;
enter
a,1;
particular,1;
your,1;
one,1;
you,1;
send,1;
mpsc,1;
that,1;
operating,1;
that,1;
single-threaded,1;
access,1;
sec-
tion.,1;
many,1;
standard,1;
some,1;
which,1;
that,1;
incurred,1;
contention,1;
highly,1;
parallel
programs.,1;
many,1;
operating,1;
that,1;
like
they,1;
independent,,1;
files,1;
with,1;
barrier,1;
speedup,1;
serial,1;
execution,1;
some,1;
your,1;
you,1;
remainder,1;
your,1;
scale,1;
with,1;
of
cores,1;
perfectly,,1;
speedup,1;
you,1;
mutually,1;
serial,1;
section.,1;
your,1;
mutually,1;
them,1;
achievable,1;
speedup,1;
Resource,1;
you,1;
your,1;
environment,1;
tasks,1;
with,1;
itself,1;
so,1;
many,1;
socket
per,1;
so,1;
many,1;
once,,1;
has,1;
The
environment,1;
practice,,1;
(or,1;
so,1;
much,1;
that,1;
you,1;
you,1;
strive,1;
that,1;
with,1;
execution.,1;
that,1;
oversharing,,1;
guards
some,1;
composite,1;
state,,1;
that,1;
update,1;
particular,1;
means,1;
some,1;
into,1;
one,1;
parts,,1;
which,1;
proceed,1;
some,1;
needs,1;
state.,1;
you,1;
you,1;
which,1;
that,1;
some,1;
problems,,1;
you,1;
avoid,1;
Ultimately,,1;
false,1;
catchall,1;
subtle,1;
false,1;
briefly,1;
in
terms,1;
consecutive,1;
memory—
rather,1;
individual,1;
cost,1;
processors,,1;
size,1;
64,1;
that,1;
really,1;
writing,1;
64,1;
false,1;
into,1;
update,1;
value,1;
that,1;
the
updates,1;
low-level,1;
of
false,1;
decimate,1;
speedup,1;
you,1;
indicate,1;
many,1;
has,1;
all,1;
all,1;
your,1;
that,1;
perform.,1;
your,1;
execution,1;
trick,1;
false,1;
pad,1;
your,1;
size,1;
adjacent,1;
always
fall,1;
size,1;
so,1;
approach,1;
indicate,1;
Parallelism)
171THE,1;
OF,1;
orthogonal,1;
that,1;
you,1;
cost,1;
really,1;
optimizing,1;
single-threaded,1;
code—they’ve,1;
long,1;
after
all—and,1;
single-threaded,1;
with,1;
fewer,1;
safe-
guards,1;
(like,1;
program
slower,1;
its,1;
single-threaded,1;
This,1;
measure,1;
you,1;
parallel-
ize:,1;
topic,,1;
I,1;
highly,1;
you,1;
2015,1;
paper,1;
which,1;
some,1;
examples,1;
has,1;
your,1;
concurrency,,1;
way,1;
you,1;
detail
would,1;
its,1;
own,,1;
so,1;
these,1;
straightforward:,1;
operating,1;
between
them.,1;
This,1;
with,1;
access,1;
from,1;
many,1;
The
many,1;
task,1;
many,1;
some,1;
subranges,1;
tasks,1;
that,1;
some,1;
one,1;
that,1;
you,1;
concurrency,,1;
your,1;
small
number,1;
many,1;
cost,1;
cost,1;
highly,1;
disruptive.
Similarly,,1;
some,1;
all-round,1;
performance
while,1;
others,1;
concurrency,,1;
you,1;
designed,1;
your,1;
so,1;
that,1;
you,1;
that,1;
your,1;
update,1;
some,1;
way,1;
that,1;
commute.
That,1;
one,1;
has,1;
update,1;
with,1;
some,1;
has,1;
update,1;
with,1;
some,1;
that,1;
other,1;
simpler
and,1;
that,1;
provide,1;
without,1;
these,1;
scale,1;
have
slower,1;
performance,1;
with,1;
performance,1;
many,1;
from,1;
queue,,1;
which,1;
connec-
tions,,1;
a
worker,1;
collectively,1;
all,1;
application’s,1;
its,1;
from,1;
rayon,1;
some,1;
Behind,1;
rayon,1;
spins,1;
vector
into,1;
subranges,1;
range,,1;
rayon,1;
start
working,1;
next,1;
among,1;
memory
queue–like,1;
that,1;
basic,1;
that,1;
one,1;
its,1;
unassigned
work,1;
available,,1;
that,1;
that,1;
haven’t,1;
started,1;
Not,1;
all,1;
so,1;
some,1;
workers,1;
around,1;
that,1;
drew
longer-running,1;
that,1;
help
the,1;
so,1;
task,1;
that,1;
without,1;
overhead,1;
from,1;
trying,1;
from,1;
one,1;
vital,1;
Parallelism)
173high-performance,1;
you,1;
worker
pool,,1;
your,1;
one,1;
that,1;
has,1;
work
go,1;
into,1;
it,,1;
from,1;
one,,1;
rather,1;
one,1;
from,1;
that,1;
same,,1;
rayon,1;
data.,1;
simply,1;
you,1;
distinguish,1;
POOL,1;
that,1;
set,1;
established
connections,1;
them,1;
that,1;
that,1;
needs,1;
one,1;
available,,1;
with,1;
that,1;
that,1;
task,1;
last,1;
that,1;
has,1;
with,1;
has,1;
reset,1;
so,1;
that,1;
thread,,1;
that,1;
was,1;
dedicated
connection.
Actors
The,1;
actor,1;
many,1;
opposite,1;
has,1;
many,1;
queue,,1;
actor,1;
has,1;
many,1;
into,1;
particular,1;
all,1;
that,1;
application’s,1;
state.,1;
file,,1;
other,1;
that,1;
you,1;
many,1;
access.,1;
actor,1;
owns,1;
that,1;
state,,1;
some
task,1;
with,1;
that,1;
state,,1;
needs,1;
send,1;
actor,1;
summarizing,1;
perform.,1;
actor,1;
that,1;
indicated,1;
task,1;
with,1;
actor,1;
has,1;
access,1;
its,1;
inner,1;
required,1;
what’s,1;
needed,1;
actor,1;
that,1;
all,1;
one,1;
actor,1;
that,1;
needs,1;
table,,1;
send,1;
off,1;
asking,1;
them,1;
actions,,1;
next,1;
actor,1;
web,1;
a
single,1;
actor,1;
that,1;
user’s,1;
actor,1;
requires,1;
that,1;
actor,1;
its,1;
To
the,1;
actor,1;
that,1;
large,1;
actors,,1;
so,1;
actor,1;
task,1;
rather,1;
After
all,,1;
access,1;
wrapped,1;
when
they,1;
execute,,1;
frequently,,1;
actor,1;
conjunction,1;
with
the,1;
that,1;
runtime,1;
task,1;
execution,1;
actor,1;
execution,1;
actor,1;
move,1;
from,1;
actor,1;
executes,1;
access,1;
its,1;
wrapped,1;
actor,1;
you,1;
that,1;
relatively,1;
operating,1;
actor,1;
web,1;
actor,1;
actor,1;
so,1;
you,1;
few
actors,,1;
among,1;
actors,,1;
some,1;
all,1;
your,1;
execution,1;
actor,1;
expect,1;
access,1;
execution,1;
that,1;
one,1;
parallelism—we,1;
one,,1;
them,1;
task,1;
Send,,1;
once.
Concurrency,1;
applications,1;
web,1;
so,1;
has,1;
many,1;
once,,1;
one,1;
naturally:,1;
your,1;
has,1;
which,1;
which,1;
that,1;
that,1;
send,1;
other,1;
that,1;
such
futures,1;
them.
The,1;
piece,1;
into,1;
This,1;
discussion,1;
tasks,1;
from,1;
one,1;
Future,1;
that,1;
tasks,1;
that,1;
so,1;
from
a,1;
thread,,1;
requires,1;
self.,1;
futures,,1;
you,1;
you,1;
Also,,1;
you,1;
so,1;
that,1;
passed-in,1;
Future,1;
S,1;
Y,1;
S,1;
Y,1;
primitives,1;
that,1;
blocking,1;
all,1;
these,1;
other,1;
so,1;
these,1;
primitives,1;
machinery
needed,1;
that,1;
reason,,1;
you,1;
primitives,1;
when-
ever,1;
blocking,1;
that,1;
Mutex,1;
long,1;
that,1;
particular,1;
Mutex,1;
that,1;
blocking,1;
Mutex,1;
that,1;
you,1;
never,1;
yield,1;
other,1;
MutexGuard,,1;
that,1;
you,1;
into,1;
with,1;
optimizations,,1;
you,1;
measure,1;
choose,1;
primitive,1;
you,1;
footguns,1;
primitive,1;
context,1;
standard,1;
module,,1;
which,1;
access,1;
like
channels,1;
primitives,1;
with,1;
names,1;
with,1;
so,1;
type,,1;
compiler_fence.,1;
these,1;
next,1;
blocks,1;
that,1;
has,1;
all,1;
other,1;
on
these,1;
few,1;
primitives,1;
They,1;
own
for,1;
heavyweight,1;
set,1;
true.
The,1;
that,1;
for
what,1;
access,1;
them,1;
all,1;
they’re,1;
“writ-
ing,1;
actual,1;
that,1;
access,1;
your,1;
hardware.,1;
that,1;
to
understand,1;
accesses,1;
your,1;
value,1;
variable,1;
value,1;
all,1;
your,1;
and
may,1;
your,1;
operations
it,1;
rather,1;
actual,1;
these,1;
accesses,1;
access,1;
instructions.
At,1;
load,1;
from,1;
into,1;
from,1;
into,1;
usually
8,1;
less,1;
variable,1;
access,1;
with,1;
load,1;
into,1;
load,1;
instructions,,1;
executes,1;
use
of,1;
modern
CPUs,1;
several,1;
caches
Concurrency,1;
Parallelism)
177between,1;
your,1;
which,1;
means,1;
that,1;
the
code,1;
that,1;
these,1;
invisible,1;
these,1;
behavior.,1;
provide,1;
load,1;
instructions,,1;
with,1;
them,1;
be
interleaved,1;
with,1;
other,1;
provide,1;
annotations
you,1;
particular,1;
execution,1;
some,1;
which,1;
spend,1;
apart.
Atomic,1;
so,1;
atomically—
that,1;
value,1;
variable,1;
all,1;
guaranteeing,1;
that,1;
load,1;
that,1;
vari-
able,1;
that,1;
some,1;
value,1;
others,1;
This,1;
understood,1;
way,1;
with,1;
value,1;
requires,1;
instructions,,1;
one,1;
ignore,1;
value,1;
value,1;
value,1;
that,1;
was,1;
never,1;
atomically,1;
access,1;
sizes,,1;
so,1;
are
only,1;
few,1;
all,1;
which,1;
atomic
type,1;
one,1;
access,1;
with,1;
value,1;
signed,1;
size,1;
usize).
Furthermore,,1;
handful,1;
so,1;
that,1;
load,1;
signed,1;
value,,1;
AtomicPtr::store,1;
pointer-sized,1;
(64,1;
Ordering
Most,1;
is
subject,1;
that,1;
with,1;
that,1;
next,1;
few,1;
sections,,1;
expected,1;
from,1;
that,1;
that’s,1;
executes,1;
hardware.,1;
accesses,1;
reordered,,1;
one,1;
modifica-
tions,1;
from,1;
modifications,1;
T2,1;
M,,1;
by
a,1;
with,1;
T2’s,1;
happened
first,1;
other,1;
threads’,1;
computer,1;
into,1;
deter-
mines,1;
value,1;
that,1;
matter,1;
spawns,1;
which,1;
M,,1;
computer,1;
happened
first,1;
T2’s,1;
T1.
If,1;
that’s,1;
wording,1;
mental,1;
grasp,,1;
your,1;
computer,1;
your,1;
Between,1;
several,1;
reside,1;
hardware.,1;
really,1;
value,1;
has,1;
its,1;
way,1;
toward,1;
flows,1;
it
hits,1;
that,1;
has,1;
value,1;
available,,1;
from,1;
all,1;
caches,1;
other,1;
way,1;
for
what,1;
access,1;
particular,1;
particular,1;
type,,1;
which,1;
which,1;
valid.
Ordering,1;
enum,1;
with,1;
shown,1;
Parallelism)
179enum,1;
these,1;
from,1;
execution,1;
one,1;
the
remainder,1;
guarantees,1;
nothing,1;
value,1;
that,1;
access,1;
guarantees,1;
accesses,1;
This,1;
memory
ordering.,1;
shows,1;
which,1;
AtomicBool::new(false);
static,1;
AtomicBool::new(false);
let,1;
{
1,1;
Ordering::Relaxed);
});
let,1;
X.load(Ordering::Relaxed);
4,1;
Y.store(true,,1;
10-2:,1;
Two,1;
with,1;
you,1;
expect,1;
that,1;
true,,1;
all,1;
false,1;
to
Y,1;
with,1;
reason,1;
that,1;
exactly,1;
possible.
First,,1;
that,1;
side,1;
effect,1;
has,1;
execution,1;
depen-
dency,1;
them,1;
*waves,1;
your,1;
faster.,1;
goes,1;
executes,1;
setting,1;
Y,1;
true,,1;
operating,1;
executes,1;
few,1;
instructions,,1;
sim-
ply,1;
executes,1;
and
then,1;
value,1;
1.,1;
into,1;
that,1;
executes,1;
true,,1;
was,1;
allows,1;
execution,1;
imposes
no,1;
execution.,1;
under,1;
that,1;
execution,1;
interleaving,1;
single-threaded,1;
under,1;
some,1;
you,1;
that,1;
track,1;
really,1;
matter,1;
executes,1;
other,1;
instructions,,1;
your,1;
set,1;
that,1;
generally,1;
writing,1;
fancy,1;
has,1;
that,1;
observable,1;
so,1;
you,1;
This,1;
referred,1;
respecting,1;
the
terms,1;
next,1;
these,1;
establish,1;
execution,1;
one,1;
load,1;
opera-
tions,1;
with,1;
respect,1;
that,1;
load,1;
establish,1;
relationship,1;
load,1;
value,,1;
other,1;
This,1;
execution,1;
respect,1;
load,1;
has,1;
some,1;
thread
A,1;
load,1;
that,1;
load,1;
that,1;
Acquire,1;
Release,1;
AcqRel,1;
that,1;
load,1;
(like,1;
these,1;
load,1;
An,1;
load,1;
variable,1;
all,1;
that,1;
that,1;
load,1;
these,1;
change,1;
shows
Listing,1;
with,1;
Acquire
and,1;
AtomicBool::new(false);
static,1;
AtomicBool::new(false);
let,1;
{
let,1;
{
1,1;
Y.store(true,,1;
10-3:,1;
with,1;
that,1;
10-2:,1;
with,1;
that,1;
move,1;
below,1;
all,1;
these,1;
rules,1;
that,1;
you,1;
that,1;
later.,1;
This,1;
exactly,1;
Release,1;
Acquire,1;
you,1;
Release,1;
Acquire,1;
load,1;
you,1;
guarantee,1;
that,1;
critical
section,1;
never,1;
was,1;
was,1;
some,1;
architectures,,1;
guaranteed
by,1;
hardware,,1;
cost,1;
other,1;
architectures,1;
that,1;
your,1;
you,1;
switch,1;
opera-
tions,1;
that,1;
tolerate,1;
Consistent,1;
(Ordering::SeqCst),1;
strongest,1;
access,1;
exact,1;
guarantees,1;
nail
down,,1;
requires,1;
that,1;
with,1;
that,1;
all,1;
order-
ing,1;
one,1;
another.,1;
This,1;
way,1;
contrast,1;
with,1;
Specifically,,1;
guaran-
tee,1;
that,1;
atomically,1;
load,1;
so,1;
shows,1;
particular,1;
AtomicBool::new(false);
static,1;
AtomicBool::new(false);
static,1;
t4,1;
(X.load(Ordering::Acquire)),1;
with,1;
set,1;
Y,1;
true,,1;
Thread,1;
true,,1;
Y,1;
Thread,1;
t4,1;
waits,1;
Y,1;
true,,1;
is:,1;
all,1;
Before,1;
I,1;
you,1;
answer,
try,1;
your,1;
way,1;
Release,1;
conditions,1;
under,1;
which,1;
Thread,1;
that,1;
Y,1;
that,1;
true,,1;
which,1;
load,1;
1.,1;
that,1;
that,1;
Y,1;
true,,1;
so,1;
t4,1;
load,1;
explanation,,1;
now,1;
that,1;
Y,1;
set,1;
true,,1;
t4,1;
conditions,1;
trivially
be,1;
4.,1;
This,1;
from,1;
that,1;
that,1;
t4,1;
has,1;
so,1;
set,1;
X
to,1;
t4,1;
so,1;
t4,1;
0,1;
from,1;
linear,1;
Parallelism)
183happened.,1;
way,1;
all,1;
into,1;
global,1;
nothing,1;
rules,1;
Acquire,1;
that,1;
that,1;
execution,1;
t4,1;
observes.,1;
computer,1;
t4,1;
that,1;
execution,1;
which,1;
Y,1;
false,1;
that,1;
that,1;
execution,1;
t4,1;
that,1;
false,1;
that,1;
reasonable,,1;
mere,1;
requires,1;
that,1;
an
Ordering::Acquire,1;
load,1;
variable,1;
all,1;
that,1;
that,1;
load,1;
order-
ing,1;
computer,1;
did,1;
that,1;
all,1;
setting,1;
Y,1;
which,1;
was,1;
so,1;
Y,1;
all,1;
setting,1;
Y,1;
which,1;
was,1;
has,1;
preceding,1;
rules,1;
broken,,1;
yet,1;
was,1;
that,1;
that,1;
some-
thing,1;
that,1;
expectation,,1;
requires,1;
all,1;
that,1;
(or,1;
to),1;
some,1;
single,,1;
This,1;
easier,1;
reason,1;
with,1;
Ordering::SeqCst,1;
extra,1;
guarantee,1;
The
exact,1;
around,1;
consistency
essentially,1;
that,1;
you,1;
looked,1;
all,1;
all,1;
your,1;
you,1;
so,1;
that,1;
that,1;
loaded,1;
all,1;
all,1;
10-4,1;
with
SeqCst,,1;
possibly,1;
0,1;
all,1;
exited,,1;
expected.,1;
that,1;
definitely,1;
that,1;
definitely,1;
execution,1;
t4,1;
allowed,,1;
Exchange
In,1;
load,1;
all,1;
Rust’s,1;
provide,1;
method
called,1;
This,1;
method,1;
atomically,1;
provide,1;
with,1;
last,1;
value,1;
variable,1;
value,1;
you,1;
value,1;
value,1;
was,1;
you,1;
last,1;
important,,1;
10-5.
This,1;
track,1;
variable,1;
value,1;
that,1;
held.,1;
waits,1;
its,1;
its,1;
mutex(f:,1;
{
//,1;
(false).
while,1;
LOCK.load(Ordering::Acquire)
{,1;
avoid,1;
spinning,1;
*/,1;
}
//,1;
that,1;
Release,1;
Ordering::Release);
}
Listing,1;
An,1;
has,1;
false,1;
leave,1;
loop.,1;
set,1;
which,1;
was,1;
supposed,1;
that,1;
value,1;
variable,1;
update
it,,1;
which,1;
touch,1;
exactly,1;
that,1;
variable,1;
its,1;
value,1;
previous
read,,1;
you,1;
that,1;
value,1;
has,1;
mutex(f:,1;
{
//,1;
{
let,1;
LOCK.compare_exchange(
false,
true,
Ordering::AcqRel,
Ordering::Relaxed
);
match,1;
=>,1;
=>,1;
=>,1;
avoid,1;
spinning,1;
*/,1;
Release,1;
Ordering::Release);
}
Listing,1;
takes,1;
that,1;
currently,1;
This,1;
false,1;
value,1;
method,1;
that,1;
that,1;
was,1;
that,1;
This,1;
value,1;
value,1;
without,1;
that,1;
value,1;
one,1;
some,1;
other,1;
modifies,1;
value,1;
again,,1;
that,1;
vari-
able,1;
This,1;
referred,1;
problem.
Unlike,1;
takes,1;
load,1;
that,1;
that,1;
value,1;
was,1;
updated.,1;
second
is,1;
loaded,1;
value,1;
expected,1;
kept,1;
so,1;
that,1;
leeway
to,1;
execution,1;
performance,1;
fail-
ure,1;
correct,1;
criti-
cal,1;
way,1;
that,1;
its,1;
primitive—so,1;
much,1;
so,1;
that,1;
proven
that,1;
you,1;
all,1;
other,1;
primitives,1;
that,1;
reason,,1;
workhorse,1;
you,1;
really,1;
dig,1;
into,1;
that,1;
requires,1;
that,1;
access,1;
value,,1;
mutual
exclusion,1;
This,1;
means,1;
that,1;
one,1;
so,1;
your,1;
that,1;
scale,1;
with,1;
that,1;
one,1;
MESI,1;
about
how,1;
that,1;
that,1;
quadratically,1;
involved!
COMPARE,1;
_W,1;
AK
The,1;
that,1;
has,1;
cousin,,1;
fail,1;
value,1;
expected,1;
value,1;
that,1;
in,
whereas,1;
value,1;
swap,1;
fail,1;
has,1;
architectures,1;
that,1;
load,1;
conditional,1;
conditional,1;
value,1;
load,1;
has,1;
since
the,1;
load.,1;
standard,1;
succeeds.,1;
This,1;
10-6,1;
inefficient—we
end,1;
with,1;
which,1;
requires,1;
harder,1;
to
optimize.,1;
designed,1;
to
allow,1;
execution,1;
that,1;
that,1;
regardless,1;
that,1;
method
is,1;
update,1;
one,1;
other,1;
fail,1;
many,1;
all,1;
access,1;
value,,1;
spinning,1;
threads
retry,1;
that,1;
rather,1;
fail,1;
value,,1;
what
operation,1;
It’ll,1;
that,1;
value,1;
eventually
gets,1;
access.,1;
that,1;
has,1;
complete,1;
matter,1;
which,1;
one,1;
long,1;
these,1;
They,1;
that,1;
was,1;
performed,1;
variable
when,1;
exactly,1;
value,1;
never,1;
fails—it,1;
value,1;
matter,1;
precisely,1;
was,1;
added.
The,1;
fail,1;
access,1;
architectures,1;
method,1;
that,1;
scale,1;
much,1;
to
operate,1;
way,1;
performance,1;
concur-
rent,1;
into,1;
variables
that,1;
less,1;
rather,1;
from,1;
method.
NOTE
The,1;
method,1;
so,1;
its,1;
performance,1;
profile,1;
that,1;
other,1;
correct,1;
harder,1;
code;,1;
you,1;
execution,1;
interleav-
ings,1;
your,1;
with,1;
compiler,,1;
the
memory,1;
wide,1;
footguns,1;
your,1;
your,1;
air,1;
some,1;
that,1;
that,1;
you,1;
correct,1;
without,1;
life,1;
that,1;
straightforward,,1;
easy-to-follow,1;
This,1;
with,1;
you,1;
performance,1;
you,1;
opti-
mize,1;
your,1;
algorithm.
To,1;
tip,1;
practice,,1;
with,1;
lots,1;
that,1;
that,1;
performance,1;
with,1;
workload,1;
you,1;
much,1;
less,1;
likely
188
Chapter,1;
10to,1;
way,1;
fancy,1;
algorithms
or,1;
splitting,1;
your,1;
into,1;
thousand,1;
avoid,1;
false,1;
sharing.,1;
For
many,1;
these,1;
has,1;
gone,1;
into,1;
channels,1;
approach,1;
your,1;
your,1;
indicate,1;
performance,1;
which,1;
your,1;
that,1;
you,1;
so,1;
with,1;
rather,1;
table,,1;
channel
rather,1;
you,1;
directly,1;
with,1;
proven,1;
you,1;
evidence
that,1;
that,1;
taken,1;
you,1;
into,1;
bugs,1;
your,1;
without,1;
bugs,1;
anyway).
Writing,1;
way,1;
shake,1;
some,1;
lots,1;
relatively,1;
you,1;
writing,1;
one,1;
N,1;
update,1;
way,1;
that,1;
choose,1;
same
keys.,1;
test,1;
test,1;
particular,1;
value,1;
many,1;
many,1;
whereas,1;
fuzzing,1;
many,1;
function,,1;
test,1;
many,1;
access,1;
fuzzers,
stress,1;
your,1;
code;,1;
you,1;
that,1;
some,1;
easy-to-spot,1;
some,1;
other,1;
that,1;
reason,,1;
a
good,1;
your,1;
low-level,1;
with,1;
debug_
assert_*,1;
runtime,1;
cost,1;
Testing,1;
writing,1;
all,1;
execution,1;
which,1;
that,1;
execution,1;
which,1;
return,,1;
which,1;
operating,1;
provide.
Concurrency,1;
with,1;
that,1;
execution,1;
you,1;
cycles,1;
this
book,1;
that,1;
I,1;
examples,1;
they’d,1;
you,1;
I,1;
you,1;
test,1;
you,1;
into,1;
track,1;
all,1;
cross-thread
interactions,1;
all,1;
those
interactions,1;
test,1;
times.,1;
standard,1;
that,1;
with,1;
that,1;
under,1;
few,1;
your,1;
whenever,1;
you,1;
into,1;
dual,1;
function:,1;
so,1;
that,1;
choose,1;
which,1;
builds,1;
which,1;
execution
interleavings,1;
all,1;
one,1;
other.
Loom,1;
attempts,1;
all,1;
you,1;
provide,1;
which,1;
means,1;
bugs,1;
that,1;
rare,1;
that,1;
that’s,1;
smaller,1;
test,1;
generally,1;
feasible
to,1;
that,1;
test,1;
that,1;
test,1;
more
involved,1;
many,1;
once.
Loom,1;
simply,1;
long,1;
you,1;
which,1;
has,1;
on.
Like,1;
with,1;
bugs,1;
that,1;
that’s,1;
yet,1;
reason,1;
spend,1;
some,1;
your,1;
code!,1;
many,1;
your,1;
you,1;
assertions.
Runtime,1;
with,1;
test,1;
your,1;
test,1;
under,1;
excellent,1;
your,1;
extra,1;
access.,1;
your,1;
update,1;
machine,1;
that,1;
that,1;
indicate,1;
problematic,1;
some,1;
value,1;
has,1;
with,1;
that,1;
wrote,1;
value,1;
which,1;
TSan,1;
your,1;
generally,1;
runtime,1;
your,1;
that,1;
that,1;
you,1;
test,1;
reasonable,1;
TSan,1;
you,1;
command-line,1;
(or,1;
set,1;
that,1;
you,1;
your,1;
test,1;
bugs,1;
that,1;
you,1;
study,1;
frequently,1;
trying,1;
highly,1;
code;,1;
execution,1;
interleaving,1;
that,1;
triggered,1;
happen.
A,1;
bugs,1;
which,1;
one,1;
statements,1;
effect,1;
on
concurrency,1;
that,1;
relatively,1;
user’s,1;
(or,1;
wherever,1;
standard,1;
takes,1;
long,1;
your,1;
requires,,1;
round-trip,1;
the
operating,1;
itself,1;
from,1;
into,1;
its,1;
that,1;
extra,1;
so,1;
much,1;
delay,1;
that,1;
previously,1;
some,1;
other,1;
that,1;
reason,1;
statements,1;
execution,1;
pat-
terns,1;
that,1;
writing,1;
standard,1;
you,1;
standard,1;
that,1;
Mutex,1;
access,1;
stream.,1;
so,1;
that,1;
from,1;
with,1;
writing,1;
instead.,1;
Unfortunately,,1;
one,1;
that,1;
This,1;
means,1;
that,1;
your,1;
was,1;
previously,1;
missing,1;
syn-
chronization,1;
particular,1;
was,1;
statements,1;
that,1;
side,1;
you,1;
other
ways,1;
down,1;
Parallelism)
191using,1;
that,1;
you,1;
the
end.,1;
avoid,1;
path,1;
events,,1;
so,1;
one,1;
your,1;
life,1;
that,1;
you,1;
leave,1;
particular,1;
later.,1;
many,1;
chapter,,1;
performance,1;
some,1;
high-level,1;
applications,1;
around,1;
them.
We,1;
explored,1;
without,1;
into,1;
Rust’s,1;
many,1;
differ,,1;
explored,1;
writing,1;
looked,1;
TSan,1;
that,1;
help,1;
you,1;
vet,1;
that,1;
next,1;
journey,1;
into,1;
foreign,1;
which,1;
other,1;
I,1;
N,1;
N,1;
I,1;
N,1;
I,1;
N,1;
FACE,1;
all,1;
so,1;
with,1;
other,1;
languages,
either,1;
calling,1;
into,1;
from,1;
that,1;
your,1;
foreign,1;
(FFI).
In,1;
FFI:,1;
extern,1;
keyword.,1;
extern,1;
expose,1;
other,1;
access,1;
provided,1;
from,1;
bubble.,1;
with,1;
other,1;
languages
and,1;
some,1;
intricacies,1;
some,1;
use
if,1;
I,1;
one,1;
one,1;
with,1;
your,1;
that,1;
in
Rust,,1;
you,1;
with,1;
all,1;
that,1;
originate,1;
out-
side,1;
your,1;
application’s,1;
blocks:,1;
symbols,,1;
which,1;
names,1;
particular,1;
segment,1;
your,1;
binary,1;
that,1;
you,1;
data
or,1;
origin,1;
your,1;
calling,1;
that,1;
provide,1;
these,1;
binary,1;
that,1;
from,1;
your,1;
variable,1;
you,1;
has,1;
that
points,1;
its,1;
symbols,,1;
one,1;
generates!
Normally,,1;
you,1;
around,1;
variable,1;
your,1;
This,1;
from,1;
your,1;
accesses,1;
you,1;
directly,1;
your,1;
names,1;
your,1;
from,1;
them,1;
so,1;
that,1;
names,1;
you,1;
access,1;
variable,1;
that,1;
that’s,1;
compiler.,1;
variable,1;
that,1;
variable,1;
has,1;
name,1;
that,1;
you,1;
name,1;
with,1;
some,1;
way,1;
tell
Rust,1;
variable,1;
that,1;
that,1;
rather,1;
its,1;
that,1;
just
end,1;
with,1;
that,1;
all,1;
would
fail,1;
that,1;
referred,1;
that,1;
which,1;
which,1;
11NOTE
A,1;
declared,1;
that,1;
linking,1;
linker,1;
Linking
Compiler,1;
Having,1;
turning,1;
into,1;
binary,1;
help,1;
you,1;
one,1;
down,1;
into,1;
handful,1;
smaller,1;
that,1;
one,1;
distinct
phases,1;
compilation—compilation,,1;
by
three,1;
performed,1;
deals,1;
with,1;
mono-
morphization,,1;
other,1;
with,1;
This,1;
machine,1;
rather,1;
low-level
representation,1;
that,1;
abstract,1;
low-level,1;
representation,1;
which,1;
machine,1;
that,1;
CPU.
These,1;
taken,1;
together,,1;
all,1;
be
sliced,1;
into,1;
smaller,1;
that,1;
generally,1;
long,1;
independent,1;
them,1;
smaller,1;
crate,1;
machine,1;
piece,1;
has,1;
together.,1;
This,1;
all,1;
binary,1;
them,1;
into,1;
file,,1;
with,1;
that,1;
symbol.,1;
This,1;
you,1;
can
define,1;
one,1;
crate,1;
from,1;
linker,1;
files,1;
dutifully,1;
links,1;
all,1;
files,1;
one,1;
one,1;
binary
blob,1;
from,1;
internet;,1;
long,1;
all,1;
linker,1;
that,1;
machine,1;
simply,1;
with,1;
that,1;
other,1;
bit,1;
generated,1;
that,1;
find
the,1;
later.,1;
generally,1;
linking,1;
dynamic,1;
linking,1;
FFI.
Using,1;
extern
The,1;
extern,1;
that,1;
allows,1;
foreign,1;
interface.,1;
Specifically,,1;
that’s,1;
that,1;
other,1;
FFI.,1;
variable,1;
linking,1;
11-1:,1;
one,1;
declared,1;
elsewhere,
through,1;
attribute,1;
that,1;
that,1;
name,1;
dur-
ing,1;
rather,1;
distinguish,1;
from,1;
variable,1;
declared,1;
that,1;
annotation,1;
items,1;
that,1;
extern,1;
here.,1;
extern,1;
variable,1;
denotes
that,1;
that,1;
learn,1;
linking
time,1;
elsewhere,,1;
initialization,1;
value,,1;
anything,1;
that,1;
defines,1;
that,1;
you’ve,1;
declared,1;
correct,1;
unsafe,1;
regardless,1;
they’re,1;
from,1;
thread,,1;
so,1;
access
would,1;
you,1;
extern,1;
hello_rust(i:,1;
i32),1;
function,,1;
one,1;
elsewhere,,1;
blocks,1;
all,1;
with,1;
that,1;
declared,1;
extern,1;
which,1;
explore
in,1;
next,1;
extern,1;
you,1;
which,1;
you,1;
linker,1;
you,1;
error,1;
that,1;
you,1;
extern,1;
with,1;
=
"crypto")],,1;
telling,1;
linker,1;
your,1;
its,1;
with,1;
#[link_name,1;
links,1;
name,1;
you,1;
you,1;
which,1;
items,1;
"dylib",,1;
which,1;
dynamic,1;
value,1;
that,1;
items,1;
This,1;
means,1;
that,1;
wired
directly,1;
into,1;
binary,1;
few,1;
other,1;
much,1;
less
common,1;
several,1;
trade-offs,1;
dynamic,1;
the
main,1;
considerations,1;
security,,1;
binary,1;
easier,1;
linking,1;
allows,1;
binary,1;
that,1;
your,1;
your,1;
links,1;
without,1;
your,1;
can
update,1;
binary,,1;
into,1;
binary,,1;
so,1;
upgraded,1;
linking,1;
smaller,1;
into,1;
binary,1;
that,1;
bit,1;
wrapper,1;
that
loads,1;
indicated,1;
runtime,1;
Interfaces
197So,1;
linking,1;
has,1;
one,1;
dynamic,1;
dynamic,1;
binary,1;
that,1;
your,1;
links,1;
Not,1;
of
each,1;
with,1;
your,1;
fine,1;
glibc,1;
that,1;
sys-
tems,,1;
poses,1;
obscure,1;
that,1;
install,1;
that,1;
your,1;
code!,1;
library’s,1;
embedded,1;
directly,1;
into
the,1;
binary,1;
so,1;
install,1;
dynamic,1;
linking,1;
deployment,1;
your,1;
variable,1;
that’s,1;
language,,1;
needs,1;
its,1;
calling,1;
which,1;
into,1;
actual,1;
calling,1;
stack,1;
set,1;
up
How,1;
stack,1;
reverse)
How,1;
told,1;
states,,1;
has,1;
its,1;
calling,1;
that,1;
This,1;
fine,1;
all,1;
problematic,1;
you,1;
interoperability,1;
with,1;
that,1;
calling,1;
implicitly,1;
declared,1;
with,1;
extern,1;
you,1;
anything,1;
else.,1;
extern,1;
its,1;
own,,1;
extern,1;
"C",,1;
which,1;
means,1;
standard,1;
calling,1;
convention.”
The,1;
shorthand,1;
calling,1;
you,1;
generally,1;
with,1;
functions.,1;
you,1;
that,1;
extern,1;
your,1;
abort.
Unwinding,1;
into,1;
behavior.,1;
extern,1;
extern,1;
permits
unwinding,1;
boundaries,1;
particular,1;
you,1;
other,1;
calling,1;
that,1;
you,1;
extern,1;
extern,1;
"system",1;
calling,1;
standard,1;
which,1;
writing,1;
"C",1;
which,1;
calling,1;
calling,1;
with,1;
highly,1;
so,1;
extern,1;
extern,1;
"C"),1;
fine.
NOTE
A,1;
calling,1;
its,1;
extern,1;
"C",1;
(or,1;
extern,1;
which,1;
from,1;
you,1;
its,1;
binary,1;
many,1;
other,1;
generally,1;
you,1;
publish,,1;
your,1;
This,1;
generic
function,1;
provided,1;
access,1;
means,1;
machine,1;
binary,1;
that,1;
include,1;
exact,1;
generally,1;
you,1;
you,1;
that,1;
you,1;
then
want,1;
with,1;
from,1;
programming,1;
files,1;
libraries
(.so,1;
files,1;
Unix,,1;
files,1;
.dll,1;
files,1;
files,1;
files,1;
files,1;
so,1;
other,1;
that,1;
with,1;
these,1;
binary,1;
you,1;
set,1;
[lib],1;
your,1;
file.,1;
field,1;
takes,1;
which,1;
indicate,1;
standard,1;
(an
rlib).,1;
Cargo,1;
some,1;
heuristics,1;
that,1;
set,1;
value,1;
it's,1;
procedural,1;
set,1;
value,1;
anything,1;
crate,1;
which,1;
files,1;
that,1;
linked,,1;
that,1;
you
(continued)
Foreign,1;
one,1;
these,1;
functions.,1;
like
types,1;
available,,1;
they’re,1;
representation,1;
binary,1;
Language,1;
one,1;
lays,1;
for
some,1;
one,1;
way,1;
other,1;
side,1;
other,1;
you,1;
boundaries,1;
you,1;
in
Rust,,1;
that,1;
that’s,1;
other,1;
side,1;
that,1;
that,1;
you,1;
type,,1;
you,1;
primitives,1;
contained,1;
other,1;
side,1;
boundary,,1;
had,1;
exact,1;
equivalent:,1;
i32.,1;
that,1;
that,1;
standard,1;
you,1;
with,1;
correct,1;
module,,1;
which,1;
defines,1;
on
the,1;
so,1;
particular,1;
directly,1;
4].,1;
whereas,1;
Rust’s,1;
you,1;
terminated,1;
with,1;
0,1;
rather,1;
a
UTF-8–encoded,1;
with,1;
you,1;
Rust’s,1;
FFI.,1;
other,1;
representation,,1;
you,1;
and
std::ffi::CString,1;
owned,1;
then
pass,1;
method,1;
11For,1;
that,1;
other,1;
you,1;
deal,1;
with,1;
way,1;
so,1;
you,1;
will
want,1;
that,1;
has,1;
that,1;
mirrors,1;
what’s,1;
(likely,1;
other,1;
setting,1;
its,1;
to
adjust,1;
your,1;
#[repr],1;
enum,1;
has,1;
enum,1;
enum,1;
without,1;
size,1;
that,1;
choose,1;
enum,1;
with,1;
has,1;
value,1;
value,1;
so,1;
shown,1;
{
Bar,1;
2,
}
Listing,1;
that,1;
value,1;
0,1;
value,1;
one,1;
greater,1;
that,1;
This,1;
you,1;
set,1;
value,1;
some,1;
you,1;
set,1;
from,1;
last,1;
one,1;
you,1;
did,1;
enum,1;
This,1;
you,1;
into,1;
with,1;
C-style
enumerations,1;
that,1;
value,1;
that,1;
from,1;
value,1;
Bar,1;
you,1;
that,1;
set,1;
that,1;
wrapper,1;
around,1;
type,,1;
with,1;
ergonomics.,1;
crate.
NOTE
For,1;
enums,,1;
you,1;
#[repr],1;
different
type,1;
encode,1;
enum,,1;
you,1;
Interfaces
201On,1;
enum,1;
that,1;
attribute,1;
enum
to,1;
memory
by,1;
with,1;
had,1;
enum,1;
representation,1;
11-4.
#[repr(C)]
enum,1;
b:,1;
FooBaz{,1;
b:,1;
}
#[repr(C)]
union,1;
FooBar,
baz:,1;
FooData
}
Listing,1;
with,1;
FFI
In,1;
bit,1;
enum,1;
that,1;
data.,1;
fact
that,1;
with,1;
means,1;
that,1;
Option-wrapped,1;
Option<extern,1;
fn(...)>,,1;
T>.,1;
bit,1;
value,1;
you,1;
that,1;
its,1;
that,1;
This,1;
you,1;
11allocators,1;
you,1;
with,1;
some,1;
other,1;
side,1;
send,1;
access,1;
that,1;
again,,1;
allocator.
Most,1;
one,1;
which,1;
some,1;
from,1;
that,1;
memory.
//,1;
with,1;
it.
extern,1;
An,1;
ECDSA_SIG_free,1;
expected,1;
function,,1;
needs,1;
(likely,1;
passing,1;
other,1;
with,1;
Presumably,,1;
these,1;
Box::from_raw,1;
value,1;
shows,1;
caller-managed,1;
memory.
//,1;
An,1;
caller-managed,1;
memory.
//,1;
which,1;
instantiate,1;
its,1;
that,1;
*const,1;
caller-managed,1;
interface
Here,,1;
has,1;
choose,1;
other,1;
passes,1;
that,1;
longer
needed,1;
these,1;
your,1;
them,1;
you,1;
so,1;
highly,1;
specialized,1;
some,1;
standard,1;
avoid,1;
stack,1;
reuse
already,1;
that,1;
all,1;
much,1;
that,1;
into,1;
your,1;
some,1;
instances,,1;
much,1;
your,1;
change,1;
size,1;
your,1;
has,1;
if
you’re,1;
graph,1;
needed,1;
you,1;
implementation-
managed,1;
trade-off,,1;
with,1;
anything,1;
that,1;
large,1;
frequent.,1;
controlling,1;
itself.,1;
anything
else,,1;
your,1;
expose,1;
destructor
functions,1;
type.
Callbacks
You,1;
long,1;
pointer’s
type,1;
has,1;
extern,1;
annotation,1;
that,1;
calling,1;
you,1;
extern,1;
"C",1;
fn(c_int),1;
and
then,1;
that,1;
that,1;
eventually,1;
invoke.
You,1;
around,1;
that,1;
anything,1;
extern,1;
behavior.,1;
currently,1;
panic,,1;
that,1;
you,1;
you,1;
std::panic::catch_unwind,1;
panic,1;
panic,1;
into,1;
error,1;
that
is,1;
you,1;
that,1;
unsafe,1;
revolve,1;
around,1;
your,1;
FFI.,1;
so,1;
down,1;
invariants,1;
unsafe,1;
you,1;
them,1;
all,1;
interface.,1;
foreign,1;
capturing,1;
versus,1;
Send,1;
Sync,1;
ensuring,1;
that,1;
accidentally,1;
these,1;
that,1;
has,1;
your,1;
wrapper,1;
might
accidentally,1;
from,1;
that,1;
all,1;
that,1;
long,1;
external
interface,1;
that,1;
you,1;
you,1;
Device,1;
from
that,1;
with,1;
that,1;
remain,1;
long,1;
Device,1;
that,1;
wrapper,1;
Device,1;
associ-
ated,1;
with,1;
that,1;
Device,1;
was,1;
Send,1;
Sync,1;
from,1;
documents,1;
that,1;
the
safe,1;
that,1;
violate,1;
you,1;
invariants.,1;
you,1;
with,1;
11-7.
extern,1;
next_event(),1;
Event;
Listing,1;
that,1;
single-threaded,1;
suppose,1;
that,1;
states,1;
that,1;
that,1;
avoid,1;
Send,1;
for!
Instead,,1;
invariant,,1;
shown,1;
EventLoop(std::marker::PhantomData<*const,1;
{
pub,1;
{
let,1;
unsafe,1;
};
//,1;
invariant,1;
auxiliary,1;
with,1;
anything,1;
rather,1;
that,1;
you,1;
calling,1;
start_main_loop,,1;
thread”,1;
neither,1;
Send,1;
itself,1;
neither,1;
Send,1;
Sync,1;
bit,1;
compiler
feature,1;
that,1;
!Send,1;
its,1;
stabilize,1;
some,1;
time.
You,1;
that,1;
nothing,1;
from,1;
from,1;
from,1;
that,1;
so,1;
leave,1;
you,1;
Confusion
In,1;
many,1;
you,1;
you,1;
that,1;
these,1;
expose,1;
which,1;
in
Rust.,1;
anything,1;
that,1;
reason,,1;
referred,1;
opaque.
Opaque,1;
method,1;
has,1;
around,1;
provide,1;
into
the,1;
referenced,1;
data.,1;
Unfortunately,,1;
one,1;
from,1;
nothing,1;
from,1;
from,1;
one,1;
method,1;
method
that,1;
confusion,,1;
avoid,1;
directly,1;
actual,1;
I,1;
that,1;
{
pub,1;
11-9:,1;
that,1;
Bar,1;
extern,1;
method,1;
Even,1;
now,1;
you,1;
one,1;
other,1;
so,1;
with,1;
you,1;
from,1;
annotation,1;
that,1;
Bar,1;
crate.
bindgen,1;
Scripts
Mapping,1;
large,1;
that,1;
writing,1;
all,1;
They,1;
community,1;
has,1;
bindgen,1;
long,1;
you,1;
files,1;
you,1;
bindgen,1;
encodes,1;
rules,1;
we’ve,1;
chapter,,1;
them,1;
configurable,1;
that,1;
takes,1;
files,1;
spits,1;
stand-alone,1;
binary,1;
that,1;
once,,1;
which,1;
you,1;
allows,1;
you,1;
generated,1;
other,1;
you,1;
generate,1;
auto-
matically,1;
include,1;
files,1;
your,1;
bindgen,1;
that,1;
you,1;
build
script,1;
your,1;
you,1;
that,1;
correct,1;
on
the,1;
generated,1;
Generating,1;
them,1;
which,1;
less,1;
the
[package],1;
your,1;
This,1;
tells,1;
Cargo,1;
stand-alone,1;
your,1;
its,1;
dependencies,,1;
which,1;
you,1;
your,1;
Cargo.toml.
NOTE
If,1;
you,1;
name,1;
your,1;
you,1;
your,1;
with,1;
from,1;
compiler,,1;
files,1;
that,1;
it,,1;
generate,1;
files,1;
Interfaces
207Though,1;
versatile,,1;
them,1;
environment,1;
you,1;
your,1;
builds,1;
fail,1;
other,1;
which,1;
experience.
The,1;
files,1;
environment,1;
so,1;
files,1;
generated,1;
generate,1;
from,1;
you,1;
your,1;
bindgen,1;
into,1;
your,1;
include,1;
time:
include!(concat!(env!("OUT_DIR"),,1;
generally,1;
crate,1;
crate,1;
with,1;
-sys,1;
you,1;
practice,,1;
much,1;
painful,,1;
that,1;
links,1;
to
coexist,1;
build.,1;
major,1;
your,1;
all,1;
Separating
just,1;
into,1;
crate,1;
allows,1;
you,1;
major,1;
wrapper,1;
crate,1;
that,1;
separation
also,1;
allows,1;
you,1;
crate,1;
with,1;
change—say,,1;
files,1;
bindgen,1;
generated,1;
change,1;
crate,1;
that,1;
that,1;
you,1;
include,1;
from,1;
-sys,1;
crate,1;
inter-
face,1;
your,1;
changing,1;
-sys,1;
crate,1;
change,1;
your,1;
your,1;
crate,1;
that,1;
you,1;
others,1;
you,1;
its,1;
easier,1;
generate,1;
your,1;
from,1;
that,1;
needs,1;
kept,1;
crate,1;
which,1;
your,1;
in
size.,1;
Fortunately,,1;
community,1;
has,1;
binary,1;
scripts.,1;
takes,1;
C
header,1;
file.,1;
your,1;
I,1;
reasonable,1;
bug!
C++
I’ve,1;
you,1;
programming,1;
some,1;
way,1;
with,1;
so,1;
many,1;
C++,,1;
beast
when,1;
FFI.,1;
Generating,1;
straightforward,,1;
that,1;
all,1;
bindgen,1;
has,1;
C++,,1;
ergonomics.,1;
you,1;
generally,1;
operators,,1;
template,1;
all.,1;
you,1;
with,1;
C++,,1;
I,1;
you,1;
crate,1;
chapter,,1;
we’ve,1;
extern,1;
into,1;
We’ve,1;
with,1;
on
the,1;
other,1;
side,1;
boundary,,1;
some,1;
well.,1;
bindgen,1;
which,1;
much,1;
pleasant.,1;
next,1;
restricted,1;
standard,1;
N,1;
DA,1;
I,1;
sys-
tems,1;
that,1;
really,1;
programming,1;
operating,1;
hardware,,1;
that,1;
thousand-
core,1;
embedded,1;
­single-core,1;
with,1;
memory.
In,1;
chapter,,1;
you,1;
without,1;
operating,1;
our
discussion,1;
attribute,,1;
module,,1;
runtime,1;
some,1;
you,1;
Out,1;
language,,1;
independent,1;
First,1;
compiler,,1;
which,1;
grammar,1;
standard,1;
all,1;
that,1;
programs
need—things,1;
notion,1;
so,1;
itself,1;
many,1;
re-exports
from,1;
libraries.
The,1;
core,1;
sits,1;
standard,1;
that,1;
nothing,1;
low-level,1;
access,1;
and
compiler,1;
core,1;
operating,1;
so,1;
standard,1;
network.
Similarly,,1;
so,1;
Box,,1;
core,1;
sits,1;
alloc,,1;
which,1;
all,1;
that,1;
dynamic,1;
smart,1;
core,1;
among,1;
This,1;
means,1;
that,1;
in
core::option::Option,,1;
you,1;
access,1;
unorthodox,1;
operating,1;
fine,1;
embedded,1;
device
may,1;
simply,1;
way,1;
access,1;
that,1;
requires,1;
that,1;
requires,1;
so,1;
that
dynamic,1;
you,1;
goodbye,1;
avoid,1;
basic,1;
way,1;
anything,1;
language:,1;
This,1;
crate-
level,1;
attribute,1;
that,1;
switches,1;
prelude,1;
box,1;
crate,1;
from,1;
core::prelude,1;
so,1;
that,1;
you,1;
anything,1;
core,1;
that,1;
your,1;
that,1;
all,1;
attribute,1;
from,1;
standard,1;
with,1;
extern,1;
std.,1;
means,1;
crate,1;
with,1;
environment,1;
that,1;
decision,1;
was,1;
allows,1;
you,1;
your,1;
crate,1;
being
no_std-compatible,1;
from,1;
standard,1;
many,1;
named
std,1;
access,1;
with,1;
that,1;
std.,1;
This,1;
allows,1;
crate,1;
whistles
for,1;
consumers,1;
standard,1;
std-enabling,1;
std-disabling
one.,1;
crate,1;
graph,1;
no-,1;
all,1;
consumers,1;
access,1;
without,1;
which,1;
that,1;
available,,1;
them
to,1;
you,1;
some,1;
Box,,1;
Iterator,
Option,,1;
without,1;
you,1;
needing,1;
you,1;
standard,1;
library
(like,1;
reason,1;
that,1;
prelude,1;
with,1;
(or,1;
other,1;
which,1;
brings,1;
all,1;
from,1;
into,1;
prelude,1;
statements,1;
that,1;
expect,1;
used.
Dynamic,1;
machine,1;
has,1;
many,1;
of
memory,,1;
one,1;
purpose.,1;
stack,1;
else.,1;
around,1;
long,1;
you,1;
This,1;
versatile,,1;
everywhere.,1;
implemented,1;
which,1;
allows,1;
them,1;
from,1;
without,1;
checker
complaining.
Rust,1;
really,1;
that,1;
that,1;
the
illusion,1;
heap,,1;
ensuring,1;
that,1;
overlap,1;
that,1;
that,1;
which,1;
generally,1;
one,1;
standard,1;
This,1;
which,1;
GlobalAlloc,1;
with,1;
attribute,,1;
which,1;
requires,1;
method,1;
segment,1;
without,1;
operating,1;
standard,1;
generally,1;
available,,1;
so,1;
neither,1;
standard,1;
that,1;
reason,,1;
excludes,1;
all,1;
that,1;
without,1;
access,1;
operating,1;
allows,1;
into,1;
standard,1;
that,1;
requires,1;
without,1;
into,1;
all,1;
with,1;
standard,1;
core,1;
your,1;
Box,,1;
String,
Vec,,1;
HashMap,1;
among,1;
its,1;
which,1;
operating,1;
facility.,1;
from,1;
all,1;
you,1;
that,1;
previously,1;
had,1;
with,1;
that,1;
means,1;
your,1;
#![no_std]
crate,1;
usable,1;
that,1;
dynamic,1;
dynamic,1;
programming,1;
dynamic,1;
memory
allocation,1;
gracefully,1;
without,1;
provide,1;
try_,1;
that,1;
allocate.,1;
try_,1;
(like,1;
currently,1;
Box::try_new,1;
rather,1;
ones
that,1;
panic,1;
(like,1;
Box::new,1;
them,1;
you,1;
that,1;
that
use,1;
After,1;
all,,1;
type,,1;
net-
work,,1;
notion,1;
stack,1;
you,1;
static
memory,1;
stack,1;
expect,1;
with,1;
many,1;
currently,1;
next,1;
vari-
able,1;
that,1;
elements.,1;
next,1;
implemented,1;
const,1;
const,1;
usize>,1;
const,1;
usize>,1;
{
if,1;
N,1;
Some(t);
self.len,1;
1;
return,1;
Ok(());
}
}
Listing,1;
12-1:,1;
its,1;
elements,,1;
T,,1;
the
maximum,1;
elements,,1;
N,1;
This,1;
N,1;
so,1;
has,1;
size,1;
stack,,1;
runtime,1;
access,1;
implemented,1;
avoid,1;
that,1;
unsafe,1;
which,1;
warranted
for,1;
example.
The,1;
claim,1;
that,1;
really,1;
strictest
sense.,1;
Specifically,,1;
some,1;
that,1;
your
main,1;
conditions,1;
your,1;
really,1;
Panic,1;
bit,1;
Rust’s,1;
panic,1;
panic,1;
next.,1;
runtime,1;
that,1;
panic,1;
panic,1;
std::panic::set_hook,,1;
which,1;
prints,1;
standard,1;
error,1;
panic,1;
setting,1;
cur-
rent,1;
Cargo,1;
passed
directly,1;
rustc).
However,,1;
all,1;
provide,1;
panic,1;
all,1;
that,1;
panic,1;
needs,1;
panic
occurs.,1;
that,1;
attribute,1;
a
single,1;
with,1;
!.,1;
whenever,1;
panic,,1;
panic,1;
core::panic::PanicInfo.,1;
with,1;
that,1;
indicated,1;
This,1;
important,,1;
that,1;
that,1;
panic,1;
run.
There,1;
many,1;
panic,1;
avoid,1;
returning.,1;
panic,1;
stack,1;
panic,1;
anything,1;
that,1;
device.
Program,1;
popular,1;
belief,,1;
that,1;
runs
in,1;
binary,1;
standard,1;
command-line,1;
std::env::args,1;
can
get,1;
setting,1;
name,1;
thread,,1;
the
main,1;
function,,1;
standard,1;
setting,1;
lang_start,1;
your,1;
which,1;
command-line,1;
arrangement,1;
all,1;
that,1;
sen-
sible,1;
embedded,1;
generally,1;
initialization,1;
code
entirely,1;
This,1;
attribute,1;
you,1;
with,1;
that,1;
expected,1;
platform.
NOTE
On,1;
that,1;
embedded,1;
your,1;
initialization,1;
segments,1;
with,1;
your,1;
Handler
If,1;
you,1;
that,1;
platform
that,1;
you,1;
which,1;
use
using,1;
attribute,1;
chapter.
But,1;
you,1;
that,1;
global,1;
Specifically,,1;
you,1;
infallible,1;
Vec::push,1;
needs,1;
error,1;
standard,1;
error,1;
that,1;
platforms
your,1;
attribute,1;
that,1;
should
almost,1;
that,1;
without,1;
that,1;
did,1;
you,1;
stabilized
under,1;
name,1;
(#[alloc_error_handler],,1;
Work,1;
Rust’s,1;
panic,1;
so,1;
that,1;
change,1;
on
the,1;
method,1;
that,1;
your,1;
statements,1;
into,1;
machine,1;
that,1;
some,1;
wiggle,1;
that,1;
invisible,1;
program—you,1;
generally,1;
other,1;
from,1;
load,1;
This,1;
expect,1;
from,1;
so,1;
that,1;
generally,1;
you,1;
expect,1;
programming,1;
takes,1;
you,1;
usual
border,1;
“invisible,1;
your,1;
computer,1;
that,1;
change,1;
particular,1;
(or,1;
on
the,1;
screen.
When,1;
with,1;
device
may,1;
access,1;
that,1;
of
memory,,1;
so,1;
your,1;
regular
memory,1;
that,1;
Library
217when,1;
they’re,1;
read,,1;
side,1;
effects.,1;
you,1;
execution,1;
that,1;
that,1;
can-
not,1;
process
receives,1;
that,1;
interrupts,1;
execution.,1;
segment,1;
triggered,1;
all,1;
its,1;
so,1;
that,1;
opera-
tions,1;
performed,1;
since
the,1;
these,1;
its,1;
optimizations,,1;
so,1;
these,1;
that,1;
code.
To,1;
deal,1;
with,1;
these,1;
that,1;
with,1;
respect,1;
other,1;
std::ptr::write_volatile.,1;
Volatile,1;
exactly,1;
directly,1;
access,1;
with,1;
guarantee
that,1;
one,1;
with,1;
side,1;
of
order,1;
interchangeable,1;
one,1;
address).,1;
execution,1;
long,1;
context,1;
volatile
memory,1;
that,1;
from,1;
its,1;
days,,1;
you,1;
down,1;
writing,1;
low-level,1;
programming,1;
you,1;
strange,1;
memory
mappings,,1;
complete,1;
inline,1;
nothing,1;
has,1;
so,1;
I,1;
lit-
tle,1;
Specifically,,1;
from,1;
standard,1;
standard,1;
into,1;
binary,,1;
cargo:rustc-link-
search:/some/path,1;
path,1;
that,1;
and
then,1;
into,1;
Cargo,1;
we’re,1;
off,1;
the
races!,1;
you,1;
include,1;
.a,1;
publishing,1;
your,1;
crate,1;
so,1;
that,1;
consumers,1;
rebuild,1;
safe,,1;
low-level,1;
sys-
tems,1;
with,1;
obscure,1;
undocumented,1;
instruc-
tion,1;
into,1;
state.,1;
all,1;
that,1;
runtime,1;
error,1;
states,1;
represent,,1;
indicate,1;
it,,1;
did,1;
review,1;
from,1;
context,1;
one,1;
shows,1;
you,1;
can
represent,1;
that,1;
way,1;
that,1;
that,1;
Off;
pub,1;
Off>,1;
{
pub,1;
Option<Self>,1;
unsafe,1;
{
//,1;
Off>,1;
Off>,1;
{
pub,1;
off(self),1;
Off>,1;
{
registers::set_off("r1");
Pair(PhantomData)
}
}
//,1;
ensuring,1;
correct,1;
few,1;
that,1;
Pair,1;
its,1;
all,1;
self.,1;
We
then,1;
that,1;
that,1;
invariant,1;
that,1;
runtime,1;
track,1;
that,1;
we’re,1;
which,1;
that,1;
computer,1;
with,1;
full-fledged
operating,1;
all,1;
hardware,,1;
ulti-
mately,1;
with,1;
context,1;
which,1;
cross-compilation,1;
important,,1;
one,1;
all,1;
consumer,1;
rather,1;
trying,1;
your,1;
consumers,1;
that,1;
means,1;
compiling,1;
sock-like,1;
with,1;
fancy,1;
you,1;
set,1;
Cargo,1;
smaller,1;
binary,1;
one,1;
one,1;
that,1;
eventually,1;
which,1;
machine,1;
machine,1;
tells,1;
instruction,1;
set,1;
machine,1;
generally,1;
takes,1;
value
of,1;
else,
and,1;
irrelevant
and,1;
tells,1;
use
for,1;
binary,1;
so,1;
value,1;
linux,1;
.dll,1;
so,1;
Cargo,1;
that,1;
you,1;
generally,1;
never,1;
Cargo,1;
you,1;
same,,1;
musl,1;
implementation
of,1;
Cargo,1;
cross-compile,,1;
you,1;
simply,1;
with,1;
your,1;
choice.,1;
Cargo,1;
that,1;
so,1;
that,1;
that,1;
Cargo,1;
standard,1;
that,1;
standard,1;
conditional,1;
so,1;
that,1;
right
architecture-specific,1;
used,,1;
so,1;
target.
The,1;
no,,1;
so,1;
you,1;
without,1;
one,1;
explicitly,
you’ll,1;
This,1;
that,1;
you,1;
that,1;
with,1;
you,1;
std::,,1;
prelude).,1;
you,1;
your,1;
con-
tinuous,1;
your,1;
crate,1;
with,1;
access,1;
from,1;
anything,1;
core,1;
that,1;
your,1;
crate,1;
that,1;
items,1;
from,1;
(or,1;
ATFORM,1;
standard,1;
install,1;
standard,1;
all,1;
the
target,1;
that,1;
you,1;
standard,1;
standard,1;
your,1;
from
source,1;
Rustup,1;
core,1;
your,1;
compiler—that,1;
your,1;
one,1;
How
you,1;
that,1;
currently,1;
“custom,1;
chapter,,1;
we’ve,1;
standard,1;
std.,1;
We’ve,1;
gone,1;
you,1;
with,1;
core,,1;
how
you,1;
your,1;
with,1;
alloc,,1;
(tiny),1;
run-
time,1;
your,1;
We’ve,1;
taken,1;
you,1;
with,1;
unorthodox,1;
execution,1;
that,1;
some,1;
move,1;
from,1;
large,1;
crate,1;
that,1;
this
trend,1;
debate,,1;
grasp,1;
community,1;
has,1;
you,1;
chapter,,1;
the
closing,1;
provide,1;
some,1;
your,1;
Out,1;
its,1;
has,1;
ecosystem,1;
large,1;
track,1;
that’s,1;
you,1;
you,1;
your,1;
way,1;
set,1;
and
then,1;
which,1;
reasonable,1;
crates,,1;
that,1;
you,1;
that,1;
you,1;
countless,1;
hours,1;
some,1;
I,1;
years,1;
that,1;
you,1;
some,1;
too!
Tools
First,1;
some,1;
I,1;
regularly,1;
that,1;
your,1;
way,1;
your,1;
writing,
you,1;
crate,1;
with,1;
vulnerabilities
or,1;
that,1;
that,1;
crate,1;
you,1;
much,1;
easier,1;
deep,1;
down,1;
macro,1;
transcrib-
ers,1;
procedural,1;
invaluable,1;
your,1;
you,1;
that,1;
your,1;
crate,1;
with,1;
that,1;
Cargo,1;
itself
(like,1;
you,1;
with,1;
all,1;
from,1;
that’s,1;
that,1;
machine,1;
tells,1;
you,1;
which,1;
This,1;
means,1;
so,1;
(due
224
Chapter,1;
13to,,1;
your,1;
dependencies,,1;
you,1;
major,1;
so,1;
essential,1;
missing,1;
that,1;
bumping,1;
major,1;
change,1;
your,1;
crate,1;
you,1;
your,1;
interface!
cargo-udeps
Identifies,1;
your,1;
that,1;
never,1;
actu-
ally,1;
you,1;
them,1;
what-
ever,1;
you,1;
down,1;
your,1;
they’re,1;
I,1;
highly,1;
recom-
mend,1;
excellent,1;
improvements,1;
I,1;
day.
Libraries
Next,1;
some,1;
that,1;
I,1;
that,1;
I,1;
I,1;
long,1;
time:
bytes
Provides,1;
passing,1;
around,1;
without,1;
deal,1;
with,1;
This,1;
low-level,1;
you,1;
into,1;
that,1;
from,1;
micro-benchmarks,1;
your,1;
calling,1;
from,1;
invest,1;
some,1;
your,1;
that,1;
simpler,1;
one,1;
included,1;
with,1;
so,1;
worlds.
hdrhistogram
A,1;
Range,1;
(HDR),1;
which,1;
representation,1;
a
wide,1;
you,1;
currently,1;
track,1;
you,1;
you,1;
much,1;
into,1;
your,1;
that,1;
all,1;
backed,1;
which,1;
embedded,1;
other,1;
which,1;
is
undesirable.
itertools
Extends,1;
from,1;
standard,1;
with,1;
lots,1;
you,1;
some,1;
you,1;
that,1;
has,1;
exactly,1;
one,1;
(Itertools::exactly_one).
nix
Provides,1;
allows,1;
much,1;
trying,1;
that,1;
safety,1;
invariants,1;
which,1;
provide,1;
This,1;
allows,1;
you,1;
avoid,1;
your,1;
pin-project-lite,,1;
cost,1;
ergonomics.
ring
Takes,1;
from,1;
BoringSSL,
written,1;
brings,1;
them,1;
interface.,1;
you,1;
your,1;
this
in,1;
which,1;
provide,1;
modern,,1;
TLS,1;
stack.
slab
Implements,1;
Token,1;
differentiate,1;
map.,1;
This,1;
set,1;
that,1;
at,,1;
and
thus,1;
fail,1;
at,,1;
(like,1;
size.,1;
I,1;
highly
recommend,1;
these,1;
your,1;
application’s,1;
macro,1;
you,1;
your,1;
you,1;
value,1;
you,1;
you
thus,1;
all,1;
benefits,,1;
writing,1;
error,1;
takes,1;
recommended,1;
you,1;
just
the,1;
that,1;
your,1;
takes,1;
ecosystem,1;
its,1;
core,1;
Service
trait,,1;
which,1;
that,1;
into,1;
I,1;
its,1;
way,1;
into,1;
standard,1;
one
day).,1;
This,1;
anything,1;
that,1;
all,1;
plumbing,1;
needed,1;
execution,1;
agnostic,1;
you,1;
with,1;
This,1;
collection,,1;
debugging,,1;
all,1;
with,1;
has,1;
few,1;
its,1;
that,1;
you,1;
lifesavers!
Rustup
Rustup,,1;
its,1;
so,1;
that,1;
fade,1;
into,1;
background,1;
forgotten,1;
update,1;
your,1;
set,1;
override,,1;
install,1;
that’s,1;
Rustup,1;
one,1;
trick
that,1;
binary,1;
set,1;
reset,1;
was,1;
and
cargo,1;
with,1;
1.53.0.,1;
that,1;
you,1;
haven’t,1;
has,1;
subcommand,,1;
that,1;
opens,1;
standard,1;
your,1;
This,1;
invaluable,1;
connection!
Cargo
Cargo,1;
has,1;
some,1;
that,1;
these,1;
Cargo,1;
into,1;
This,1;
command’s,1;
graph,1;
This,1;
own,,1;
really,1;
shines,1;
takes,1;
crate,1;
inverted,1;
all,1;
from,1;
crate,1;
that,1;
that,1;
all,1;
which,1;
crate,1;
transitive
dependencies.,1;
This,1;
invaluable,1;
you,1;
particular,1;
include,1;
Cargo,1;
crate,1;
Cargo,1;
really,1;
your,1;
with,1;
other,1;
your,1;
Cargo,1;
with,1;
recognize,,1;
name,1;
cargo-$subcommand,1;
that,1;
passes,1;
that,1;
with,1;
Cargo,1;
integrate,1;
with,1;
help,1;
help,1;
into,1;
--help.
As,1;
you,1;
you,1;
that,1;
Cargo,1;
exactly,1;
space.
Each,1;
its,1;
its,1;
you,1;
several,1;
Keeping,1;
sensible,1;
one,1;
reasonable,1;
Cargo,1;
your,1;
~/.cargo/config.toml,1;
you,1;
Cargo,1;
directories,1;
sight!,1;
you,1;
that,1;
that,1;
now,1;
all,1;
artifacts.
NOTE
Using,1;
that,1;
that,1;
under,1;
so,1;
that.
Also,1;
that,1;
you,1;
move,1;
into,1;
that,1;
project.,1;
off,1;
that,1;
Cargo,1;
you,1;
Cargo,1;
long,1;
your,1;
you,1;
currently,1;
Cargo,1;
Cargo,1;
with,1;
that,1;
long,1;
it
took,1;
long,1;
took,1;
other,1;
other
useful,1;
This,1;
slow,1;
you,1;
that,1;
from,1;
that,1;
you,1;
you,1;
that,1;
itself.
rustc
The,1;
has,1;
some,1;
that,1;
currently,1;
which,1;
prints,1;
all,1;
This,1;
all,1;
tiniest,1;
but
is,1;
trying,1;
lots,1;
particular,1;
type,,1;
which,1;
you,1;
into,1;
u32,1;
representation.,1;
After,1;
you,1;
a
particular,1;
I,1;
static
assertions,1;
that,1;
variant_size_differences,1;
which,1;
enum,1;
with,1;
particular,1;
you,1;
few,1;
options:,1;
you,1;
set,1;
them,1;
RUSTFLAGS,1;
environment,1;
variable,1;
your,1;
them,1;
from,1;
Cargo,,1;
you,1;
which,1;
you,1;
provide,1;
your,1;
profiling,1;
samples,1;
with,1;
stack,1;
frames,1;
you,1;
provide,1;
way,1;
cost,1;
extra,1;
Even,1;
stack,1;
fine,1;
with,1;
debug
symbols,1;
set,1;
that’s,1;
you,1;
standard,1;
generally,1;
compared
to,1;
other,1;
programming,1;
it
makes,1;
you,1;
web,1;
Rust’s,1;
standard,1;
you,1;
more
than,1;
its,1;
that,1;
ergonomics,,1;
avoid,1;
all,1;
that,1;
verbose,1;
that,1;
so,1;
otherwise.,1;
some,1;
standard,1;
that,1;
you,1;
that,1;
can
often,1;
(or,1;
your,1;
Functions
Let’s,1;
off,1;
with,1;
few,1;
First,1;
macro,
which,1;
you,1;
into,1;
file,,1;
that,1;
with,1;
that,1;
with,1;
and
std::fmt::Write,,1;
which,1;
means,1;
you,1;
directly,1;
you,1;
x,
x,1;
iter::once,1;
takes,1;
value,1;
that
yields,1;
that,1;
value,1;
This,1;
calling,1;
that,1;
you,1;
combined,1;
with,1;
Iterator::chain
to,1;
briefly,1;
you,1;
This,1;
takes,1;
owned,1;
T,,1;
so,1;
that,1;
now,1;
T,,1;
ownership,1;
This,1;
you,1;
ownership,1;
value,1;
you,1;
have
only,1;
Drop.,1;
T:,1;
some,1;
standard,1;
that,1;
many,1;
that,1;
many
small,1;
one,1;
large,1;
read,,1;
many,1;
one,1;
This,1;
performance,1;
you,1;
barrier,1;
into,1;
operating,1;
type,,1;
you,1;
you,1;
flexibility,1;
you,1;
return.,1;
that,1;
you,1;
invaluable,1;
allows,1;
that,1;
that,1;
outputs,
such,1;
core,1;
EntityIdentifier,1;
like
in,1;
that,1;
RPC,1;
EntityIdentifier,1;
String,
}
Listing,1;
13-1:,1;
representation,1;
combined,1;
that,1;
requires,1;
get_entity,1;
takes,1;
EntityIdentifier,1;
EntityIdentifier,1;
some,1;
get_entity,1;
method,1;
requires,1;
serialized,1;
find_by,,1;
from,1;
owned,1;
owned,1;
get_entity,1;
that’s,1;
required,1;
required,1;
EntityIdentifier,1;
one,1;
shows,1;
EntityIdentifier,1;
that,1;
holds
Cows,1;
EntityIdentifier<'a>,1;
Cow<'a,,1;
13-2:,1;
representation,1;
combined,1;
that,1;
get_entity,1;
EntityIdentifier<'_>,
which,1;
allows,1;
find_
by,1;
all,1;
fields,1;
with,1;
you,1;
I,1;
you,1;
provide,1;
into_owned
method,1;
that,1;
into,1;
<'static>,1;
calling,1;
Cow::into_
owned,1;
all,1;
fields.,1;
way,1;
your,1;
all,1;
primitive,1;
that,1;
you,1;
run
a,1;
piece,1;
exactly,1;
once,,1;
initialization,1;
This,1;
for
initialization,1;
that’s,1;
other,1;
side,1;
requires,1;
that,1;
initialization,1;
performed,1;
reaching,1;
whenever,1;
I,1;
stack,1;
that,1;
representation,1;
is
that,1;
track,1;
actual,1;
This,1;
allows,1;
pop,1;
from,1;
side,1;
stack,,1;
queue,,1;
at
the,1;
cost,1;
you,1;
that,1;
wrapped,1;
which,1;
means,1;
off,1;
with,1;
some,1;
First,1;
is
Arc::make_mut,,1;
which,1;
takes,1;
you,1;
last,1;
one,1;
you,1;
that,1;
was,1;
that,1;
T,,1;
that,1;
currently,1;
referenced,1;
method,1;
you,1;
you,1;
rather,1;
other,1;
you,1;
x:,1;
T,,1;
you,1;
y.clone(),,1;
you,1;
some,1;
way,1;
your,1;
you,1;
include,1;
some,1;
fields,1;
expose,1;
that,1;
your,1;
fields.,1;
simply,1;
method,1;
debug_map,,1;
fill,1;
(like,1;
field,1;
field,1;
Instant,1;
was,1;
This
is,1;
much,1;
approach,1;
takes,1;
Option<P>,1;
(there’s,1;
as_deref_mut,1;
This,1;
functional,1;
transformation,1;
that,1;
you,1;
that,1;
Ord,1;
clamp,1;
it
between,1;
other,1;
max,,1;
less,1;
greater,1;
max,,1;
otherwise.
Result::transpose,1;
its,1;
counterpart,1;
Option::transpose,1;
Result<Option<T>,,1;
an
Option<Result<T,,1;
combined,1;
with,1;
with,1;
which,1;
means,1;
that,1;
all,1;
down,1;
This,1;
slow,1;
large,1;
other,1;
with,1;
last,1;
truncates,1;
one,,1;
which,1;
that,1;
your,1;
around,1;
indexes!
Patterns,1;
you,1;
that,1;
your,1;
own,,1;
that,1;
haven’t,1;
the
book,1;
so,1;
them,1;
easier,1;
and
thus,1;
you,1;
even
find,1;
them,1;
your,1;
one,1;
you,1;
without,1;
so,1;
that,1;
one,1;
one,1;
HashMap,1;
one,1;
field,1;
you,1;
dynamic,1;
that,1;
extra,1;
you,1;
structure,,1;
with,1;
remain,1;
that,1;
introduces
a,1;
you,1;
I,1;
entry,1;
some,1;
derived,1;
derived,1;
retrieve,1;
data.,1;
you,1;
cycles,1;
the
derived,1;
representation,1;
you,1;
which,1;
HashMap,1;
has,1;
all,1;
itself,1;
So,
it,1;
Specifically,,1;
all,1;
from,1;
all,1;
that,1;
that,1;
which,1;
that,1;
from,1;
which,1;
graph,1;
crate,1;
one,1;
all,1;
values
and,1;
all,1;
indexes,1;
Vecs,1;
associ-
ated,1;
with,1;
that,1;
simply,1;
u32s,,1;
rather,1;
as
references,1;
values.
The,1;
trick,1;
you,1;
deletions.,1;
its,1;
all,1;
derived,1;
and
remove,1;
corresponding,1;
you,1;
change,1;
one,1;
other,1;
entry,1;
(when,1;
you,1;
update,1;
all,1;
derived,1;
entry,1;
that,1;
guards,1;
provide,1;
way,1;
that,1;
bit,1;
which,1;
essential,1;
unsafe,1;
that,1;
takes,1;
FnOnce,1;
executes,1;
set,1;
from,1;
false,1;
true,,1;
false,1;
never,1;
its,1;
other,1;
around,1;
that,1;
guard,1;
the
Boolean,1;
mutex(lock:,1;
{
//,1;
..
struct,1;
guard,1;
panic
We,1;
that,1;
its,1;
Drop::drop.,1;
fields,1;
guard,1;
that,1;
which,1;
here.,1;
panic,1;
normally,,1;
guard,1;
its,1;
all,1;
that,1;
guard,1;
variable,1;
that,1;
has,1;
means,1;
that,1;
never,1;
variable,1;
again,,1;
it
needs,1;
name,,1;
guard
immediately—before,1;
guards,1;
com-
piled,1;
with,1;
frequently,1;
conjunction,1;
with,1;
set,1;
so,1;
that,1;
duration,1;
execution,1;
needs,1;
afterwards.,1;
this
pattern,1;
provide,1;
calling,1;
without,1;
that,1;
that,1;
continued,1;
indicate,1;
that,1;
particular,1;
panic,,1;
so,1;
guard,1;
that,1;
locals.,1;
This,1;
access,1;
that,1;
provide,1;
without,1;
much,1;
overhead,1;
single-threaded,1;
so,1;
provide,1;
from,1;
which,1;
con-
venient,1;
so,1;
tower,1;
which,1;
several,1;
low-level,1;
Service,1;
you,1;
with,1;
crate,1;
its,1;
that,1;
with,1;
solely,1;
provided,1;
blanket,1;
that,1;
trait
(impl<T>,1;
T:,1;
Service,1;
Together,,1;
these,1;
that,1;
trait’s,1;
anything,1;
standard,1;
prelude,1;
that,1;
without,1;
you,1;
statements.,1;
that,1;
multiple
types,,1;
that,1;
define
their,1;
prelude,1;
prelude,,1;
which,1;
nothing,1;
that,1;
name,,1;
that,1;
add
use,1;
files,1;
that,1;
crate,1;
tells,1;
all,1;
items,1;
from,1;
indi-
cated,1;
This,1;
bit,1;
typing,1;
crate,1;
has,1;
items,1;
that,1;
This,1;
allows,1;
you,1;
items,1;
your,1;
crate,1;
that,1;
overlap,1;
with
what’s,1;
standard,1;
prelude,1;
without,1;
which,1;
one,1;
that,1;
expose,1;
that,1;
defines,1;
them,1;
in
scope.,1;
which,1;
access,1;
to
relational,1;
extensive,1;
so,1;
you,1;
like:
posts.filter(published.eq(true)).limit(5).load::<Post>(&connection)
This,1;
all,1;
which,1;
you,1;
potentially,1;
indicated,1;
changes.,1;
you,1;
glob-import,1;
that,1;
method,1;
foo
available,1;
that,1;
had,1;
some,1;
other,1;
method,,1;
that,1;
calls
foo,1;
that,1;
now,1;
mod-
ule,1;
major,1;
change.,1;
into,1;
I,1;
you,1;
it,,1;
that,1;
minimally,1;
large,1;
major,1;
recommended,1;
its,1;
prelude,1;
into,1;
change,1;
requires,1;
major,1;
language,,1;
standard,1;
tooling,,1;
ecosystem,1;
all,1;
in
their,1;
developments,1;
staying,1;
all,1;
your,1;
developments,1;
so,1;
that,1;
you,1;
your,1;
improvements,1;
itself,,1;
standard,1;
core,1;
official
Rust,1;
low-volume,1;
I,1;
habit,1;
include,1;
that,1;
your,1;
I,1;
highly,1;
Cargo,1;
of
each,1;
that,1;
that,1;
you,1;
weeks,1;
from,1;
less,1;
frequently,1;
news
source,,1;
Guide,1;
what’s,1;
editions,1;
you,1;
you,1;
or
standard,1;
itself,1;
you,1;
subscribe,1;
from,1;
incident,1;
change,1;
I,1;
highly,1;
experience—you,1;
which,1;
improving,1;
Find,1;
one,1;
that,1;
with,1;
wherever,1;
you,1;
join,1;
community,1;
discussion,1;
way,1;
into
the,1;
that,1;
goes,1;
into,1;
Rust’s,1;
programming,1;
much,1;
Rust’s,1;
derived,1;
from,1;
its,1;
Not,1;
develop,1;
collectively,1;
help,1;
one,1;
document,,1;
I,1;
in
this,1;
much,1;
has,1;
comment,1;
posts,,1;
Discord,1;
into,1;
these,1;
almost
guaranteed,1;
you,1;
technique,
or,1;
crate,1;
that,1;
you,1;
community,1;
some,1;
Discord,1;
engage,1;
with,1;
all,1;
all,1;
one,1;
you,1;
staying,1;
with,1;
ongoing,1;
developments
is,1;
This,1;
(https://this-week-in-rust.org/),,1;
“weekly,1;
summary
of,1;
links,1;
official,1;
popular,1;
community,1;
crates,,1;
events,,1;
lists,1;
RFCs,1;
compiler
PRs,,1;
so,1;
has,1;
daunting,,1;
scrolling,1;
links,1;
that,1;
way,1;
a
steady,1;
stream,1;
into,1;
your,1;
brain.
NOTE
Want,1;
particular,1;
stable?,1;
I,1;
has,1;
you,1;
covered.
What,1;
you’ve,1;
front,1;
back,,1;
all,1;
it
imparts,,1;
deepening,1;
your,1;
you,1;
some,1;
my,1;
so,1;
that,1;
you,1;
I’ve,1;
divided,1;
learn,1;
so,1;
that,1;
with,1;
your,1;
own,,1;
that,1;
you,1;
other
resources,,1;
help,,1;
learn,1;
some,1;
water,1;
really,1;
which,1;
harder,1;
appreciate.
Learn,1;
life,1;
remedy
the,1;
slow,1;
allows,1;
you,1;
utilizing,1;
excellent,1;
your,1;
auxiliary,1;
patterns,
and,1;
Eventually,1;
you,1;
down,1;
way,1;
that,1;
you,1;
others,1;
pleasant.,1;
that’s,1;
with,1;
that,1;
some,1;
channels,1;
that,1;
I,1;
recommend:
Perhaps,1;
my,1;
I,1;
long-form,1;
videos,,1;
into,1;
Streaming,1;
listing:,1;
This,1;
lists,1;
wide,1;
stream,1;
other,1;
content.
The,1;
Tim,1;
https://
www.youtube.com/c/timClicks/.,1;
its,1;
Tim,1;
has,1;
creative,1;
which,1;
with,1;
shell,”,1;
that,1;
particular,1;
them,1;
examples,,1;
occasionally
does,1;
(like,1;
Flight,1;
deep,1;
into,1;
under,1;
that,1;
I,1;
videos,,1;
that,1;
I,1;
fan,1;
approach,1;
teaching.,1;
receptive,1;
Another,1;
from,1;
you,1;
with,1;
particular,1;
learn,,1;
you,1;
pair-programming,1;
with,1;
them,1;
solve,1;
a
problem,1;
your,1;
writing,1;
programming,1;
matter,1;
many,1;
you,1;
that,1;
into,1;
a
good,1;
tricky,,1;
so,1;
some,1;
I,1;
into,1;
I,1;
provide,1;
some,1;
choose,1;
that,1;
you,1;
much,1;
others,1;
plenty
of,1;
popular,1;
that,1;
your,1;
your,1;
interest.,1;
that,1;
you,1;
them!,1;
so,1;
First,1;
its,1;
with,1;
endless,1;
(you
probably,1;
some,1;
several,1;
who
can,1;
provide,1;
approach,1;
you,1;
tracker,1;
E-easy,1;
E-mentor,,1;
a
good,1;
candidate,1;
you,1;
you,1;
that’s,1;
your,1;
I,1;
you,1;
that’s,1;
porting,1;
with,1;
replacing,1;
you,1;
writing,1;
spend,1;
much,1;
with,1;
all,1;
your-
self.,1;
that,1;
that,1;
needed,1;
it,,1;
so,1;
your,1;
command-line,1;
porting,1;
that,1;
you.
Should,1;
you,1;
from,1;
I,1;
recom-
mend,1;
your,1;
so,1;
you’ve,1;
writing,1;
(whether
240
Chapter,1;
13in,1;
other,1;
repetition,1;
into,1;
smaller,1;
utility,1;
that,1;
provide,1;
Not,1;
that,1;
lists
things,1;
that,1;
improving,,1;
Rust
reading,1;
some,1;
my,1;
that,1;
I,1;
I,1;
official,1;
from,1;
https://www.rust-lang.org/learn/.,1;
Cargo,1;
they’re,1;
all,1;
deep,1;
writing,1;
unsafe,1;
code.
Two,1;
that,1;
Guide,1;
rustc
Development,1;
Guide,1;
(https://std-dev-guide.rust-lang.org/).,1;
standard,1;
you,1;
some,1;
your,1;
itself.,1;
official,1;
I’ve,1;
(https://rust-lang.github.io/api-guidelines/),1;
Unsafe,1;
you,1;
Rust
Reference,,1;
which,1;
dry,,1;
exact,1;
grammar,1;
primitive,1;
some,1;
unofficial,1;
that,1;
you,1;
Book,1;
with,1;
improving,1;
performance,1;
micro,1;
macro,1;
include,1;
Book,1;
which,1;
which,1;
programming,1;
Book,1;
Books,1;
you,1;
has,1;
incomplete,1;
Redis,1;
that’s,1;
docu-
mented,1;
writing,1;
Learn,1;
with,1;
enlight-
ening,1;
that,1;
into,1;
lots,1;
gnarly,1;
ownership,1;
hardware,,1;
Philipp
Oppermann’s,1;
goes,1;
operating,1;
stack,1;
you,1;
I,1;
highly,1;
of
articles,1;
you,1;
wide,1;
sampling,1;
inter-
esting,1;
deep,1;
you,1;
your,1;
long,1;
I’ve,1;
Language,1;
Cheat
Sheet,1;
explanations,1;
topics,,1;
so,1;
with,1;
explanations,1;
approachable.
And,1;
you,1;
all,1;
your,1;
(https://dtolnay.github.io/rust-quiz/),1;
some,1;
what’s,1;
so,1;
you,1;
one,1;
from,1;
has,1;
that,1;
way,1;
learn,1;
and
thoroughly,,1;
I,1;
enor-
mous,1;
from,1;
writing,1;
I,1;
learn,1;
I,1;
recom-
mend,1;
that,1;
you,1;
your,1;
others,1;
some,1;
from,1;
that,1;
you,1;
learn,1;
from,1;
you,1;
writing,1;
is
that,1;
you,1;
your,1;
your,1;
you,1;
community,1;
so,1;
that,1;
next,1;
you,1;
that,1;
has,1;
easier,1;
speed.,1;
I,1;
highly,1;
taught,,1;
chapter,,1;
we’ve,1;
your,1;
looked,1;
ecosystem,1;
you,1;
your,1;
ecosystem
yourself.,1;
you,1;
next,1;
your,1;
now,1;
that,1;
has,1;
reached,1;
its,1;
with,1;
little
more,1;
165
alignment,,1;
212
allocations,,1;
Guidelines,,1;
method,,1;
type,,1;
39,,1;
programming
asynchronous,1;
216–217
lang_start,,1;
205
no_std,,1;
21
should_panic,,1;
80
autotraits,,1;
33,,1;
54–55
Awesome,1;
function,,1;
checks,,1;
type,,1;
157
Box<dyn,1;
type,,1;
60–61
BufReader,1;
20
bytes,1;
204
caller-managed,1;
conventions,,1;
Cargo,1;
Book,,1;
225
cargo,1;
225
casting,,1;
type,,1;
78
cfg!,1;
126,,1;
27,,1;
method,,1;
232
code,1;
method,,1;
method,,1;
187
compilation,,1;
parallelism,,1;
practices,,1;
168–171
lower-level,,1;
172–175
multithreading,1;
dependencies,,1;
53–55
contravariance,,1;
16
Copy,1;
30–31
Cow,1;
type,,1;
231–232
crate,1;
39,,1;
59
doctests,,1;
90–92
documentation,,1;
47–48,,1;
function,,1;
method,,1;
58
Error,1;
135
existential,1;
34–35
explicit,1;
24
features,,1;
Atomic*,1;
method,,1;
230
frames,,1;
stack,,1;
5–6
freeing,,1;
6
From,1;
63
function-like,1;
99
drop_in_place,,1;
230–231
ManuallyDrop::drop,,1;
149
mem::replace,,1;
231
read_unaligned,,1;
149–150
Waker::from_raw,,1;
150
write_volatile,,1;
attribute,,1;
30
fused,1;
futures,,1;
55
higher-ranked,1;
bounds,,1;
32
host,1;
lifetimes,,1;
104–105
Guide,1;
type,,1;
89
hash,1;
tables,,1;
234
inherent,1;
41
Inside,1;
method,,1;
dependencies,,1;
function,,1;
Ralf,,1;
attribute,,1;
futures,,1;
6
Learn,1;
with,1;
212
bindgen,,1;
225
flume,,1;
(continued)
hdrhistogram,,1;
226
heapless,,1;
226
Loom,,1;
113,,1;
227
standard,,1;
227
tower,,1;
113,,1;
scalability,,1;
195–198
link-time,1;
92–93
The,1;
Book,1;
Book,1;
241
lock,1;
oversharing,,1;
type,,1;
function,,1;
149
marker,1;
106–107
MaybeUninit<T>,1;
type,,1;
239
McSherry,,1;
217
operations,,1;
177–178
out-of-memory,1;
5–6
static,1;
178–184
acquire,,1;
180–181
release,,1;
function,,1;
232
compare_exchange,,1;
187
Error::source,,1;
Atomic*,1;
187–188
Formatter::debug_*,,1;
233
Option::transpose,,1;
233
mid-level,1;
attribute,,1;
49
mutable,1;
10–11
mutual,1;
practices,,1;
38
naturally,1;
145,,1;
attribute,,1;
attribute,,1;
attribute,,1;
241
O
object,1;
195
object-safe,1;
27,,1;
type,,1;
errors,,1;
dependencies,,1;
method,,1;
method,,1;
method,,1;
type,,1;
178–184
orphan,1;
rule,,1;
crates,,1;
attribute,,1;
73–74
perfect,1;
scalability,,1;
type,,1;
127–133
pin-project,1;
113,,1;
221–222
pointers
frame,1;
233–234
opaque,1;
casting,,1;
128,,1;
134
standardized,1;
236–237
primitive,1;
38
privacy,1;
boundary,,1;
75–79
program,1;
240–241
promises,,1;
module,,1;
144–147
raw,1;
function,,1;
function,,1;
150
Index
249re-exports,,1;
180–181
release,1;
attribute,,1;
2–3
repr(transparent),,1;
type,,1;
method,,1;
199
runtime,,1;
Action,,1;
Guidelines,,1;
Book,,1;
Language,1;
Sheet,,1;
Book,,1;
241–242
The,1;
Programming,1;
Quiz,,1;
Reference,,1;
80,,1;
237
RFC,1;
Unsafe,1;
Reference,,1;
148,,1;
137
self-referential,1;
versioning,,1;
80
semver,1;
39,,1;
40
Serialize,1;
concurrency,
172–173
shared,1;
attribute,,1;
23–24
slab,1;
function,,1;
104
stack,1;
frames,,1;
Library,1;
25
‘static,1;
lifetime,,1;
189
structopt,1;
39,,1;
with,1;
JT,,1;
202
target,1;
90–92
performance,,1;
94–95
stress,1;
189
test,1;
86–87
test-only,1;
238
thiserror,1;
function,,1;
113,,1;
bounds,,1;
40–41
autotraits,,1;
33,,1;
27
coherence,,1;
39,,1;
52–53
Deserialize,,1;
bounds,,1;
33
object-safe,,1;
27,,1;
rule,,1;
52–53
Send,,1;
39,,1;
205–206
Serialize,,1;
23–24
Sync,,1;
39,,1;
bounds,,1;
239
type-erased,1;
errors,,1;
200–202
types,,1;
231–232
Arc,,1;
39,,1;
177–178
Box,,1;
157
Box<dyn,1;
60–61
BufReader,1;
12
common,1;
157–158
in,1;
178–184
Pin,,1;
casting,,1;
128,,1;
61–62
Sized,,1;
23–24
Vec,,1;
49
type,1;
23
Unpin,1;
83–84
unsafe,,1;
2–3
ownership,1;
4–5
overview,,1;
16
covariance,,1;
16
invariance,,1;
type,,1;
type,,1;
method,,1;
method,1;
tables,1;
function,,1;
Language,1;
155
Weak,1;
type,,1;
function,,1;
150
write_volatile,1;
function,,1;
125
Z
zero-sized,1;
229Rust,1;
set,1;
New,1;
was,1;
Chelsea,,1;
has,1;
so,1;
Foundation’s,1;
that,1;
technology
supports,1;
freedom,,1;
all,1;
has,1;
fought,1;
your,1;
security,,1;
all,1;
help,1;
toward,1;
brighter,1;
JOIN,1;
https://nostarch.com/rust-rustaceans/,1;
PRESS
DESIGNING,1;
Guide,1;
Guide,1;
New,1;
nichols
552,1;
OF,1;
WEBASSEMBLY
Build,1;
LIFE,1;
Should,1;
brian,1;
review,1;
by
D,1;
I,1;
N,1;
mastered,1;
next,1;
your,1;
way,1;
programming,1;
you,1;
applications,1;
your,1;
projects.•,1;
Work,1;
with,1;
futures,,1;
Gjengset,1;
takes,1;
you,1;
deep,1;
into,1;
dissecting,1;
core,1;
unsafe,1;
key
concepts,1;
coherence,,1;
into
the,1;
inner,1;
workings,1;
with,1;
Gjengset
also,1;
design,,1;
testing
strategies,,1;
error,1;
develop,1;
foreign,1;
procedural,1;
much,1;
that,1;
with,1;
learn,1;
Design,1;
reliable,,1;
declarative
and,1;
procedural,1;
with,1;
unsafe,1;
configure,1;
integrate,1;
with,1;
with,1;
that
you,1;
apply,,1;
you,1;
with,1;
you,1;
Gjengset,1;
has,1;
His,1;
popular,1;
“Crust,1;
variance,,1;
dynamic,1;
ecosystem,,1;
This
is,1;
OF,1;
I,1;
N,1;
S,1;
I,1;
N,1;
N,1;
I,1;
N,1;
N,1;
